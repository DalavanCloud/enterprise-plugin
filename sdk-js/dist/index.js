!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var r in n)("object"==typeof exports?exports:e)[r]=n[r]}}(global,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=77)}([function(e,t,n){"use strict";var r,o=n(5),i=Symbol("elasticAPMIsWrapped");function s(){return r||(r=n(26)),r.logger}function a(e){return e&&"[object Function]"==={}.toString.call(e)}function u(e,t,n){if(e&&e[t]){if(!n)return s.debug("no wrapper function"),void s().debug((new Error).stack);if(a(e[t])&&a(n))if(e[t][i])s().debug("function %s already wrapped",t);else{var r=Object.getOwnPropertyDescriptor(e,t);if(!r||r.writable){var u=e[t],c=n(u,t);return c[i]=!0,c[o.unwrap]=function(){e[t]===c&&(e[t]=u,c[i]=!1)},e[t]=c,c}s().debug("function %s is not writable",t)}else s().debug("original object and wrapper must be functions")}else s().debug("no original function %s to wrap",t)}t.wrap=u,t.massWrap=function(e,t,n){if(!e)return s().debug("must provide one or more modules to patch"),void s().debug((new Error).stack);Array.isArray(e)||(e=[e]);if(!t||!Array.isArray(t))return void s().debug("must provide one or more functions to wrap on modules");e.forEach(function(e){t.forEach(function(t){u(e,t,n)})})},t.unwrap=function(e,t){if(!e||!e[t])return s().debug("no function to unwrap."),void s().debug((new Error).stack);if(e[t][o.unwrap])return e[t][o.unwrap]();s().debug("no original to unwrap to -- has %s already been unwrapped?",t)},t.isWrapped=function(e){return e&&e[i]}},function(e,t){var n;t=e.exports=Z,n="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:function(){},t.SEMVER_SPEC_VERSION="2.0.0";var r=256,o=Number.MAX_SAFE_INTEGER||9007199254740991,i=t.re=[],s=t.src=[],a=0,u=a++;s[u]="0|[1-9]\\d*";var c=a++;s[c]="[0-9]+";var l=a++;s[l]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var f=a++;s[f]="("+s[u]+")\\.("+s[u]+")\\.("+s[u]+")";var p=a++;s[p]="("+s[c]+")\\.("+s[c]+")\\.("+s[c]+")";var h=a++;s[h]="(?:"+s[u]+"|"+s[l]+")";var d=a++;s[d]="(?:"+s[c]+"|"+s[l]+")";var g=a++;s[g]="(?:-("+s[h]+"(?:\\."+s[h]+")*))";var m=a++;s[m]="(?:-?("+s[d]+"(?:\\."+s[d]+")*))";var v=a++;s[v]="[0-9A-Za-z-]+";var y=a++;s[y]="(?:\\+("+s[v]+"(?:\\."+s[v]+")*))";var _=a++,b="v?"+s[f]+s[g]+"?"+s[y]+"?";s[_]="^"+b+"$";var w="[v=\\s]*"+s[p]+s[m]+"?"+s[y]+"?",S=a++;s[S]="^"+w+"$";var x=a++;s[x]="((?:<|>)?=?)";var E=a++;s[E]=s[c]+"|x|X|\\*";var A=a++;s[A]=s[u]+"|x|X|\\*";var C=a++;s[C]="[v=\\s]*("+s[A]+")(?:\\.("+s[A]+")(?:\\.("+s[A]+")(?:"+s[g]+")?"+s[y]+"?)?)?";var L=a++;s[L]="[v=\\s]*("+s[E]+")(?:\\.("+s[E]+")(?:\\.("+s[E]+")(?:"+s[m]+")?"+s[y]+"?)?)?";var k=a++;s[k]="^"+s[x]+"\\s*"+s[C]+"$";var O=a++;s[O]="^"+s[x]+"\\s*"+s[L]+"$";var T=a++;s[T]="(?:^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])";var N=a++;s[N]="(?:~>?)";var j=a++;s[j]="(\\s*)"+s[N]+"\\s+",i[j]=new RegExp(s[j],"g");var P=a++;s[P]="^"+s[N]+s[C]+"$";var R=a++;s[R]="^"+s[N]+s[L]+"$";var I=a++;s[I]="(?:\\^)";var M=a++;s[M]="(\\s*)"+s[I]+"\\s+",i[M]=new RegExp(s[M],"g");var q=a++;s[q]="^"+s[I]+s[C]+"$";var F=a++;s[F]="^"+s[I]+s[L]+"$";var D=a++;s[D]="^"+s[x]+"\\s*("+w+")$|^$";var U=a++;s[U]="^"+s[x]+"\\s*("+b+")$|^$";var G=a++;s[G]="(\\s*)"+s[x]+"\\s*("+w+"|"+s[C]+")",i[G]=new RegExp(s[G],"g");var B=a++;s[B]="^\\s*("+s[C]+")\\s+-\\s+("+s[C]+")\\s*$";var $=a++;s[$]="^\\s*("+s[L]+")\\s+-\\s+("+s[L]+")\\s*$";var z=a++;s[z]="(<|>)?=?\\s*\\*";for(var W=0;W<a;W++)n(W,s[W]),i[W]||(i[W]=new RegExp(s[W]));function V(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof Z)return e;if("string"!=typeof e)return null;if(e.length>r)return null;if(!(t.loose?i[S]:i[_]).test(e))return null;try{return new Z(e,t)}catch(e){return null}}function Z(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof Z){if(e.loose===t.loose)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>r)throw new TypeError("version is longer than "+r+" characters");if(!(this instanceof Z))return new Z(e,t);n("SemVer",e,t),this.options=t,this.loose=!!t.loose;var s=e.trim().match(t.loose?i[S]:i[_]);if(!s)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+s[1],this.minor=+s[2],this.patch=+s[3],this.major>o||this.major<0)throw new TypeError("Invalid major version");if(this.minor>o||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>o||this.patch<0)throw new TypeError("Invalid patch version");s[4]?this.prerelease=s[4].split(".").map(function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<o)return t}return e}):this.prerelease=[],this.build=s[5]?s[5].split("."):[],this.format()}t.parse=V,t.valid=function(e,t){var n=V(e,t);return n?n.version:null},t.clean=function(e,t){var n=V(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null},t.SemVer=Z,Z.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},Z.prototype.toString=function(){return this.version},Z.prototype.compare=function(e){return n("SemVer.compare",this.version,this.options,e),e instanceof Z||(e=new Z(e,this.options)),this.compareMain(e)||this.comparePre(e)},Z.prototype.compareMain=function(e){return e instanceof Z||(e=new Z(e,this.options)),H(this.major,e.major)||H(this.minor,e.minor)||H(this.patch,e.patch)},Z.prototype.comparePre=function(e){if(e instanceof Z||(e=new Z(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var r=this.prerelease[t],o=e.prerelease[t];if(n("prerelease compare",t,r,o),void 0===r&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===r)return-1;if(r!==o)return H(r,o)}while(++t)},Z.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var n=this.prerelease.length;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);-1===n&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this},t.inc=function(e,t,n,r){"string"==typeof n&&(r=n,n=void 0);try{return new Z(e,n).inc(t,r).version}catch(e){return null}},t.diff=function(e,t){if(J(e,t))return null;var n=V(e),r=V(t);if(n.prerelease.length||r.prerelease.length){for(var o in n)if(("major"===o||"minor"===o||"patch"===o)&&n[o]!==r[o])return"pre"+o;return"prerelease"}for(var o in n)if(("major"===o||"minor"===o||"patch"===o)&&n[o]!==r[o])return o},t.compareIdentifiers=H;var K=/^[0-9]+$/;function H(e,t){var n=K.test(e),r=K.test(t);return n&&r&&(e=+e,t=+t),n&&!r?-1:r&&!n?1:e<t?-1:e>t?1:0}function Y(e,t,n){return new Z(e,n).compare(new Z(t,n))}function X(e,t,n){return Y(e,t,n)>0}function Q(e,t,n){return Y(e,t,n)<0}function J(e,t,n){return 0===Y(e,t,n)}function ee(e,t,n){return 0!==Y(e,t,n)}function te(e,t,n){return Y(e,t,n)>=0}function ne(e,t,n){return Y(e,t,n)<=0}function re(e,t,n,r){var o;switch(t){case"===":"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),o=e===n;break;case"!==":"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),o=e!==n;break;case"":case"=":case"==":o=J(e,n,r);break;case"!=":o=ee(e,n,r);break;case">":o=X(e,n,r);break;case">=":o=te(e,n,r);break;case"<":o=Q(e,n,r);break;case"<=":o=ne(e,n,r);break;default:throw new TypeError("Invalid operator: "+t)}return o}function oe(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof oe){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof oe))return new oe(e,t);n("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===ie?this.value="":this.value=this.operator+this.semver.version,n("comp",this)}t.rcompareIdentifiers=function(e,t){return H(t,e)},t.major=function(e,t){return new Z(e,t).major},t.minor=function(e,t){return new Z(e,t).minor},t.patch=function(e,t){return new Z(e,t).patch},t.compare=Y,t.compareLoose=function(e,t){return Y(e,t,!0)},t.rcompare=function(e,t,n){return Y(t,e,n)},t.sort=function(e,n){return e.sort(function(e,r){return t.compare(e,r,n)})},t.rsort=function(e,n){return e.sort(function(e,r){return t.rcompare(e,r,n)})},t.gt=X,t.lt=Q,t.eq=J,t.neq=ee,t.gte=te,t.lte=ne,t.cmp=re,t.Comparator=oe;var ie={};function se(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof se)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new se(e.raw,t);if(e instanceof oe)return new se(e.value,t);if(!(this instanceof se))return new se(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map(function(e){return this.parseRange(e.trim())},this).filter(function(e){return e.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}function ae(e){return!e||"x"===e.toLowerCase()||"*"===e}function ue(e,t,n,r,o,i,s,a,u,c,l,f,p){return((t=ae(n)?"":ae(r)?">="+n+".0.0":ae(o)?">="+n+"."+r+".0":">="+t)+" "+(a=ae(u)?"":ae(c)?"<"+(+u+1)+".0.0":ae(l)?"<"+u+"."+(+c+1)+".0":f?"<="+u+"."+c+"."+l+"-"+f:"<="+a)).trim()}function ce(e,t,r){for(var o=0;o<e.length;o++)if(!e[o].test(t))return!1;if(r||(r={}),t.prerelease.length&&!r.includePrerelease){for(o=0;o<e.length;o++)if(n(e[o].semver),e[o].semver!==ie&&e[o].semver.prerelease.length>0){var i=e[o].semver;if(i.major===t.major&&i.minor===t.minor&&i.patch===t.patch)return!0}return!1}return!0}function le(e,t,n){try{t=new se(t,n)}catch(e){return!1}return t.test(e)}function fe(e,t,n,r){var o,i,s,a,u;switch(e=new Z(e,r),t=new se(t,r),n){case">":o=X,i=ne,s=Q,a=">",u=">=";break;case"<":o=Q,i=te,s=X,a="<",u="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(le(e,t,r))return!1;for(var c=0;c<t.set.length;++c){var l=null,f=null;if(t.set[c].forEach(function(e){e.semver===ie&&(e=new oe(">=0.0.0")),l=l||e,f=f||e,o(e.semver,l.semver,r)?l=e:s(e.semver,f.semver,r)&&(f=e)}),l.operator===a||l.operator===u)return!1;if((!f.operator||f.operator===a)&&i(e,f.semver))return!1;if(f.operator===u&&s(e,f.semver))return!1}return!0}oe.prototype.parse=function(e){var t=this.options.loose?i[D]:i[U],n=e.match(t);if(!n)throw new TypeError("Invalid comparator: "+e);this.operator=n[1],"="===this.operator&&(this.operator=""),n[2]?this.semver=new Z(n[2],this.options.loose):this.semver=ie},oe.prototype.toString=function(){return this.value},oe.prototype.test=function(e){return n("Comparator.test",e,this.options.loose),this.semver===ie||("string"==typeof e&&(e=new Z(e,this.options)),re(e,this.operator,this.semver,this.options))},oe.prototype.intersects=function(e,t){if(!(e instanceof oe))throw new TypeError("a Comparator is required");var n;if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),""===this.operator)return n=new se(e.value,t),le(this.value,n,t);if(""===e.operator)return n=new se(this.value,t),le(e.semver,n,t);var r=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),o=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),i=this.semver.version===e.semver.version,s=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),a=re(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),u=re(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return r||o||i&&s||a||u},t.Range=se,se.prototype.format=function(){return this.range=this.set.map(function(e){return e.join(" ").trim()}).join("||").trim(),this.range},se.prototype.toString=function(){return this.range},se.prototype.parseRange=function(e){var t=this.options.loose;e=e.trim();var r=t?i[$]:i[B];e=e.replace(r,ue),n("hyphen replace",e),e=e.replace(i[G],"$1$2$3"),n("comparator trim",e,i[G]),e=(e=(e=e.replace(i[j],"$1~")).replace(i[M],"$1^")).split(/\s+/).join(" ");var o=t?i[D]:i[U],s=e.split(" ").map(function(e){return function(e,t){return n("comp",e,t),e=function(e,t){return e.trim().split(/\s+/).map(function(e){return function(e,t){n("caret",e,t),t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1});var r=t.loose?i[F]:i[q];return e.replace(r,function(t,r,o,i,s){var a;return n("caret",e,t,r,o,i,s),ae(r)?a="":ae(o)?a=">="+r+".0.0 <"+(+r+1)+".0.0":ae(i)?a="0"===r?">="+r+"."+o+".0 <"+r+"."+(+o+1)+".0":">="+r+"."+o+".0 <"+(+r+1)+".0.0":s?(n("replaceCaret pr",s),"-"!==s.charAt(0)&&(s="-"+s),a="0"===r?"0"===o?">="+r+"."+o+"."+i+s+" <"+r+"."+o+"."+(+i+1):">="+r+"."+o+"."+i+s+" <"+r+"."+(+o+1)+".0":">="+r+"."+o+"."+i+s+" <"+(+r+1)+".0.0"):(n("no pr"),a="0"===r?"0"===o?">="+r+"."+o+"."+i+" <"+r+"."+o+"."+(+i+1):">="+r+"."+o+"."+i+" <"+r+"."+(+o+1)+".0":">="+r+"."+o+"."+i+" <"+(+r+1)+".0.0"),n("caret return",a),a})}(e,t)}).join(" ")}(e,t),n("caret",e),e=function(e,t){return e.trim().split(/\s+/).map(function(e){return function(e,t){t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1});var r=t.loose?i[R]:i[P];return e.replace(r,function(t,r,o,i,s){var a;return n("tilde",e,t,r,o,i,s),ae(r)?a="":ae(o)?a=">="+r+".0.0 <"+(+r+1)+".0.0":ae(i)?a=">="+r+"."+o+".0 <"+r+"."+(+o+1)+".0":s?(n("replaceTilde pr",s),"-"!==s.charAt(0)&&(s="-"+s),a=">="+r+"."+o+"."+i+s+" <"+r+"."+(+o+1)+".0"):a=">="+r+"."+o+"."+i+" <"+r+"."+(+o+1)+".0",n("tilde return",a),a})}(e,t)}).join(" ")}(e,t),n("tildes",e),e=function(e,t){return n("replaceXRanges",e,t),e.split(/\s+/).map(function(e){return function(e,t){e=e.trim(),t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1});var r=t.loose?i[O]:i[k];return e.replace(r,function(t,r,o,i,s,a){n("xRange",e,t,r,o,i,s,a);var u=ae(o),c=u||ae(i),l=c||ae(s),f=l;return"="===r&&f&&(r=""),u?t=">"===r||"<"===r?"<0.0.0":"*":r&&f?(c&&(i=0),l&&(s=0),">"===r?(r=">=",c?(o=+o+1,i=0,s=0):l&&(i=+i+1,s=0)):"<="===r&&(r="<",c?o=+o+1:i=+i+1),t=r+o+"."+i+"."+s):c?t=">="+o+".0.0 <"+(+o+1)+".0.0":l&&(t=">="+o+"."+i+".0 <"+o+"."+(+i+1)+".0"),n("xRange return",t),t})}(e,t)}).join(" ")}(e,t),n("xrange",e),e=function(e,t){return n("replaceStars",e,t),e.trim().replace(i[z],"")}(e,t),n("stars",e),e}(e,this.options)},this).join(" ").split(/\s+/);return this.options.loose&&(s=s.filter(function(e){return!!e.match(o)})),s=s.map(function(e){return new oe(e,this.options)},this)},se.prototype.intersects=function(e,t){if(!(e instanceof se))throw new TypeError("a Range is required");return this.set.some(function(n){return n.every(function(n){return e.set.some(function(e){return e.every(function(e){return n.intersects(e,t)})})})})},t.toComparators=function(e,t){return new se(e,t).set.map(function(e){return e.map(function(e){return e.value}).join(" ").trim().split(" ")})},se.prototype.test=function(e){if(!e)return!1;"string"==typeof e&&(e=new Z(e,this.options));for(var t=0;t<this.set.length;t++)if(ce(this.set[t],e,this.options))return!0;return!1},t.satisfies=le,t.maxSatisfying=function(e,t,n){var r=null,o=null;try{var i=new se(t,n)}catch(e){return null}return e.forEach(function(e){i.test(e)&&(r&&-1!==o.compare(e)||(o=new Z(r=e,n)))}),r},t.minSatisfying=function(e,t,n){var r=null,o=null;try{var i=new se(t,n)}catch(e){return null}return e.forEach(function(e){i.test(e)&&(r&&1!==o.compare(e)||(o=new Z(r=e,n)))}),r},t.validRange=function(e,t){try{return new se(e,t).range||"*"}catch(e){return null}},t.ltr=function(e,t,n){return fe(e,t,"<",n)},t.gtr=function(e,t,n){return fe(e,t,">",n)},t.outside=fe,t.prerelease=function(e,t){var n=V(e,t);return n&&n.prerelease.length?n.prerelease:null},t.intersects=function(e,t,n){return e=new se(e,n),t=new se(t,n),e.intersects(t)},t.coerce=function(e){if(e instanceof Z)return e;if("string"!=typeof e)return null;var t=e.match(i[T]);return null==t?null:V((t[1]||"0")+"."+(t[2]||"0")+"."+(t[3]||"0"))}},function(e,t){e.exports=require("path")},function(e,t){e.exports=require("fs")},function(e,t){e.exports=require("util")},function(e,t,n){"use strict";t.unwrap=Symbol("ElasticAPMUnwrap"),t.agentInitialized=Symbol("ElasticAPMAgentInitialized"),t.knexStackObj=Symbol("ElasticAPMKnexStackObj"),t.staticFile=Symbol("ElasticAPMStaticFile"),t.expressMountStack=Symbol("ElasticAPMExpressMountStack"),t.errorReportedSymbol=Symbol("ElasticAPMErrorReported")},function(e,t){e.exports=require("url")},function(e,t,n){"use strict";e.exports=function(e){var t,n,r=0,o=[];return process.nextTick(function(){n||e(null,o)}),function(i){n=!0;var s=r++;return function(n,a){i&&i.apply(null,arguments),n&&!t&&(t=n),o[s]=a,process.nextTick(function(){--r||e(t,o)})}}}},function(e,t){t.getArg=function(e,t,n){if(t in e)return e[t];if(3===arguments.length)return n;throw new Error('"'+t+'" is a required argument.')};var n=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.]*)(?::(\d+))?(\S*)$/,r=/^data:.+\,.+$/;function o(e){var t=e.match(n);return t?{scheme:t[1],auth:t[2],host:t[3],port:t[4],path:t[5]}:null}function i(e){var t="";return e.scheme&&(t+=e.scheme+":"),t+="//",e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t}function s(e){var n=e,r=o(e);if(r){if(!r.path)return e;n=r.path}for(var s,a=t.isAbsolute(n),u=n.split(/\/+/),c=0,l=u.length-1;l>=0;l--)"."===(s=u[l])?u.splice(l,1):".."===s?c++:c>0&&(""===s?(u.splice(l+1,c),c=0):(u.splice(l,2),c--));return""===(n=u.join("/"))&&(n=a?"/":"."),r?(r.path=n,i(r)):n}t.urlParse=o,t.urlGenerate=i,t.normalize=s,t.join=function(e,t){""===e&&(e="."),""===t&&(t=".");var n=o(t),a=o(e);if(a&&(e=a.path||"/"),n&&!n.scheme)return a&&(n.scheme=a.scheme),i(n);if(n||t.match(r))return t;if(a&&!a.host&&!a.path)return a.host=t,i(a);var u="/"===t.charAt(0)?t:s(e.replace(/\/+$/,"")+"/"+t);return a?(a.path=u,i(a)):u},t.isAbsolute=function(e){return"/"===e.charAt(0)||!!e.match(n)},t.relative=function(e,t){""===e&&(e="."),e=e.replace(/\/$/,"");for(var n=0;0!==t.indexOf(e+"/");){var r=e.lastIndexOf("/");if(r<0)return t;if((e=e.slice(0,r)).match(/^([^\/]+:\/)?\/*$/))return t;++n}return Array(n+1).join("../")+t.substr(e.length+1)};var a=!("__proto__"in Object.create(null));function u(e){return e}function c(e){if(!e)return!1;var t=e.length;if(t<9)return!1;if(95!==e.charCodeAt(t-1)||95!==e.charCodeAt(t-2)||111!==e.charCodeAt(t-3)||116!==e.charCodeAt(t-4)||111!==e.charCodeAt(t-5)||114!==e.charCodeAt(t-6)||112!==e.charCodeAt(t-7)||95!==e.charCodeAt(t-8)||95!==e.charCodeAt(t-9))return!1;for(var n=t-10;n>=0;n--)if(36!==e.charCodeAt(n))return!1;return!0}function l(e,t){return e===t?0:e>t?1:-1}t.toSetString=a?u:function(e){return c(e)?"$"+e:e},t.fromSetString=a?u:function(e){return c(e)?e.slice(1):e},t.compareByOriginalPositions=function(e,t,n){var r=e.source-t.source;return 0!==r?r:0!=(r=e.originalLine-t.originalLine)?r:0!=(r=e.originalColumn-t.originalColumn)||n?r:0!=(r=e.generatedColumn-t.generatedColumn)?r:0!=(r=e.generatedLine-t.generatedLine)?r:e.name-t.name},t.compareByGeneratedPositionsDeflated=function(e,t,n){var r=e.generatedLine-t.generatedLine;return 0!==r?r:0!=(r=e.generatedColumn-t.generatedColumn)||n?r:0!=(r=e.source-t.source)?r:0!=(r=e.originalLine-t.originalLine)?r:0!=(r=e.originalColumn-t.originalColumn)?r:e.name-t.name},t.compareByGeneratedPositionsInflated=function(e,t){var n=e.generatedLine-t.generatedLine;return 0!==n?n:0!=(n=e.generatedColumn-t.generatedColumn)?n:0!==(n=l(e.source,t.source))?n:0!=(n=e.originalLine-t.originalLine)?n:0!=(n=e.originalColumn-t.originalColumn)?n:l(e.name,t.name)}},function(e,t,n){"use strict";var r=/[\s;]+/g,o=/([;()])/g;function i(e,t){var n;Array.isArray(e)||(e=[e]),e=e.map(function(e){return e.toUpperCase()});for(var r=0,o=t.length-1;r<o;r++)if(-1!==(n=e.indexOf(t[r].toUpperCase())))return[e[n],t[r+1]]}e.exports=function(e){return e?function(e){return[e[0].toUpperCase()].concat(function(e){switch(e[0].toUpperCase()){case"SELECT":return i("FROM",e);case"INSERT":return i("INTO",e);case"UPDATE":return e[1];case"DELETE":return i("FROM",e);case"CREATE":return i(["DATABASE","TABLE","INDEX"],e);case"DROP":return i(["DATABASE","TABLE"],e);case"ALTER":return i("TABLE",e);case"DESC":return e[1];case"TRUNCATE":return i("TABLE",e);case"USE":return e[1]}}(e)).filter(function(e){return!!e})}(function(e){return function(e){return e.replace(o," $1 ").replace(r," ").trim()}(e).split(" ")}(e)).join(" "):""}},function(e,t){function n(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===n(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===n(e)},t.isObject=function(e){return"object"==typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===n(e)},t.isError=function(e){return"[object Error]"===n(e)||e instanceof Error},t.isFunction=function(e){return"function"==typeof e},t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=Buffer.isBuffer},function(e,t,n){"use strict";var r=n(130),o=n(133);e.exports=function(e,t){if("string"!=typeof e)throw new Error("Expected first argument to be a string");if(!r(t)||t<0)throw new Error("Expected second argument be an integer greater than or equal to 0");for(var n=t;Buffer.byteLength(e)>n;)e=o(e,0,t--);return e}},function(e,t){e.exports=require("os")},function(e,t){e.exports=require("http")},function(e,t,n){"use strict";var r=n(3),o=n(12),i=n(2),s=n(92),a=n(93),u=n(94),c=n(11);_.INTAKE_STRING_MAX_SIZE=1024,_.CAPTURE_ERROR_LOG_STACK_TRACES_NEVER="never",_.CAPTURE_ERROR_LOG_STACK_TRACES_MESSAGES="messages",_.CAPTURE_ERROR_LOG_STACK_TRACES_ALWAYS="always",e.exports=_;var l=i.resolve(process.env.ELASTIC_APM_CONFIG_FILE||"elastic-apm-node.js");if(r.existsSync(l))try{var f=n(35)(l)}catch(e){console.error("Elastic APM initialization error: Can't read config file %s",l),console.error(e.stack)}let p;try{p=u.sync().pkg.name}catch(e){}var h={verifyServerCert:!0,active:!0,logLevel:"info",hostname:o.hostname(),stackTraceLimit:50,captureExceptions:!0,filterHttpHeaders:!0,captureErrorLogStackTraces:_.CAPTURE_ERROR_LOG_STACK_TRACES_MESSAGES,captureSpanStackTraces:!0,captureBody:"off",errorOnAbortedRequests:!1,abortedErrorThreshold:25e3,instrument:!0,asyncHooks:!0,sourceLinesErrorAppFrames:5,sourceLinesErrorLibraryFrames:5,sourceLinesSpanAppFrames:0,sourceLinesSpanLibraryFrames:0,errorMessageMaxLength:2048,flushInterval:10,transactionMaxSpans:500,transactionSampleRate:1,maxQueueSize:100,serverTimeout:30,disableInstrumentations:[]},d={serviceName:"ELASTIC_APM_SERVICE_NAME",secretToken:"ELASTIC_APM_SECRET_TOKEN",serverUrl:"ELASTIC_APM_SERVER_URL",verifyServerCert:"ELASTIC_APM_VERIFY_SERVER_CERT",serviceVersion:"ELASTIC_APM_SERVICE_VERSION",active:"ELASTIC_APM_ACTIVE",logLevel:"ELASTIC_APM_LOG_LEVEL",hostname:"ELASTIC_APM_HOSTNAME",frameworkName:"ELASTIC_APM_FRAMEWORK_NAME",frameworkVersion:"ELASTIC_APM_FRAMEWORK_VERSION",stackTraceLimit:"ELASTIC_APM_STACK_TRACE_LIMIT",captureExceptions:"ELASTIC_APM_CAPTURE_EXCEPTIONS",filterHttpHeaders:"ELASTIC_APM_FILTER_HTTP_HEADERS",captureErrorLogStackTraces:"ELASTIC_APM_CAPTURE_ERROR_LOG_STACK_TRACES",captureSpanStackTraces:"ELASTIC_APM_CAPTURE_SPAN_STACK_TRACES",captureBody:"ELASTIC_APM_CAPTURE_BODY",errorOnAbortedRequests:"ELASTIC_APM_ERROR_ON_ABORTED_REQUESTS",abortedErrorThreshold:"ELASTIC_APM_ABORTED_ERROR_THRESHOLD",instrument:"ELASTIC_APM_INSTRUMENT",flushInterval:"ELASTIC_APM_FLUSH_INTERVAL",maxQueueSize:"ELASTIC_APM_MAX_QUEUE_SIZE",asyncHooks:"ELASTIC_APM_ASYNC_HOOKS",sourceLinesErrorAppFrames:"ELASTIC_APM_SOURCE_LINES_ERROR_APP_FRAMES",sourceLinesErrorLibraryFrames:"ELASTIC_APM_SOURCE_LINES_ERROR_LIBRARY_FRAMES",sourceLinesSpanAppFrames:"ELASTIC_APM_SOURCE_LINES_SPAN_APP_FRAMES",sourceLinesSpanLibraryFrames:"ELASTIC_APM_SOURCE_LINES_SPAN_LIBRARY_FRAMES",errorMessageMaxLength:"ELASTIC_APM_ERROR_MESSAGE_MAX_LENGTH",transactionMaxSpans:"ELASTIC_APM_TRANSACTION_MAX_SPANS",transactionSampleRate:"ELASTIC_APM_TRANSACTION_SAMPLE_RATE",serverTimeout:"ELASTIC_APM_SERVER_TIMEOUT",disableInstrumentations:"ELASTIC_APM_DISABLE_INSTRUMENTATIONS"},g=["verifyServerCert","active","captureExceptions","filterHttpHeaders","captureSpanStackTraces","errorOnAbortedRequests","instrument","asyncHooks"],m=["stackTraceLimit","abortedErrorThreshold","flushInterval","maxQueueSize","sourceLinesErrorAppFrames","sourceLinesErrorLibraryFrames","sourceLinesSpanAppFrames","sourceLinesSpanLibraryFrames","errorMessageMaxLength","transactionMaxSpans","transactionSampleRate","serverTimeout"],v=["maxQueueSize","transactionMaxSpans"],y=["disableInstrumentations"];function _(e){return(e=Object.assign({},h,function(){var e={};return Object.keys(d).forEach(function(t){var n=d[t];n in process.env&&(e[t]=process.env[n])}),e}(),f,e)).serviceName||(e.serviceName=p),function(e){e.ignoreUrlStr=[],e.ignoreUrlRegExp=[],e.ignoreUserAgentStr=[],e.ignoreUserAgentRegExp=[],e.ignoreUrls&&(e.ignoreUrls.forEach(function(t){"string"==typeof t?e.ignoreUrlStr.push(t):e.ignoreUrlRegExp.push(t)}),delete e.ignoreUrls);e.ignoreUserAgents&&(e.ignoreUserAgents.forEach(function(t){"string"==typeof t?e.ignoreUserAgentStr.push(t):e.ignoreUserAgentRegExp.push(t)}),delete e.ignoreUserAgents)}(e),function(e){m.forEach(function(t){t in e&&(e[t]=Number(e[t]))}),v.forEach(function(t){-1===e[t]&&(e[t]=1/0)})}(e),function(e){y.forEach(function(t){t in e&&(e[t]=function(e){return"string"==typeof e?e.split(","):e}(e[t]))})}(e),function(e){g.forEach(function(t){t in e&&(e[t]=a(e[t]))})}(e),function(e){e.serviceVersion&&(e.serviceVersion=c(String(e.serviceVersion),_.INTAKE_STRING_MAX_SIZE));e.hostname&&(e.hostname=c(String(e.hostname),_.INTAKE_STRING_MAX_SIZE))}(e),"function"!=typeof e.logger&&(e.logger=s({level:e.logLevel})),e}},function(e,t){e.exports=require("assert")},function(e,t,n){var r=process.versions&&process.versions.node&&process.versions.node.split(".")||[];function o(e){for(var t=e.split(" "),n=t.length>1?t[0]:"=",o=(t.length>1?t[1]:t[0]).split("."),i=0;i<3;++i){var s=Number(r[i]||0),a=Number(o[i]||0);if(s!==a)return"<"===n?s<a:">="===n&&s>=a}return">="===n}function i(e){var t=e.split(/ ?&& ?/);if(0===t.length)return!1;for(var n=0;n<t.length;++n)if(!o(t[n]))return!1;return!0}function s(e){if("boolean"==typeof e)return e;if(e&&"object"==typeof e){for(var t=0;t<e.length;++t)if(i(e[t]))return!0;return!1}return i(e)}var a=n(146),u={};for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(u[c]=s(a[c]));e.exports=u},function(e,t,n){"use strict";var r=n(4),o=n(7),i=n(154),s=n(157),a=n(161),u=n(28),c=n(11),l=n(19);t._MAX_HTTP_BODY_CHARS=2048;var f=/(ER_[A-Z_]+): /;t.parseMessage=function(e){var t={log:{}};return"string"==typeof e?t.log.message=e:"object"==typeof e&&null!==e?e.message?(t.log.message=r.format.apply(this,[e.message].concat(e.params)),t.log.param_message=e.message):t.log.message=r.inspect(e):t.log.message=String(e),t},t.parseError=function(e,n,r){l.callsites(e,function(i,s){i&&n.logger.debug("error while getting error callsites: %s",i.message);var a=String(e.message),u={exception:{message:a,type:String(e.name)}};if("code"in e)u.exception.code=String(e.code);else{var c=a.match(f);c&&(u.exception.code=c[1])}var p=l.properties(e);p.code&&delete p.code,Object.keys(p).length>0&&(u.exception.attributes=p);var h=o(function(e,t){if(t){var n=function(e){if(0===e.length)return;for(var t=e[0].filename,n=e[0].function,r=0;r<e.length;r++)if(!e[r].library_frame){t=e[r].filename,n=e[r].function;break}return t?n+" ("+t+")":n}(t),o=function(e){if(0===e.length)return;var t=e[0];if(!t.library_frame)return;var n=t.filename.match(/node_modules\/([^/]*)/);if(!n)return;return n[1]}(t);n&&(u.culprit=n),o&&(u.exception.module=o),u.exception.stacktrace=t}r(null,u)});s&&s.forEach(function(e){t.parseCallsite(e,!0,n,h())})})},t.getContextFromRequest=function(e,n){var r={http_version:e.httpVersion,method:e.method,url:s(e),socket:{remote_address:e.socket.remoteAddress,encrypted:!!e.socket.encrypted},headers:Object.assign({},e.headers)},o=parseInt(e.headers["content-length"],10),i=e.headers["transfer-encoding"],a="string"==typeof i&&"chunked"===i.toLowerCase(),l=e.json||e.body||e.payload;if(l&&(a||o>0))if(n){var f="string"==typeof l?l:function(e){try{return JSON.stringify(e)}catch(e){}}(l)||u(l);f.length>t._MAX_HTTP_BODY_CHARS&&(l=c(f,t._MAX_HTTP_BODY_CHARS)),r.body=l}else r.body="[REDACTED]";return r},t.getContextFromResponse=function(e,t){var n={status_code:e.statusCode,headers:e.headers||a(e,!0)};return t&&(n.headers_sent=e.headersSent,n.finished=e.finished),n},t.getUserContextFromRequest=function(e){var t=e.user||i(e)||e.session;if(t){var n={};return"boolean"==typeof t.authenticated&&(n.is_authenticated=t.authenticated),"string"==typeof t.id||"number"==typeof t.id?n.id=t.id:"string"!=typeof t._id&&"number"!=typeof t._id||(n.id=t._id),"string"==typeof t.username?n.username=t.username:"string"==typeof t.name&&(n.username=t.name),"string"==typeof t.email&&(n.email=t.email),n}},t.parseCallsite=function(e,t,n,r){var o=n._conf,i=e.getFileName(),s={filename:e.getRelativeFileName()||"",lineno:e.getLineNumber(),function:e.getFunctionNameSanitized(),library_frame:!e.isApp()};Number.isFinite(s.lineno)||(s.lineno=0),i&&(s.abs_path=i);var a=t?e.isApp()?o.sourceLinesErrorAppFrames:o.sourceLinesErrorLibraryFrames:e.isApp()?o.sourceLinesSpanAppFrames:o.sourceLinesSpanLibraryFrames;0===a||e.isNode()?setImmediate(r,null,s):e.sourceContext(a,function(e,t){e?n.logger.debug("error while getting callsite source context: %s",e.message):(s.pre_context=t.pre,s.context_line=t.line,s.post_context=t.post),r(null,s)})}},function(e,t){e.exports=require("net")},function(e,t,n){"use strict";e.exports=n(163)()},function(e,t,n){(function(e){var r;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright JS Foundation and other contributors <https://js.foundation/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var o,i=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",u="__lodash_hash_undefined__",c=500,l="__lodash_placeholder__",f=1,p=2,h=4,d=1,g=2,m=1,v=2,y=4,_=8,b=16,w=32,S=64,x=128,E=256,A=512,C=30,L="...",k=800,O=16,T=1,N=2,j=1/0,P=9007199254740991,R=1.7976931348623157e308,I=NaN,M=4294967295,q=M-1,F=M>>>1,D=[["ary",x],["bind",m],["bindKey",v],["curry",_],["curryRight",b],["flip",A],["partial",w],["partialRight",S],["rearg",E]],U="[object Arguments]",G="[object Array]",B="[object AsyncFunction]",$="[object Boolean]",z="[object Date]",W="[object DOMException]",V="[object Error]",Z="[object Function]",K="[object GeneratorFunction]",H="[object Map]",Y="[object Number]",X="[object Null]",Q="[object Object]",J="[object Proxy]",ee="[object RegExp]",te="[object Set]",ne="[object String]",re="[object Symbol]",oe="[object Undefined]",ie="[object WeakMap]",se="[object WeakSet]",ae="[object ArrayBuffer]",ue="[object DataView]",ce="[object Float32Array]",le="[object Float64Array]",fe="[object Int8Array]",pe="[object Int16Array]",he="[object Int32Array]",de="[object Uint8Array]",ge="[object Uint8ClampedArray]",me="[object Uint16Array]",ve="[object Uint32Array]",ye=/\b__p \+= '';/g,_e=/\b(__p \+=) '' \+/g,be=/(__e\(.*?\)|\b__t\)) \+\n'';/g,we=/&(?:amp|lt|gt|quot|#39);/g,Se=/[&<>"']/g,xe=RegExp(we.source),Ee=RegExp(Se.source),Ae=/<%-([\s\S]+?)%>/g,Ce=/<%([\s\S]+?)%>/g,Le=/<%=([\s\S]+?)%>/g,ke=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Oe=/^\w*$/,Te=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ne=/[\\^$.*+?()[\]{}|]/g,je=RegExp(Ne.source),Pe=/^\s+|\s+$/g,Re=/^\s+/,Ie=/\s+$/,Me=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,qe=/\{\n\/\* \[wrapped with (.+)\] \*/,Fe=/,? & /,De=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ue=/\\(\\)?/g,Ge=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Be=/\w*$/,$e=/^[-+]0x[0-9a-f]+$/i,ze=/^0b[01]+$/i,We=/^\[object .+?Constructor\]$/,Ve=/^0o[0-7]+$/i,Ze=/^(?:0|[1-9]\d*)$/,Ke=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,He=/($^)/,Ye=/['\n\r\u2028\u2029\\]/g,Xe="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Qe="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Je="[\\ud800-\\udfff]",et="["+Qe+"]",tt="["+Xe+"]",nt="\\d+",rt="[\\u2700-\\u27bf]",ot="[a-z\\xdf-\\xf6\\xf8-\\xff]",it="[^\\ud800-\\udfff"+Qe+nt+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",st="\\ud83c[\\udffb-\\udfff]",at="[^\\ud800-\\udfff]",ut="(?:\\ud83c[\\udde6-\\uddff]){2}",ct="[\\ud800-\\udbff][\\udc00-\\udfff]",lt="[A-Z\\xc0-\\xd6\\xd8-\\xde]",ft="(?:"+ot+"|"+it+")",pt="(?:"+lt+"|"+it+")",ht="(?:"+tt+"|"+st+")"+"?",dt="[\\ufe0e\\ufe0f]?"+ht+("(?:\\u200d(?:"+[at,ut,ct].join("|")+")[\\ufe0e\\ufe0f]?"+ht+")*"),gt="(?:"+[rt,ut,ct].join("|")+")"+dt,mt="(?:"+[at+tt+"?",tt,ut,ct,Je].join("|")+")",vt=RegExp("['’]","g"),yt=RegExp(tt,"g"),_t=RegExp(st+"(?="+st+")|"+mt+dt,"g"),bt=RegExp([lt+"?"+ot+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[et,lt,"$"].join("|")+")",pt+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[et,lt+ft,"$"].join("|")+")",lt+"?"+ft+"+(?:['’](?:d|ll|m|re|s|t|ve))?",lt+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",nt,gt].join("|"),"g"),wt=RegExp("[\\u200d\\ud800-\\udfff"+Xe+"\\ufe0e\\ufe0f]"),St=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,xt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Et=-1,At={};At[ce]=At[le]=At[fe]=At[pe]=At[he]=At[de]=At[ge]=At[me]=At[ve]=!0,At[U]=At[G]=At[ae]=At[$]=At[ue]=At[z]=At[V]=At[Z]=At[H]=At[Y]=At[Q]=At[ee]=At[te]=At[ne]=At[ie]=!1;var Ct={};Ct[U]=Ct[G]=Ct[ae]=Ct[ue]=Ct[$]=Ct[z]=Ct[ce]=Ct[le]=Ct[fe]=Ct[pe]=Ct[he]=Ct[H]=Ct[Y]=Ct[Q]=Ct[ee]=Ct[te]=Ct[ne]=Ct[re]=Ct[de]=Ct[ge]=Ct[me]=Ct[ve]=!0,Ct[V]=Ct[Z]=Ct[ie]=!1;var Lt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},kt=parseFloat,Ot=parseInt,Tt="object"==typeof global&&global&&global.Object===Object&&global,Nt="object"==typeof self&&self&&self.Object===Object&&self,jt=Tt||Nt||Function("return this")(),Pt=t&&!t.nodeType&&t,Rt=Pt&&"object"==typeof e&&e&&!e.nodeType&&e,It=Rt&&Rt.exports===Pt,Mt=It&&Tt.process,qt=function(){try{var e=Rt&&Rt.require&&Rt.require("util").types;return e||Mt&&Mt.binding&&Mt.binding("util")}catch(e){}}(),Ft=qt&&qt.isArrayBuffer,Dt=qt&&qt.isDate,Ut=qt&&qt.isMap,Gt=qt&&qt.isRegExp,Bt=qt&&qt.isSet,$t=qt&&qt.isTypedArray;function zt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Wt(e,t,n,r){for(var o=-1,i=null==e?0:e.length;++o<i;){var s=e[o];t(r,s,n(s),e)}return r}function Vt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Zt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Kt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Ht(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var s=e[n];t(s,n,e)&&(i[o++]=s)}return i}function Yt(e,t){return!!(null==e?0:e.length)&&an(e,t,0)>-1}function Xt(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}function Qt(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}function Jt(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}function en(e,t,n,r){var o=-1,i=null==e?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}function tn(e,t,n,r){var o=null==e?0:e.length;for(r&&o&&(n=e[--o]);o--;)n=t(n,e[o],o,e);return n}function nn(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var rn=fn("length");function on(e,t,n){var r;return n(e,function(e,n,o){if(t(e,n,o))return r=n,!1}),r}function sn(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}function an(e,t,n){return t==t?function(e,t,n){var r=n-1,o=e.length;for(;++r<o;)if(e[r]===t)return r;return-1}(e,t,n):sn(e,cn,n)}function un(e,t,n,r){for(var o=n-1,i=e.length;++o<i;)if(r(e[o],t))return o;return-1}function cn(e){return e!=e}function ln(e,t){var n=null==e?0:e.length;return n?dn(e,t)/n:I}function fn(e){return function(t){return null==t?o:t[e]}}function pn(e){return function(t){return null==e?o:e[t]}}function hn(e,t,n,r,o){return o(e,function(e,o,i){n=r?(r=!1,e):t(n,e,o,i)}),n}function dn(e,t){for(var n,r=-1,i=e.length;++r<i;){var s=t(e[r]);s!==o&&(n=n===o?s:n+s)}return n}function gn(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function mn(e){return function(t){return e(t)}}function vn(e,t){return Qt(t,function(t){return e[t]})}function yn(e,t){return e.has(t)}function _n(e,t){for(var n=-1,r=e.length;++n<r&&an(t,e[n],0)>-1;);return n}function bn(e,t){for(var n=e.length;n--&&an(t,e[n],0)>-1;);return n}var wn=pn({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),Sn=pn({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function xn(e){return"\\"+Lt[e]}function En(e){return wt.test(e)}function An(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function Cn(e,t){return function(n){return e(t(n))}}function Ln(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var s=e[n];s!==t&&s!==l||(e[n]=l,i[o++]=n)}return i}function kn(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function On(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=[e,e]}),n}function Tn(e){return En(e)?function(e){var t=_t.lastIndex=0;for(;_t.test(e);)++t;return t}(e):rn(e)}function Nn(e){return En(e)?function(e){return e.match(_t)||[]}(e):function(e){return e.split("")}(e)}var jn=pn({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Pn=function e(t){var n=(t=null==t?jt:Pn.defaults(jt.Object(),t,Pn.pick(jt,xt))).Array,r=t.Date,Xe=t.Error,Qe=t.Function,Je=t.Math,et=t.Object,tt=t.RegExp,nt=t.String,rt=t.TypeError,ot=n.prototype,it=Qe.prototype,st=et.prototype,at=t["__core-js_shared__"],ut=it.toString,ct=st.hasOwnProperty,lt=0,ft=function(){var e=/[^.]+$/.exec(at&&at.keys&&at.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),pt=st.toString,ht=ut.call(et),dt=jt._,gt=tt("^"+ut.call(ct).replace(Ne,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),mt=It?t.Buffer:o,_t=t.Symbol,wt=t.Uint8Array,Lt=mt?mt.allocUnsafe:o,Tt=Cn(et.getPrototypeOf,et),Nt=et.create,Pt=st.propertyIsEnumerable,Rt=ot.splice,Mt=_t?_t.isConcatSpreadable:o,qt=_t?_t.iterator:o,rn=_t?_t.toStringTag:o,pn=function(){try{var e=Fi(et,"defineProperty");return e({},"",{}),e}catch(e){}}(),Rn=t.clearTimeout!==jt.clearTimeout&&t.clearTimeout,In=r&&r.now!==jt.Date.now&&r.now,Mn=t.setTimeout!==jt.setTimeout&&t.setTimeout,qn=Je.ceil,Fn=Je.floor,Dn=et.getOwnPropertySymbols,Un=mt?mt.isBuffer:o,Gn=t.isFinite,Bn=ot.join,$n=Cn(et.keys,et),zn=Je.max,Wn=Je.min,Vn=r.now,Zn=t.parseInt,Kn=Je.random,Hn=ot.reverse,Yn=Fi(t,"DataView"),Xn=Fi(t,"Map"),Qn=Fi(t,"Promise"),Jn=Fi(t,"Set"),er=Fi(t,"WeakMap"),tr=Fi(et,"create"),nr=er&&new er,rr={},or=ls(Yn),ir=ls(Xn),sr=ls(Qn),ar=ls(Jn),ur=ls(er),cr=_t?_t.prototype:o,lr=cr?cr.valueOf:o,fr=cr?cr.toString:o;function pr(e){if(La(e)&&!ma(e)&&!(e instanceof mr)){if(e instanceof gr)return e;if(ct.call(e,"__wrapped__"))return fs(e)}return new gr(e)}var hr=function(){function e(){}return function(t){if(!Ca(t))return{};if(Nt)return Nt(t);e.prototype=t;var n=new e;return e.prototype=o,n}}();function dr(){}function gr(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=o}function mr(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=M,this.__views__=[]}function vr(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function yr(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function _r(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function br(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new _r;++t<n;)this.add(e[t])}function wr(e){var t=this.__data__=new yr(e);this.size=t.size}function Sr(e,t){var n=ma(e),r=!n&&ga(e),o=!n&&!r&&ba(e),i=!n&&!r&&!o&&Ia(e),s=n||r||o||i,a=s?gn(e.length,nt):[],u=a.length;for(var c in e)!t&&!ct.call(e,c)||s&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Wi(c,u))||a.push(c);return a}function xr(e){var t=e.length;return t?e[wo(0,t-1)]:o}function Er(e,t){return as(ni(e),Pr(t,0,e.length))}function Ar(e){return as(ni(e))}function Cr(e,t,n){(n===o||pa(e[t],n))&&(n!==o||t in e)||Nr(e,t,n)}function Lr(e,t,n){var r=e[t];ct.call(e,t)&&pa(r,n)&&(n!==o||t in e)||Nr(e,t,n)}function kr(e,t){for(var n=e.length;n--;)if(pa(e[n][0],t))return n;return-1}function Or(e,t,n,r){return Fr(e,function(e,o,i){t(r,e,n(e),i)}),r}function Tr(e,t){return e&&ri(t,ru(t),e)}function Nr(e,t,n){"__proto__"==t&&pn?pn(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function jr(e,t){for(var r=-1,i=t.length,s=n(i),a=null==e;++r<i;)s[r]=a?o:Qa(e,t[r]);return s}function Pr(e,t,n){return e==e&&(n!==o&&(e=e<=n?e:n),t!==o&&(e=e>=t?e:t)),e}function Rr(e,t,n,r,i,s){var a,u=t&f,c=t&p,l=t&h;if(n&&(a=i?n(e,r,i,s):n(e)),a!==o)return a;if(!Ca(e))return e;var d=ma(e);if(d){if(a=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&ct.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!u)return ni(e,a)}else{var g=Gi(e),m=g==Z||g==K;if(ba(e))return Yo(e,u);if(g==Q||g==U||m&&!i){if(a=c||m?{}:$i(e),!u)return c?function(e,t){return ri(e,Ui(e),t)}(e,function(e,t){return e&&ri(t,ou(t),e)}(a,e)):function(e,t){return ri(e,Di(e),t)}(e,Tr(a,e))}else{if(!Ct[g])return i?e:{};a=function(e,t,n){var r=e.constructor;switch(t){case ae:return Xo(e);case $:case z:return new r(+e);case ue:return function(e,t){var n=t?Xo(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case ce:case le:case fe:case pe:case he:case de:case ge:case me:case ve:return Qo(e,n);case H:return new r;case Y:case ne:return new r(e);case ee:return function(e){var t=new e.constructor(e.source,Be.exec(e));return t.lastIndex=e.lastIndex,t}(e);case te:return new r;case re:return function(e){return lr?et(lr.call(e)):{}}(e)}}(e,g,u)}}s||(s=new wr);var v=s.get(e);if(v)return v;if(s.set(e,a),ja(e))return e.forEach(function(r){a.add(Rr(r,t,n,r,e,s))}),a;if(ka(e))return e.forEach(function(r,o){a.set(o,Rr(r,t,n,o,e,s))}),a;var y=d?o:(l?c?Ni:Ti:c?ou:ru)(e);return Vt(y||e,function(r,o){y&&(r=e[o=r]),Lr(a,o,Rr(r,t,n,o,e,s))}),a}function Ir(e,t,n){var r=n.length;if(null==e)return!r;for(e=et(e);r--;){var i=n[r],s=t[i],a=e[i];if(a===o&&!(i in e)||!s(a))return!1}return!0}function Mr(e,t,n){if("function"!=typeof e)throw new rt(a);return rs(function(){e.apply(o,n)},t)}function qr(e,t,n,r){var o=-1,s=Yt,a=!0,u=e.length,c=[],l=t.length;if(!u)return c;n&&(t=Qt(t,mn(n))),r?(s=Xt,a=!1):t.length>=i&&(s=yn,a=!1,t=new br(t));e:for(;++o<u;){var f=e[o],p=null==n?f:n(f);if(f=r||0!==f?f:0,a&&p==p){for(var h=l;h--;)if(t[h]===p)continue e;c.push(f)}else s(t,p,r)||c.push(f)}return c}pr.templateSettings={escape:Ae,evaluate:Ce,interpolate:Le,variable:"",imports:{_:pr}},pr.prototype=dr.prototype,pr.prototype.constructor=pr,gr.prototype=hr(dr.prototype),gr.prototype.constructor=gr,mr.prototype=hr(dr.prototype),mr.prototype.constructor=mr,vr.prototype.clear=function(){this.__data__=tr?tr(null):{},this.size=0},vr.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},vr.prototype.get=function(e){var t=this.__data__;if(tr){var n=t[e];return n===u?o:n}return ct.call(t,e)?t[e]:o},vr.prototype.has=function(e){var t=this.__data__;return tr?t[e]!==o:ct.call(t,e)},vr.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=tr&&t===o?u:t,this},yr.prototype.clear=function(){this.__data__=[],this.size=0},yr.prototype.delete=function(e){var t=this.__data__,n=kr(t,e);return!(n<0||(n==t.length-1?t.pop():Rt.call(t,n,1),--this.size,0))},yr.prototype.get=function(e){var t=this.__data__,n=kr(t,e);return n<0?o:t[n][1]},yr.prototype.has=function(e){return kr(this.__data__,e)>-1},yr.prototype.set=function(e,t){var n=this.__data__,r=kr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},_r.prototype.clear=function(){this.size=0,this.__data__={hash:new vr,map:new(Xn||yr),string:new vr}},_r.prototype.delete=function(e){var t=Mi(this,e).delete(e);return this.size-=t?1:0,t},_r.prototype.get=function(e){return Mi(this,e).get(e)},_r.prototype.has=function(e){return Mi(this,e).has(e)},_r.prototype.set=function(e,t){var n=Mi(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},br.prototype.add=br.prototype.push=function(e){return this.__data__.set(e,u),this},br.prototype.has=function(e){return this.__data__.has(e)},wr.prototype.clear=function(){this.__data__=new yr,this.size=0},wr.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},wr.prototype.get=function(e){return this.__data__.get(e)},wr.prototype.has=function(e){return this.__data__.has(e)},wr.prototype.set=function(e,t){var n=this.__data__;if(n instanceof yr){var r=n.__data__;if(!Xn||r.length<i-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new _r(r)}return n.set(e,t),this.size=n.size,this};var Fr=si(Vr),Dr=si(Zr,!0);function Ur(e,t){var n=!0;return Fr(e,function(e,r,o){return n=!!t(e,r,o)}),n}function Gr(e,t,n){for(var r=-1,i=e.length;++r<i;){var s=e[r],a=t(s);if(null!=a&&(u===o?a==a&&!Ra(a):n(a,u)))var u=a,c=s}return c}function Br(e,t){var n=[];return Fr(e,function(e,r,o){t(e,r,o)&&n.push(e)}),n}function $r(e,t,n,r,o){var i=-1,s=e.length;for(n||(n=zi),o||(o=[]);++i<s;){var a=e[i];t>0&&n(a)?t>1?$r(a,t-1,n,r,o):Jt(o,a):r||(o[o.length]=a)}return o}var zr=ai(),Wr=ai(!0);function Vr(e,t){return e&&zr(e,t,ru)}function Zr(e,t){return e&&Wr(e,t,ru)}function Kr(e,t){return Ht(t,function(t){return xa(e[t])})}function Hr(e,t){for(var n=0,r=(t=Vo(t,e)).length;null!=e&&n<r;)e=e[cs(t[n++])];return n&&n==r?e:o}function Yr(e,t,n){var r=t(e);return ma(e)?r:Jt(r,n(e))}function Xr(e){return null==e?e===o?oe:X:rn&&rn in et(e)?function(e){var t=ct.call(e,rn),n=e[rn];try{e[rn]=o;var r=!0}catch(e){}var i=pt.call(e);return r&&(t?e[rn]=n:delete e[rn]),i}(e):function(e){return pt.call(e)}(e)}function Qr(e,t){return e>t}function Jr(e,t){return null!=e&&ct.call(e,t)}function eo(e,t){return null!=e&&t in et(e)}function to(e,t,r){for(var i=r?Xt:Yt,s=e[0].length,a=e.length,u=a,c=n(a),l=1/0,f=[];u--;){var p=e[u];u&&t&&(p=Qt(p,mn(t))),l=Wn(p.length,l),c[u]=!r&&(t||s>=120&&p.length>=120)?new br(u&&p):o}p=e[0];var h=-1,d=c[0];e:for(;++h<s&&f.length<l;){var g=p[h],m=t?t(g):g;if(g=r||0!==g?g:0,!(d?yn(d,m):i(f,m,r))){for(u=a;--u;){var v=c[u];if(!(v?yn(v,m):i(e[u],m,r)))continue e}d&&d.push(m),f.push(g)}}return f}function no(e,t,n){var r=null==(e=es(e,t=Vo(t,e)))?e:e[cs(Ss(t))];return null==r?o:zt(r,e,n)}function ro(e){return La(e)&&Xr(e)==U}function oo(e,t,n,r,i){return e===t||(null==e||null==t||!La(e)&&!La(t)?e!=e&&t!=t:function(e,t,n,r,i,s){var a=ma(e),u=ma(t),c=a?G:Gi(e),l=u?G:Gi(t),f=(c=c==U?Q:c)==Q,p=(l=l==U?Q:l)==Q,h=c==l;if(h&&ba(e)){if(!ba(t))return!1;a=!0,f=!1}if(h&&!f)return s||(s=new wr),a||Ia(e)?ki(e,t,n,r,i,s):function(e,t,n,r,o,i,s){switch(n){case ue:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case ae:return!(e.byteLength!=t.byteLength||!i(new wt(e),new wt(t)));case $:case z:case Y:return pa(+e,+t);case V:return e.name==t.name&&e.message==t.message;case ee:case ne:return e==t+"";case H:var a=An;case te:var u=r&d;if(a||(a=kn),e.size!=t.size&&!u)return!1;var c=s.get(e);if(c)return c==t;r|=g,s.set(e,t);var l=ki(a(e),a(t),r,o,i,s);return s.delete(e),l;case re:if(lr)return lr.call(e)==lr.call(t)}return!1}(e,t,c,n,r,i,s);if(!(n&d)){var m=f&&ct.call(e,"__wrapped__"),v=p&&ct.call(t,"__wrapped__");if(m||v){var y=m?e.value():e,_=v?t.value():t;return s||(s=new wr),i(y,_,n,r,s)}}return!!h&&(s||(s=new wr),function(e,t,n,r,i,s){var a=n&d,u=Ti(e),c=u.length,l=Ti(t).length;if(c!=l&&!a)return!1;for(var f=c;f--;){var p=u[f];if(!(a?p in t:ct.call(t,p)))return!1}var h=s.get(e);if(h&&s.get(t))return h==t;var g=!0;s.set(e,t),s.set(t,e);for(var m=a;++f<c;){p=u[f];var v=e[p],y=t[p];if(r)var _=a?r(y,v,p,t,e,s):r(v,y,p,e,t,s);if(!(_===o?v===y||i(v,y,n,r,s):_)){g=!1;break}m||(m="constructor"==p)}if(g&&!m){var b=e.constructor,w=t.constructor;b!=w&&"constructor"in e&&"constructor"in t&&!("function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w)&&(g=!1)}return s.delete(e),s.delete(t),g}(e,t,n,r,i,s))}(e,t,n,r,oo,i))}function io(e,t,n,r){var i=n.length,s=i,a=!r;if(null==e)return!s;for(e=et(e);i--;){var u=n[i];if(a&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++i<s;){var c=(u=n[i])[0],l=e[c],f=u[1];if(a&&u[2]){if(l===o&&!(c in e))return!1}else{var p=new wr;if(r)var h=r(l,f,c,e,t,p);if(!(h===o?oo(f,l,d|g,r,p):h))return!1}}return!0}function so(e){return!(!Ca(e)||function(e){return!!ft&&ft in e}(e))&&(xa(e)?gt:We).test(ls(e))}function ao(e){return"function"==typeof e?e:null==e?Ou:"object"==typeof e?ma(e)?ho(e[0],e[1]):po(e):Fu(e)}function uo(e){if(!Yi(e))return $n(e);var t=[];for(var n in et(e))ct.call(e,n)&&"constructor"!=n&&t.push(n);return t}function co(e){if(!Ca(e))return function(e){var t=[];if(null!=e)for(var n in et(e))t.push(n);return t}(e);var t=Yi(e),n=[];for(var r in e)("constructor"!=r||!t&&ct.call(e,r))&&n.push(r);return n}function lo(e,t){return e<t}function fo(e,t){var r=-1,o=ya(e)?n(e.length):[];return Fr(e,function(e,n,i){o[++r]=t(e,n,i)}),o}function po(e){var t=qi(e);return 1==t.length&&t[0][2]?Qi(t[0][0],t[0][1]):function(n){return n===e||io(n,e,t)}}function ho(e,t){return Zi(e)&&Xi(t)?Qi(cs(e),t):function(n){var r=Qa(n,e);return r===o&&r===t?Ja(n,e):oo(t,r,d|g)}}function go(e,t,n,r,i){e!==t&&zr(t,function(s,a){if(Ca(s))i||(i=new wr),function(e,t,n,r,i,s,a){var u=ts(e,n),c=ts(t,n),l=a.get(c);if(l)Cr(e,n,l);else{var f=s?s(u,c,n+"",e,t,a):o,p=f===o;if(p){var h=ma(c),d=!h&&ba(c),g=!h&&!d&&Ia(c);f=c,h||d||g?ma(u)?f=u:_a(u)?f=ni(u):d?(p=!1,f=Yo(c,!0)):g?(p=!1,f=Qo(c,!0)):f=[]:Ta(c)||ga(c)?(f=u,ga(u)?f=$a(u):Ca(u)&&!xa(u)||(f=$i(c))):p=!1}p&&(a.set(c,f),i(f,c,r,s,a),a.delete(c)),Cr(e,n,f)}}(e,t,a,n,go,r,i);else{var u=r?r(ts(e,a),s,a+"",e,t,i):o;u===o&&(u=s),Cr(e,a,u)}},ou)}function mo(e,t){var n=e.length;if(n)return Wi(t+=t<0?n:0,n)?e[t]:o}function vo(e,t,n){var r=-1;return t=Qt(t.length?t:[Ou],mn(Ii())),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(fo(e,function(e,n,o){return{criteria:Qt(t,function(t){return t(e)}),index:++r,value:e}}),function(e,t){return function(e,t,n){for(var r=-1,o=e.criteria,i=t.criteria,s=o.length,a=n.length;++r<s;){var u=Jo(o[r],i[r]);if(u){if(r>=a)return u;var c=n[r];return u*("desc"==c?-1:1)}}return e.index-t.index}(e,t,n)})}function yo(e,t,n){for(var r=-1,o=t.length,i={};++r<o;){var s=t[r],a=Hr(e,s);n(a,s)&&Co(i,Vo(s,e),a)}return i}function _o(e,t,n,r){var o=r?un:an,i=-1,s=t.length,a=e;for(e===t&&(t=ni(t)),n&&(a=Qt(e,mn(n)));++i<s;)for(var u=0,c=t[i],l=n?n(c):c;(u=o(a,l,u,r))>-1;)a!==e&&Rt.call(a,u,1),Rt.call(e,u,1);return e}function bo(e,t){for(var n=e?t.length:0,r=n-1;n--;){var o=t[n];if(n==r||o!==i){var i=o;Wi(o)?Rt.call(e,o,1):Fo(e,o)}}return e}function wo(e,t){return e+Fn(Kn()*(t-e+1))}function So(e,t){var n="";if(!e||t<1||t>P)return n;do{t%2&&(n+=e),(t=Fn(t/2))&&(e+=e)}while(t);return n}function xo(e,t){return os(Ji(e,t,Ou),e+"")}function Eo(e){return xr(pu(e))}function Ao(e,t){var n=pu(e);return as(n,Pr(t,0,n.length))}function Co(e,t,n,r){if(!Ca(e))return e;for(var i=-1,s=(t=Vo(t,e)).length,a=s-1,u=e;null!=u&&++i<s;){var c=cs(t[i]),l=n;if(i!=a){var f=u[c];(l=r?r(f,c,u):o)===o&&(l=Ca(f)?f:Wi(t[i+1])?[]:{})}Lr(u,c,l),u=u[c]}return e}var Lo=nr?function(e,t){return nr.set(e,t),e}:Ou,ko=pn?function(e,t){return pn(e,"toString",{configurable:!0,enumerable:!1,value:Cu(t),writable:!0})}:Ou;function Oo(e){return as(pu(e))}function To(e,t,r){var o=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(r=r>i?i:r)<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var s=n(i);++o<i;)s[o]=e[o+t];return s}function No(e,t){var n;return Fr(e,function(e,r,o){return!(n=t(e,r,o))}),!!n}function jo(e,t,n){var r=0,o=null==e?r:e.length;if("number"==typeof t&&t==t&&o<=F){for(;r<o;){var i=r+o>>>1,s=e[i];null!==s&&!Ra(s)&&(n?s<=t:s<t)?r=i+1:o=i}return o}return Po(e,t,Ou,n)}function Po(e,t,n,r){t=n(t);for(var i=0,s=null==e?0:e.length,a=t!=t,u=null===t,c=Ra(t),l=t===o;i<s;){var f=Fn((i+s)/2),p=n(e[f]),h=p!==o,d=null===p,g=p==p,m=Ra(p);if(a)var v=r||g;else v=l?g&&(r||h):u?g&&h&&(r||!d):c?g&&h&&!d&&(r||!m):!d&&!m&&(r?p<=t:p<t);v?i=f+1:s=f}return Wn(s,q)}function Ro(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var s=e[n],a=t?t(s):s;if(!n||!pa(a,u)){var u=a;i[o++]=0===s?0:s}}return i}function Io(e){return"number"==typeof e?e:Ra(e)?I:+e}function Mo(e){if("string"==typeof e)return e;if(ma(e))return Qt(e,Mo)+"";if(Ra(e))return fr?fr.call(e):"";var t=e+"";return"0"==t&&1/e==-j?"-0":t}function qo(e,t,n){var r=-1,o=Yt,s=e.length,a=!0,u=[],c=u;if(n)a=!1,o=Xt;else if(s>=i){var l=t?null:Si(e);if(l)return kn(l);a=!1,o=yn,c=new br}else c=t?[]:u;e:for(;++r<s;){var f=e[r],p=t?t(f):f;if(f=n||0!==f?f:0,a&&p==p){for(var h=c.length;h--;)if(c[h]===p)continue e;t&&c.push(p),u.push(f)}else o(c,p,n)||(c!==u&&c.push(p),u.push(f))}return u}function Fo(e,t){return null==(e=es(e,t=Vo(t,e)))||delete e[cs(Ss(t))]}function Do(e,t,n,r){return Co(e,t,n(Hr(e,t)),r)}function Uo(e,t,n,r){for(var o=e.length,i=r?o:-1;(r?i--:++i<o)&&t(e[i],i,e););return n?To(e,r?0:i,r?i+1:o):To(e,r?i+1:0,r?o:i)}function Go(e,t){var n=e;return n instanceof mr&&(n=n.value()),en(t,function(e,t){return t.func.apply(t.thisArg,Jt([e],t.args))},n)}function Bo(e,t,r){var o=e.length;if(o<2)return o?qo(e[0]):[];for(var i=-1,s=n(o);++i<o;)for(var a=e[i],u=-1;++u<o;)u!=i&&(s[i]=qr(s[i]||a,e[u],t,r));return qo($r(s,1),t,r)}function $o(e,t,n){for(var r=-1,i=e.length,s=t.length,a={};++r<i;){var u=r<s?t[r]:o;n(a,e[r],u)}return a}function zo(e){return _a(e)?e:[]}function Wo(e){return"function"==typeof e?e:Ou}function Vo(e,t){return ma(e)?e:Zi(e,t)?[e]:us(za(e))}var Zo=xo;function Ko(e,t,n){var r=e.length;return n=n===o?r:n,!t&&n>=r?e:To(e,t,n)}var Ho=Rn||function(e){return jt.clearTimeout(e)};function Yo(e,t){if(t)return e.slice();var n=e.length,r=Lt?Lt(n):new e.constructor(n);return e.copy(r),r}function Xo(e){var t=new e.constructor(e.byteLength);return new wt(t).set(new wt(e)),t}function Qo(e,t){var n=t?Xo(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Jo(e,t){if(e!==t){var n=e!==o,r=null===e,i=e==e,s=Ra(e),a=t!==o,u=null===t,c=t==t,l=Ra(t);if(!u&&!l&&!s&&e>t||s&&a&&c&&!u&&!l||r&&a&&c||!n&&c||!i)return 1;if(!r&&!s&&!l&&e<t||l&&n&&i&&!r&&!s||u&&n&&i||!a&&i||!c)return-1}return 0}function ei(e,t,r,o){for(var i=-1,s=e.length,a=r.length,u=-1,c=t.length,l=zn(s-a,0),f=n(c+l),p=!o;++u<c;)f[u]=t[u];for(;++i<a;)(p||i<s)&&(f[r[i]]=e[i]);for(;l--;)f[u++]=e[i++];return f}function ti(e,t,r,o){for(var i=-1,s=e.length,a=-1,u=r.length,c=-1,l=t.length,f=zn(s-u,0),p=n(f+l),h=!o;++i<f;)p[i]=e[i];for(var d=i;++c<l;)p[d+c]=t[c];for(;++a<u;)(h||i<s)&&(p[d+r[a]]=e[i++]);return p}function ni(e,t){var r=-1,o=e.length;for(t||(t=n(o));++r<o;)t[r]=e[r];return t}function ri(e,t,n,r){var i=!n;n||(n={});for(var s=-1,a=t.length;++s<a;){var u=t[s],c=r?r(n[u],e[u],u,n,e):o;c===o&&(c=e[u]),i?Nr(n,u,c):Lr(n,u,c)}return n}function oi(e,t){return function(n,r){var o=ma(n)?Wt:Or,i=t?t():{};return o(n,e,Ii(r,2),i)}}function ii(e){return xo(function(t,n){var r=-1,i=n.length,s=i>1?n[i-1]:o,a=i>2?n[2]:o;for(s=e.length>3&&"function"==typeof s?(i--,s):o,a&&Vi(n[0],n[1],a)&&(s=i<3?o:s,i=1),t=et(t);++r<i;){var u=n[r];u&&e(t,u,r,s)}return t})}function si(e,t){return function(n,r){if(null==n)return n;if(!ya(n))return e(n,r);for(var o=n.length,i=t?o:-1,s=et(n);(t?i--:++i<o)&&!1!==r(s[i],i,s););return n}}function ai(e){return function(t,n,r){for(var o=-1,i=et(t),s=r(t),a=s.length;a--;){var u=s[e?a:++o];if(!1===n(i[u],u,i))break}return t}}function ui(e){return function(t){var n=En(t=za(t))?Nn(t):o,r=n?n[0]:t.charAt(0),i=n?Ko(n,1).join(""):t.slice(1);return r[e]()+i}}function ci(e){return function(t){return en(xu(gu(t).replace(vt,"")),e,"")}}function li(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=hr(e.prototype),r=e.apply(n,t);return Ca(r)?r:n}}function fi(e){return function(t,n,r){var i=et(t);if(!ya(t)){var s=Ii(n,3);t=ru(t),n=function(e){return s(i[e],e,i)}}var a=e(t,n,r);return a>-1?i[s?t[a]:a]:o}}function pi(e){return Oi(function(t){var n=t.length,r=n,i=gr.prototype.thru;for(e&&t.reverse();r--;){var s=t[r];if("function"!=typeof s)throw new rt(a);if(i&&!u&&"wrapper"==Pi(s))var u=new gr([],!0)}for(r=u?r:n;++r<n;){var c=Pi(s=t[r]),l="wrapper"==c?ji(s):o;u=l&&Ki(l[0])&&l[1]==(x|_|w|E)&&!l[4].length&&1==l[9]?u[Pi(l[0])].apply(u,l[3]):1==s.length&&Ki(s)?u[c]():u.thru(s)}return function(){var e=arguments,r=e[0];if(u&&1==e.length&&ma(r))return u.plant(r).value();for(var o=0,i=n?t[o].apply(this,e):r;++o<n;)i=t[o].call(this,i);return i}})}function hi(e,t,r,i,s,a,u,c,l,f){var p=t&x,h=t&m,d=t&v,g=t&(_|b),y=t&A,w=d?o:li(e);return function m(){for(var v=arguments.length,_=n(v),b=v;b--;)_[b]=arguments[b];if(g)var S=Ri(m),x=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(_,S);if(i&&(_=ei(_,i,s,g)),a&&(_=ti(_,a,u,g)),v-=x,g&&v<f){var E=Ln(_,S);return bi(e,t,hi,m.placeholder,r,_,E,c,l,f-v)}var A=h?r:this,C=d?A[e]:e;return v=_.length,c?_=function(e,t){for(var n=e.length,r=Wn(t.length,n),i=ni(e);r--;){var s=t[r];e[r]=Wi(s,n)?i[s]:o}return e}(_,c):y&&v>1&&_.reverse(),p&&l<v&&(_.length=l),this&&this!==jt&&this instanceof m&&(C=w||li(C)),C.apply(A,_)}}function di(e,t){return function(n,r){return function(e,t,n,r){return Vr(e,function(e,o,i){t(r,n(e),o,i)}),r}(n,e,t(r),{})}}function gi(e,t){return function(n,r){var i;if(n===o&&r===o)return t;if(n!==o&&(i=n),r!==o){if(i===o)return r;"string"==typeof n||"string"==typeof r?(n=Mo(n),r=Mo(r)):(n=Io(n),r=Io(r)),i=e(n,r)}return i}}function mi(e){return Oi(function(t){return t=Qt(t,mn(Ii())),xo(function(n){var r=this;return e(t,function(e){return zt(e,r,n)})})})}function vi(e,t){var n=(t=t===o?" ":Mo(t)).length;if(n<2)return n?So(t,e):t;var r=So(t,qn(e/Tn(t)));return En(t)?Ko(Nn(r),0,e).join(""):r.slice(0,e)}function yi(e){return function(t,r,i){return i&&"number"!=typeof i&&Vi(t,r,i)&&(r=i=o),t=Da(t),r===o?(r=t,t=0):r=Da(r),function(e,t,r,o){for(var i=-1,s=zn(qn((t-e)/(r||1)),0),a=n(s);s--;)a[o?s:++i]=e,e+=r;return a}(t,r,i=i===o?t<r?1:-1:Da(i),e)}}function _i(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=Ba(t),n=Ba(n)),e(t,n)}}function bi(e,t,n,r,i,s,a,u,c,l){var f=t&_;t|=f?w:S,(t&=~(f?S:w))&y||(t&=~(m|v));var p=[e,t,i,f?s:o,f?a:o,f?o:s,f?o:a,u,c,l],h=n.apply(o,p);return Ki(e)&&ns(h,p),h.placeholder=r,is(h,e,t)}function wi(e){var t=Je[e];return function(e,n){if(e=Ba(e),n=null==n?0:Wn(Ua(n),292)){var r=(za(e)+"e").split("e");return+((r=(za(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Si=Jn&&1/kn(new Jn([,-0]))[1]==j?function(e){return new Jn(e)}:Ru;function xi(e){return function(t){var n=Gi(t);return n==H?An(t):n==te?On(t):function(e,t){return Qt(t,function(t){return[t,e[t]]})}(t,e(t))}}function Ei(e,t,r,i,s,u,c,f){var p=t&v;if(!p&&"function"!=typeof e)throw new rt(a);var h=i?i.length:0;if(h||(t&=~(w|S),i=s=o),c=c===o?c:zn(Ua(c),0),f=f===o?f:Ua(f),h-=s?s.length:0,t&S){var d=i,g=s;i=s=o}var A=p?o:ji(e),C=[e,t,r,i,s,d,g,u,c,f];if(A&&function(e,t){var n=e[1],r=t[1],o=n|r,i=o<(m|v|x),s=r==x&&n==_||r==x&&n==E&&e[7].length<=t[8]||r==(x|E)&&t[7].length<=t[8]&&n==_;if(!i&&!s)return e;r&m&&(e[2]=t[2],o|=n&m?0:y);var a=t[3];if(a){var u=e[3];e[3]=u?ei(u,a,t[4]):a,e[4]=u?Ln(e[3],l):t[4]}(a=t[5])&&(u=e[5],e[5]=u?ti(u,a,t[6]):a,e[6]=u?Ln(e[5],l):t[6]),(a=t[7])&&(e[7]=a),r&x&&(e[8]=null==e[8]?t[8]:Wn(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=o}(C,A),e=C[0],t=C[1],r=C[2],i=C[3],s=C[4],!(f=C[9]=C[9]===o?p?0:e.length:zn(C[9]-h,0))&&t&(_|b)&&(t&=~(_|b)),t&&t!=m)L=t==_||t==b?function(e,t,r){var i=li(e);return function s(){for(var a=arguments.length,u=n(a),c=a,l=Ri(s);c--;)u[c]=arguments[c];var f=a<3&&u[0]!==l&&u[a-1]!==l?[]:Ln(u,l);return(a-=f.length)<r?bi(e,t,hi,s.placeholder,o,u,f,o,o,r-a):zt(this&&this!==jt&&this instanceof s?i:e,this,u)}}(e,t,f):t!=w&&t!=(m|w)||s.length?hi.apply(o,C):function(e,t,r,o){var i=t&m,s=li(e);return function t(){for(var a=-1,u=arguments.length,c=-1,l=o.length,f=n(l+u),p=this&&this!==jt&&this instanceof t?s:e;++c<l;)f[c]=o[c];for(;u--;)f[c++]=arguments[++a];return zt(p,i?r:this,f)}}(e,t,r,i);else var L=function(e,t,n){var r=t&m,o=li(e);return function t(){return(this&&this!==jt&&this instanceof t?o:e).apply(r?n:this,arguments)}}(e,t,r);return is((A?Lo:ns)(L,C),e,t)}function Ai(e,t,n,r){return e===o||pa(e,st[n])&&!ct.call(r,n)?t:e}function Ci(e,t,n,r,i,s){return Ca(e)&&Ca(t)&&(s.set(t,e),go(e,t,o,Ci,s),s.delete(t)),e}function Li(e){return Ta(e)?o:e}function ki(e,t,n,r,i,s){var a=n&d,u=e.length,c=t.length;if(u!=c&&!(a&&c>u))return!1;var l=s.get(e);if(l&&s.get(t))return l==t;var f=-1,p=!0,h=n&g?new br:o;for(s.set(e,t),s.set(t,e);++f<u;){var m=e[f],v=t[f];if(r)var y=a?r(v,m,f,t,e,s):r(m,v,f,e,t,s);if(y!==o){if(y)continue;p=!1;break}if(h){if(!nn(t,function(e,t){if(!yn(h,t)&&(m===e||i(m,e,n,r,s)))return h.push(t)})){p=!1;break}}else if(m!==v&&!i(m,v,n,r,s)){p=!1;break}}return s.delete(e),s.delete(t),p}function Oi(e){return os(Ji(e,o,vs),e+"")}function Ti(e){return Yr(e,ru,Di)}function Ni(e){return Yr(e,ou,Ui)}var ji=nr?function(e){return nr.get(e)}:Ru;function Pi(e){for(var t=e.name+"",n=rr[t],r=ct.call(rr,t)?n.length:0;r--;){var o=n[r],i=o.func;if(null==i||i==e)return o.name}return t}function Ri(e){return(ct.call(pr,"placeholder")?pr:e).placeholder}function Ii(){var e=pr.iteratee||Tu;return e=e===Tu?ao:e,arguments.length?e(arguments[0],arguments[1]):e}function Mi(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function qi(e){for(var t=ru(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,Xi(o)]}return t}function Fi(e,t){var n=function(e,t){return null==e?o:e[t]}(e,t);return so(n)?n:o}var Di=Dn?function(e){return null==e?[]:(e=et(e),Ht(Dn(e),function(t){return Pt.call(e,t)}))}:Gu,Ui=Dn?function(e){for(var t=[];e;)Jt(t,Di(e)),e=Tt(e);return t}:Gu,Gi=Xr;function Bi(e,t,n){for(var r=-1,o=(t=Vo(t,e)).length,i=!1;++r<o;){var s=cs(t[r]);if(!(i=null!=e&&n(e,s)))break;e=e[s]}return i||++r!=o?i:!!(o=null==e?0:e.length)&&Aa(o)&&Wi(s,o)&&(ma(e)||ga(e))}function $i(e){return"function"!=typeof e.constructor||Yi(e)?{}:hr(Tt(e))}function zi(e){return ma(e)||ga(e)||!!(Mt&&e&&e[Mt])}function Wi(e,t){var n=typeof e;return!!(t=null==t?P:t)&&("number"==n||"symbol"!=n&&Ze.test(e))&&e>-1&&e%1==0&&e<t}function Vi(e,t,n){if(!Ca(n))return!1;var r=typeof t;return!!("number"==r?ya(n)&&Wi(t,n.length):"string"==r&&t in n)&&pa(n[t],e)}function Zi(e,t){if(ma(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Ra(e))||Oe.test(e)||!ke.test(e)||null!=t&&e in et(t)}function Ki(e){var t=Pi(e),n=pr[t];if("function"!=typeof n||!(t in mr.prototype))return!1;if(e===n)return!0;var r=ji(n);return!!r&&e===r[0]}(Yn&&Gi(new Yn(new ArrayBuffer(1)))!=ue||Xn&&Gi(new Xn)!=H||Qn&&"[object Promise]"!=Gi(Qn.resolve())||Jn&&Gi(new Jn)!=te||er&&Gi(new er)!=ie)&&(Gi=function(e){var t=Xr(e),n=t==Q?e.constructor:o,r=n?ls(n):"";if(r)switch(r){case or:return ue;case ir:return H;case sr:return"[object Promise]";case ar:return te;case ur:return ie}return t});var Hi=at?xa:Bu;function Yi(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||st)}function Xi(e){return e==e&&!Ca(e)}function Qi(e,t){return function(n){return null!=n&&n[e]===t&&(t!==o||e in et(n))}}function Ji(e,t,r){return t=zn(t===o?e.length-1:t,0),function(){for(var o=arguments,i=-1,s=zn(o.length-t,0),a=n(s);++i<s;)a[i]=o[t+i];i=-1;for(var u=n(t+1);++i<t;)u[i]=o[i];return u[t]=r(a),zt(e,this,u)}}function es(e,t){return t.length<2?e:Hr(e,To(t,0,-1))}function ts(e,t){if("__proto__"!=t)return e[t]}var ns=ss(Lo),rs=Mn||function(e,t){return jt.setTimeout(e,t)},os=ss(ko);function is(e,t,n){var r=t+"";return os(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(Me,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return Vt(D,function(n){var r="_."+n[0];t&n[1]&&!Yt(e,r)&&e.push(r)}),e.sort()}(function(e){var t=e.match(qe);return t?t[1].split(Fe):[]}(r),n)))}function ss(e){var t=0,n=0;return function(){var r=Vn(),i=O-(r-n);if(n=r,i>0){if(++t>=k)return arguments[0]}else t=0;return e.apply(o,arguments)}}function as(e,t){var n=-1,r=e.length,i=r-1;for(t=t===o?r:t;++n<t;){var s=wo(n,i),a=e[s];e[s]=e[n],e[n]=a}return e.length=t,e}var us=function(e){var t=sa(e,function(e){return n.size===c&&n.clear(),e}),n=t.cache;return t}(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Te,function(e,n,r,o){t.push(r?o.replace(Ue,"$1"):n||e)}),t});function cs(e){if("string"==typeof e||Ra(e))return e;var t=e+"";return"0"==t&&1/e==-j?"-0":t}function ls(e){if(null!=e){try{return ut.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function fs(e){if(e instanceof mr)return e.clone();var t=new gr(e.__wrapped__,e.__chain__);return t.__actions__=ni(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var ps=xo(function(e,t){return _a(e)?qr(e,$r(t,1,_a,!0)):[]}),hs=xo(function(e,t){var n=Ss(t);return _a(n)&&(n=o),_a(e)?qr(e,$r(t,1,_a,!0),Ii(n,2)):[]}),ds=xo(function(e,t){var n=Ss(t);return _a(n)&&(n=o),_a(e)?qr(e,$r(t,1,_a,!0),o,n):[]});function gs(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:Ua(n);return o<0&&(o=zn(r+o,0)),sn(e,Ii(t,3),o)}function ms(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r-1;return n!==o&&(i=Ua(n),i=n<0?zn(r+i,0):Wn(i,r-1)),sn(e,Ii(t,3),i,!0)}function vs(e){return null!=e&&e.length?$r(e,1):[]}function ys(e){return e&&e.length?e[0]:o}var _s=xo(function(e){var t=Qt(e,zo);return t.length&&t[0]===e[0]?to(t):[]}),bs=xo(function(e){var t=Ss(e),n=Qt(e,zo);return t===Ss(n)?t=o:n.pop(),n.length&&n[0]===e[0]?to(n,Ii(t,2)):[]}),ws=xo(function(e){var t=Ss(e),n=Qt(e,zo);return(t="function"==typeof t?t:o)&&n.pop(),n.length&&n[0]===e[0]?to(n,o,t):[]});function Ss(e){var t=null==e?0:e.length;return t?e[t-1]:o}var xs=xo(Es);function Es(e,t){return e&&e.length&&t&&t.length?_o(e,t):e}var As=Oi(function(e,t){var n=null==e?0:e.length,r=jr(e,t);return bo(e,Qt(t,function(e){return Wi(e,n)?+e:e}).sort(Jo)),r});function Cs(e){return null==e?e:Hn.call(e)}var Ls=xo(function(e){return qo($r(e,1,_a,!0))}),ks=xo(function(e){var t=Ss(e);return _a(t)&&(t=o),qo($r(e,1,_a,!0),Ii(t,2))}),Os=xo(function(e){var t=Ss(e);return t="function"==typeof t?t:o,qo($r(e,1,_a,!0),o,t)});function Ts(e){if(!e||!e.length)return[];var t=0;return e=Ht(e,function(e){if(_a(e))return t=zn(e.length,t),!0}),gn(t,function(t){return Qt(e,fn(t))})}function Ns(e,t){if(!e||!e.length)return[];var n=Ts(e);return null==t?n:Qt(n,function(e){return zt(t,o,e)})}var js=xo(function(e,t){return _a(e)?qr(e,t):[]}),Ps=xo(function(e){return Bo(Ht(e,_a))}),Rs=xo(function(e){var t=Ss(e);return _a(t)&&(t=o),Bo(Ht(e,_a),Ii(t,2))}),Is=xo(function(e){var t=Ss(e);return t="function"==typeof t?t:o,Bo(Ht(e,_a),o,t)}),Ms=xo(Ts);var qs=xo(function(e){var t=e.length,n=t>1?e[t-1]:o;return Ns(e,n="function"==typeof n?(e.pop(),n):o)});function Fs(e){var t=pr(e);return t.__chain__=!0,t}function Ds(e,t){return t(e)}var Us=Oi(function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,i=function(t){return jr(t,e)};return!(t>1||this.__actions__.length)&&r instanceof mr&&Wi(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:Ds,args:[i],thisArg:o}),new gr(r,this.__chain__).thru(function(e){return t&&!e.length&&e.push(o),e})):this.thru(i)});var Gs=oi(function(e,t,n){ct.call(e,n)?++e[n]:Nr(e,n,1)});var Bs=fi(gs),$s=fi(ms);function zs(e,t){return(ma(e)?Vt:Fr)(e,Ii(t,3))}function Ws(e,t){return(ma(e)?Zt:Dr)(e,Ii(t,3))}var Vs=oi(function(e,t,n){ct.call(e,n)?e[n].push(t):Nr(e,n,[t])});var Zs=xo(function(e,t,r){var o=-1,i="function"==typeof t,s=ya(e)?n(e.length):[];return Fr(e,function(e){s[++o]=i?zt(t,e,r):no(e,t,r)}),s}),Ks=oi(function(e,t,n){Nr(e,n,t)});function Hs(e,t){return(ma(e)?Qt:fo)(e,Ii(t,3))}var Ys=oi(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]});var Xs=xo(function(e,t){if(null==e)return[];var n=t.length;return n>1&&Vi(e,t[0],t[1])?t=[]:n>2&&Vi(t[0],t[1],t[2])&&(t=[t[0]]),vo(e,$r(t,1),[])}),Qs=In||function(){return jt.Date.now()};function Js(e,t,n){return t=n?o:t,t=e&&null==t?e.length:t,Ei(e,x,o,o,o,o,t)}function ea(e,t){var n;if("function"!=typeof t)throw new rt(a);return e=Ua(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=o),n}}var ta=xo(function(e,t,n){var r=m;if(n.length){var o=Ln(n,Ri(ta));r|=w}return Ei(e,r,t,n,o)}),na=xo(function(e,t,n){var r=m|v;if(n.length){var o=Ln(n,Ri(na));r|=w}return Ei(t,r,e,n,o)});function ra(e,t,n){var r,i,s,u,c,l,f=0,p=!1,h=!1,d=!0;if("function"!=typeof e)throw new rt(a);function g(t){var n=r,s=i;return r=i=o,f=t,u=e.apply(s,n)}function m(e){var n=e-l;return l===o||n>=t||n<0||h&&e-f>=s}function v(){var e=Qs();if(m(e))return y(e);c=rs(v,function(e){var n=t-(e-l);return h?Wn(n,s-(e-f)):n}(e))}function y(e){return c=o,d&&r?g(e):(r=i=o,u)}function _(){var e=Qs(),n=m(e);if(r=arguments,i=this,l=e,n){if(c===o)return function(e){return f=e,c=rs(v,t),p?g(e):u}(l);if(h)return c=rs(v,t),g(l)}return c===o&&(c=rs(v,t)),u}return t=Ba(t)||0,Ca(n)&&(p=!!n.leading,s=(h="maxWait"in n)?zn(Ba(n.maxWait)||0,t):s,d="trailing"in n?!!n.trailing:d),_.cancel=function(){c!==o&&Ho(c),f=0,r=l=i=c=o},_.flush=function(){return c===o?u:y(Qs())},_}var oa=xo(function(e,t){return Mr(e,1,t)}),ia=xo(function(e,t,n){return Mr(e,Ba(t)||0,n)});function sa(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new rt(a);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var s=e.apply(this,r);return n.cache=i.set(o,s)||i,s};return n.cache=new(sa.Cache||_r),n}function aa(e){if("function"!=typeof e)throw new rt(a);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}sa.Cache=_r;var ua=Zo(function(e,t){var n=(t=1==t.length&&ma(t[0])?Qt(t[0],mn(Ii())):Qt($r(t,1),mn(Ii()))).length;return xo(function(r){for(var o=-1,i=Wn(r.length,n);++o<i;)r[o]=t[o].call(this,r[o]);return zt(e,this,r)})}),ca=xo(function(e,t){var n=Ln(t,Ri(ca));return Ei(e,w,o,t,n)}),la=xo(function(e,t){var n=Ln(t,Ri(la));return Ei(e,S,o,t,n)}),fa=Oi(function(e,t){return Ei(e,E,o,o,o,t)});function pa(e,t){return e===t||e!=e&&t!=t}var ha=_i(Qr),da=_i(function(e,t){return e>=t}),ga=ro(function(){return arguments}())?ro:function(e){return La(e)&&ct.call(e,"callee")&&!Pt.call(e,"callee")},ma=n.isArray,va=Ft?mn(Ft):function(e){return La(e)&&Xr(e)==ae};function ya(e){return null!=e&&Aa(e.length)&&!xa(e)}function _a(e){return La(e)&&ya(e)}var ba=Un||Bu,wa=Dt?mn(Dt):function(e){return La(e)&&Xr(e)==z};function Sa(e){if(!La(e))return!1;var t=Xr(e);return t==V||t==W||"string"==typeof e.message&&"string"==typeof e.name&&!Ta(e)}function xa(e){if(!Ca(e))return!1;var t=Xr(e);return t==Z||t==K||t==B||t==J}function Ea(e){return"number"==typeof e&&e==Ua(e)}function Aa(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=P}function Ca(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function La(e){return null!=e&&"object"==typeof e}var ka=Ut?mn(Ut):function(e){return La(e)&&Gi(e)==H};function Oa(e){return"number"==typeof e||La(e)&&Xr(e)==Y}function Ta(e){if(!La(e)||Xr(e)!=Q)return!1;var t=Tt(e);if(null===t)return!0;var n=ct.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&ut.call(n)==ht}var Na=Gt?mn(Gt):function(e){return La(e)&&Xr(e)==ee};var ja=Bt?mn(Bt):function(e){return La(e)&&Gi(e)==te};function Pa(e){return"string"==typeof e||!ma(e)&&La(e)&&Xr(e)==ne}function Ra(e){return"symbol"==typeof e||La(e)&&Xr(e)==re}var Ia=$t?mn($t):function(e){return La(e)&&Aa(e.length)&&!!At[Xr(e)]};var Ma=_i(lo),qa=_i(function(e,t){return e<=t});function Fa(e){if(!e)return[];if(ya(e))return Pa(e)?Nn(e):ni(e);if(qt&&e[qt])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[qt]());var t=Gi(e);return(t==H?An:t==te?kn:pu)(e)}function Da(e){return e?(e=Ba(e))===j||e===-j?(e<0?-1:1)*R:e==e?e:0:0===e?e:0}function Ua(e){var t=Da(e),n=t%1;return t==t?n?t-n:t:0}function Ga(e){return e?Pr(Ua(e),0,M):0}function Ba(e){if("number"==typeof e)return e;if(Ra(e))return I;if(Ca(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Ca(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(Pe,"");var n=ze.test(e);return n||Ve.test(e)?Ot(e.slice(2),n?2:8):$e.test(e)?I:+e}function $a(e){return ri(e,ou(e))}function za(e){return null==e?"":Mo(e)}var Wa=ii(function(e,t){if(Yi(t)||ya(t))ri(t,ru(t),e);else for(var n in t)ct.call(t,n)&&Lr(e,n,t[n])}),Va=ii(function(e,t){ri(t,ou(t),e)}),Za=ii(function(e,t,n,r){ri(t,ou(t),e,r)}),Ka=ii(function(e,t,n,r){ri(t,ru(t),e,r)}),Ha=Oi(jr);var Ya=xo(function(e,t){e=et(e);var n=-1,r=t.length,i=r>2?t[2]:o;for(i&&Vi(t[0],t[1],i)&&(r=1);++n<r;)for(var s=t[n],a=ou(s),u=-1,c=a.length;++u<c;){var l=a[u],f=e[l];(f===o||pa(f,st[l])&&!ct.call(e,l))&&(e[l]=s[l])}return e}),Xa=xo(function(e){return e.push(o,Ci),zt(su,o,e)});function Qa(e,t,n){var r=null==e?o:Hr(e,t);return r===o?n:r}function Ja(e,t){return null!=e&&Bi(e,t,eo)}var eu=di(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=pt.call(t)),e[t]=n},Cu(Ou)),tu=di(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=pt.call(t)),ct.call(e,t)?e[t].push(n):e[t]=[n]},Ii),nu=xo(no);function ru(e){return ya(e)?Sr(e):uo(e)}function ou(e){return ya(e)?Sr(e,!0):co(e)}var iu=ii(function(e,t,n){go(e,t,n)}),su=ii(function(e,t,n,r){go(e,t,n,r)}),au=Oi(function(e,t){var n={};if(null==e)return n;var r=!1;t=Qt(t,function(t){return t=Vo(t,e),r||(r=t.length>1),t}),ri(e,Ni(e),n),r&&(n=Rr(n,f|p|h,Li));for(var o=t.length;o--;)Fo(n,t[o]);return n});var uu=Oi(function(e,t){return null==e?{}:function(e,t){return yo(e,t,function(t,n){return Ja(e,n)})}(e,t)});function cu(e,t){if(null==e)return{};var n=Qt(Ni(e),function(e){return[e]});return t=Ii(t),yo(e,n,function(e,n){return t(e,n[0])})}var lu=xi(ru),fu=xi(ou);function pu(e){return null==e?[]:vn(e,ru(e))}var hu=ci(function(e,t,n){return t=t.toLowerCase(),e+(n?du(t):t)});function du(e){return Su(za(e).toLowerCase())}function gu(e){return(e=za(e))&&e.replace(Ke,wn).replace(yt,"")}var mu=ci(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),vu=ci(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),yu=ui("toLowerCase");var _u=ci(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()});var bu=ci(function(e,t,n){return e+(n?" ":"")+Su(t)});var wu=ci(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),Su=ui("toUpperCase");function xu(e,t,n){return e=za(e),(t=n?o:t)===o?function(e){return St.test(e)}(e)?function(e){return e.match(bt)||[]}(e):function(e){return e.match(De)||[]}(e):e.match(t)||[]}var Eu=xo(function(e,t){try{return zt(e,o,t)}catch(e){return Sa(e)?e:new Xe(e)}}),Au=Oi(function(e,t){return Vt(t,function(t){t=cs(t),Nr(e,t,ta(e[t],e))}),e});function Cu(e){return function(){return e}}var Lu=pi(),ku=pi(!0);function Ou(e){return e}function Tu(e){return ao("function"==typeof e?e:Rr(e,f))}var Nu=xo(function(e,t){return function(n){return no(n,e,t)}}),ju=xo(function(e,t){return function(n){return no(e,n,t)}});function Pu(e,t,n){var r=ru(t),o=Kr(t,r);null!=n||Ca(t)&&(o.length||!r.length)||(n=t,t=e,e=this,o=Kr(t,ru(t)));var i=!(Ca(n)&&"chain"in n&&!n.chain),s=xa(e);return Vt(o,function(n){var r=t[n];e[n]=r,s&&(e.prototype[n]=function(){var t=this.__chain__;if(i||t){var n=e(this.__wrapped__);return(n.__actions__=ni(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Jt([this.value()],arguments))})}),e}function Ru(){}var Iu=mi(Qt),Mu=mi(Kt),qu=mi(nn);function Fu(e){return Zi(e)?fn(cs(e)):function(e){return function(t){return Hr(t,e)}}(e)}var Du=yi(),Uu=yi(!0);function Gu(){return[]}function Bu(){return!1}var $u=gi(function(e,t){return e+t},0),zu=wi("ceil"),Wu=gi(function(e,t){return e/t},1),Vu=wi("floor");var Zu=gi(function(e,t){return e*t},1),Ku=wi("round"),Hu=gi(function(e,t){return e-t},0);return pr.after=function(e,t){if("function"!=typeof t)throw new rt(a);return e=Ua(e),function(){if(--e<1)return t.apply(this,arguments)}},pr.ary=Js,pr.assign=Wa,pr.assignIn=Va,pr.assignInWith=Za,pr.assignWith=Ka,pr.at=Ha,pr.before=ea,pr.bind=ta,pr.bindAll=Au,pr.bindKey=na,pr.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return ma(e)?e:[e]},pr.chain=Fs,pr.chunk=function(e,t,r){t=(r?Vi(e,t,r):t===o)?1:zn(Ua(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var s=0,a=0,u=n(qn(i/t));s<i;)u[a++]=To(e,s,s+=t);return u},pr.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,o=[];++t<n;){var i=e[t];i&&(o[r++]=i)}return o},pr.concat=function(){var e=arguments.length;if(!e)return[];for(var t=n(e-1),r=arguments[0],o=e;o--;)t[o-1]=arguments[o];return Jt(ma(r)?ni(r):[r],$r(t,1))},pr.cond=function(e){var t=null==e?0:e.length,n=Ii();return e=t?Qt(e,function(e){if("function"!=typeof e[1])throw new rt(a);return[n(e[0]),e[1]]}):[],xo(function(n){for(var r=-1;++r<t;){var o=e[r];if(zt(o[0],this,n))return zt(o[1],this,n)}})},pr.conforms=function(e){return function(e){var t=ru(e);return function(n){return Ir(n,e,t)}}(Rr(e,f))},pr.constant=Cu,pr.countBy=Gs,pr.create=function(e,t){var n=hr(e);return null==t?n:Tr(n,t)},pr.curry=function e(t,n,r){var i=Ei(t,_,o,o,o,o,o,n=r?o:n);return i.placeholder=e.placeholder,i},pr.curryRight=function e(t,n,r){var i=Ei(t,b,o,o,o,o,o,n=r?o:n);return i.placeholder=e.placeholder,i},pr.debounce=ra,pr.defaults=Ya,pr.defaultsDeep=Xa,pr.defer=oa,pr.delay=ia,pr.difference=ps,pr.differenceBy=hs,pr.differenceWith=ds,pr.drop=function(e,t,n){var r=null==e?0:e.length;return r?To(e,(t=n||t===o?1:Ua(t))<0?0:t,r):[]},pr.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?To(e,0,(t=r-(t=n||t===o?1:Ua(t)))<0?0:t):[]},pr.dropRightWhile=function(e,t){return e&&e.length?Uo(e,Ii(t,3),!0,!0):[]},pr.dropWhile=function(e,t){return e&&e.length?Uo(e,Ii(t,3),!0):[]},pr.fill=function(e,t,n,r){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&Vi(e,t,n)&&(n=0,r=i),function(e,t,n,r){var i=e.length;for((n=Ua(n))<0&&(n=-n>i?0:i+n),(r=r===o||r>i?i:Ua(r))<0&&(r+=i),r=n>r?0:Ga(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},pr.filter=function(e,t){return(ma(e)?Ht:Br)(e,Ii(t,3))},pr.flatMap=function(e,t){return $r(Hs(e,t),1)},pr.flatMapDeep=function(e,t){return $r(Hs(e,t),j)},pr.flatMapDepth=function(e,t,n){return n=n===o?1:Ua(n),$r(Hs(e,t),n)},pr.flatten=vs,pr.flattenDeep=function(e){return null!=e&&e.length?$r(e,j):[]},pr.flattenDepth=function(e,t){return null!=e&&e.length?$r(e,t=t===o?1:Ua(t)):[]},pr.flip=function(e){return Ei(e,A)},pr.flow=Lu,pr.flowRight=ku,pr.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var o=e[t];r[o[0]]=o[1]}return r},pr.functions=function(e){return null==e?[]:Kr(e,ru(e))},pr.functionsIn=function(e){return null==e?[]:Kr(e,ou(e))},pr.groupBy=Vs,pr.initial=function(e){return null!=e&&e.length?To(e,0,-1):[]},pr.intersection=_s,pr.intersectionBy=bs,pr.intersectionWith=ws,pr.invert=eu,pr.invertBy=tu,pr.invokeMap=Zs,pr.iteratee=Tu,pr.keyBy=Ks,pr.keys=ru,pr.keysIn=ou,pr.map=Hs,pr.mapKeys=function(e,t){var n={};return t=Ii(t,3),Vr(e,function(e,r,o){Nr(n,t(e,r,o),e)}),n},pr.mapValues=function(e,t){var n={};return t=Ii(t,3),Vr(e,function(e,r,o){Nr(n,r,t(e,r,o))}),n},pr.matches=function(e){return po(Rr(e,f))},pr.matchesProperty=function(e,t){return ho(e,Rr(t,f))},pr.memoize=sa,pr.merge=iu,pr.mergeWith=su,pr.method=Nu,pr.methodOf=ju,pr.mixin=Pu,pr.negate=aa,pr.nthArg=function(e){return e=Ua(e),xo(function(t){return mo(t,e)})},pr.omit=au,pr.omitBy=function(e,t){return cu(e,aa(Ii(t)))},pr.once=function(e){return ea(2,e)},pr.orderBy=function(e,t,n,r){return null==e?[]:(ma(t)||(t=null==t?[]:[t]),ma(n=r?o:n)||(n=null==n?[]:[n]),vo(e,t,n))},pr.over=Iu,pr.overArgs=ua,pr.overEvery=Mu,pr.overSome=qu,pr.partial=ca,pr.partialRight=la,pr.partition=Ys,pr.pick=uu,pr.pickBy=cu,pr.property=Fu,pr.propertyOf=function(e){return function(t){return null==e?o:Hr(e,t)}},pr.pull=xs,pr.pullAll=Es,pr.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?_o(e,t,Ii(n,2)):e},pr.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?_o(e,t,o,n):e},pr.pullAt=As,pr.range=Du,pr.rangeRight=Uu,pr.rearg=fa,pr.reject=function(e,t){return(ma(e)?Ht:Br)(e,aa(Ii(t,3)))},pr.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,o=[],i=e.length;for(t=Ii(t,3);++r<i;){var s=e[r];t(s,r,e)&&(n.push(s),o.push(r))}return bo(e,o),n},pr.rest=function(e,t){if("function"!=typeof e)throw new rt(a);return xo(e,t=t===o?t:Ua(t))},pr.reverse=Cs,pr.sampleSize=function(e,t,n){return t=(n?Vi(e,t,n):t===o)?1:Ua(t),(ma(e)?Er:Ao)(e,t)},pr.set=function(e,t,n){return null==e?e:Co(e,t,n)},pr.setWith=function(e,t,n,r){return r="function"==typeof r?r:o,null==e?e:Co(e,t,n,r)},pr.shuffle=function(e){return(ma(e)?Ar:Oo)(e)},pr.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&Vi(e,t,n)?(t=0,n=r):(t=null==t?0:Ua(t),n=n===o?r:Ua(n)),To(e,t,n)):[]},pr.sortBy=Xs,pr.sortedUniq=function(e){return e&&e.length?Ro(e):[]},pr.sortedUniqBy=function(e,t){return e&&e.length?Ro(e,Ii(t,2)):[]},pr.split=function(e,t,n){return n&&"number"!=typeof n&&Vi(e,t,n)&&(t=n=o),(n=n===o?M:n>>>0)?(e=za(e))&&("string"==typeof t||null!=t&&!Na(t))&&!(t=Mo(t))&&En(e)?Ko(Nn(e),0,n):e.split(t,n):[]},pr.spread=function(e,t){if("function"!=typeof e)throw new rt(a);return t=null==t?0:zn(Ua(t),0),xo(function(n){var r=n[t],o=Ko(n,0,t);return r&&Jt(o,r),zt(e,this,o)})},pr.tail=function(e){var t=null==e?0:e.length;return t?To(e,1,t):[]},pr.take=function(e,t,n){return e&&e.length?To(e,0,(t=n||t===o?1:Ua(t))<0?0:t):[]},pr.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?To(e,(t=r-(t=n||t===o?1:Ua(t)))<0?0:t,r):[]},pr.takeRightWhile=function(e,t){return e&&e.length?Uo(e,Ii(t,3),!1,!0):[]},pr.takeWhile=function(e,t){return e&&e.length?Uo(e,Ii(t,3)):[]},pr.tap=function(e,t){return t(e),e},pr.throttle=function(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new rt(a);return Ca(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),ra(e,t,{leading:r,maxWait:t,trailing:o})},pr.thru=Ds,pr.toArray=Fa,pr.toPairs=lu,pr.toPairsIn=fu,pr.toPath=function(e){return ma(e)?Qt(e,cs):Ra(e)?[e]:ni(us(za(e)))},pr.toPlainObject=$a,pr.transform=function(e,t,n){var r=ma(e),o=r||ba(e)||Ia(e);if(t=Ii(t,4),null==n){var i=e&&e.constructor;n=o?r?new i:[]:Ca(e)&&xa(i)?hr(Tt(e)):{}}return(o?Vt:Vr)(e,function(e,r,o){return t(n,e,r,o)}),n},pr.unary=function(e){return Js(e,1)},pr.union=Ls,pr.unionBy=ks,pr.unionWith=Os,pr.uniq=function(e){return e&&e.length?qo(e):[]},pr.uniqBy=function(e,t){return e&&e.length?qo(e,Ii(t,2)):[]},pr.uniqWith=function(e,t){return t="function"==typeof t?t:o,e&&e.length?qo(e,o,t):[]},pr.unset=function(e,t){return null==e||Fo(e,t)},pr.unzip=Ts,pr.unzipWith=Ns,pr.update=function(e,t,n){return null==e?e:Do(e,t,Wo(n))},pr.updateWith=function(e,t,n,r){return r="function"==typeof r?r:o,null==e?e:Do(e,t,Wo(n),r)},pr.values=pu,pr.valuesIn=function(e){return null==e?[]:vn(e,ou(e))},pr.without=js,pr.words=xu,pr.wrap=function(e,t){return ca(Wo(t),e)},pr.xor=Ps,pr.xorBy=Rs,pr.xorWith=Is,pr.zip=Ms,pr.zipObject=function(e,t){return $o(e||[],t||[],Lr)},pr.zipObjectDeep=function(e,t){return $o(e||[],t||[],Co)},pr.zipWith=qs,pr.entries=lu,pr.entriesIn=fu,pr.extend=Va,pr.extendWith=Za,Pu(pr,pr),pr.add=$u,pr.attempt=Eu,pr.camelCase=hu,pr.capitalize=du,pr.ceil=zu,pr.clamp=function(e,t,n){return n===o&&(n=t,t=o),n!==o&&(n=(n=Ba(n))==n?n:0),t!==o&&(t=(t=Ba(t))==t?t:0),Pr(Ba(e),t,n)},pr.clone=function(e){return Rr(e,h)},pr.cloneDeep=function(e){return Rr(e,f|h)},pr.cloneDeepWith=function(e,t){return Rr(e,f|h,t="function"==typeof t?t:o)},pr.cloneWith=function(e,t){return Rr(e,h,t="function"==typeof t?t:o)},pr.conformsTo=function(e,t){return null==t||Ir(e,t,ru(t))},pr.deburr=gu,pr.defaultTo=function(e,t){return null==e||e!=e?t:e},pr.divide=Wu,pr.endsWith=function(e,t,n){e=za(e),t=Mo(t);var r=e.length,i=n=n===o?r:Pr(Ua(n),0,r);return(n-=t.length)>=0&&e.slice(n,i)==t},pr.eq=pa,pr.escape=function(e){return(e=za(e))&&Ee.test(e)?e.replace(Se,Sn):e},pr.escapeRegExp=function(e){return(e=za(e))&&je.test(e)?e.replace(Ne,"\\$&"):e},pr.every=function(e,t,n){var r=ma(e)?Kt:Ur;return n&&Vi(e,t,n)&&(t=o),r(e,Ii(t,3))},pr.find=Bs,pr.findIndex=gs,pr.findKey=function(e,t){return on(e,Ii(t,3),Vr)},pr.findLast=$s,pr.findLastIndex=ms,pr.findLastKey=function(e,t){return on(e,Ii(t,3),Zr)},pr.floor=Vu,pr.forEach=zs,pr.forEachRight=Ws,pr.forIn=function(e,t){return null==e?e:zr(e,Ii(t,3),ou)},pr.forInRight=function(e,t){return null==e?e:Wr(e,Ii(t,3),ou)},pr.forOwn=function(e,t){return e&&Vr(e,Ii(t,3))},pr.forOwnRight=function(e,t){return e&&Zr(e,Ii(t,3))},pr.get=Qa,pr.gt=ha,pr.gte=da,pr.has=function(e,t){return null!=e&&Bi(e,t,Jr)},pr.hasIn=Ja,pr.head=ys,pr.identity=Ou,pr.includes=function(e,t,n,r){e=ya(e)?e:pu(e),n=n&&!r?Ua(n):0;var o=e.length;return n<0&&(n=zn(o+n,0)),Pa(e)?n<=o&&e.indexOf(t,n)>-1:!!o&&an(e,t,n)>-1},pr.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:Ua(n);return o<0&&(o=zn(r+o,0)),an(e,t,o)},pr.inRange=function(e,t,n){return t=Da(t),n===o?(n=t,t=0):n=Da(n),function(e,t,n){return e>=Wn(t,n)&&e<zn(t,n)}(e=Ba(e),t,n)},pr.invoke=nu,pr.isArguments=ga,pr.isArray=ma,pr.isArrayBuffer=va,pr.isArrayLike=ya,pr.isArrayLikeObject=_a,pr.isBoolean=function(e){return!0===e||!1===e||La(e)&&Xr(e)==$},pr.isBuffer=ba,pr.isDate=wa,pr.isElement=function(e){return La(e)&&1===e.nodeType&&!Ta(e)},pr.isEmpty=function(e){if(null==e)return!0;if(ya(e)&&(ma(e)||"string"==typeof e||"function"==typeof e.splice||ba(e)||Ia(e)||ga(e)))return!e.length;var t=Gi(e);if(t==H||t==te)return!e.size;if(Yi(e))return!uo(e).length;for(var n in e)if(ct.call(e,n))return!1;return!0},pr.isEqual=function(e,t){return oo(e,t)},pr.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:o)?n(e,t):o;return r===o?oo(e,t,o,n):!!r},pr.isError=Sa,pr.isFinite=function(e){return"number"==typeof e&&Gn(e)},pr.isFunction=xa,pr.isInteger=Ea,pr.isLength=Aa,pr.isMap=ka,pr.isMatch=function(e,t){return e===t||io(e,t,qi(t))},pr.isMatchWith=function(e,t,n){return n="function"==typeof n?n:o,io(e,t,qi(t),n)},pr.isNaN=function(e){return Oa(e)&&e!=+e},pr.isNative=function(e){if(Hi(e))throw new Xe(s);return so(e)},pr.isNil=function(e){return null==e},pr.isNull=function(e){return null===e},pr.isNumber=Oa,pr.isObject=Ca,pr.isObjectLike=La,pr.isPlainObject=Ta,pr.isRegExp=Na,pr.isSafeInteger=function(e){return Ea(e)&&e>=-P&&e<=P},pr.isSet=ja,pr.isString=Pa,pr.isSymbol=Ra,pr.isTypedArray=Ia,pr.isUndefined=function(e){return e===o},pr.isWeakMap=function(e){return La(e)&&Gi(e)==ie},pr.isWeakSet=function(e){return La(e)&&Xr(e)==se},pr.join=function(e,t){return null==e?"":Bn.call(e,t)},pr.kebabCase=mu,pr.last=Ss,pr.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r;return n!==o&&(i=(i=Ua(n))<0?zn(r+i,0):Wn(i,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,i):sn(e,cn,i,!0)},pr.lowerCase=vu,pr.lowerFirst=yu,pr.lt=Ma,pr.lte=qa,pr.max=function(e){return e&&e.length?Gr(e,Ou,Qr):o},pr.maxBy=function(e,t){return e&&e.length?Gr(e,Ii(t,2),Qr):o},pr.mean=function(e){return ln(e,Ou)},pr.meanBy=function(e,t){return ln(e,Ii(t,2))},pr.min=function(e){return e&&e.length?Gr(e,Ou,lo):o},pr.minBy=function(e,t){return e&&e.length?Gr(e,Ii(t,2),lo):o},pr.stubArray=Gu,pr.stubFalse=Bu,pr.stubObject=function(){return{}},pr.stubString=function(){return""},pr.stubTrue=function(){return!0},pr.multiply=Zu,pr.nth=function(e,t){return e&&e.length?mo(e,Ua(t)):o},pr.noConflict=function(){return jt._===this&&(jt._=dt),this},pr.noop=Ru,pr.now=Qs,pr.pad=function(e,t,n){e=za(e);var r=(t=Ua(t))?Tn(e):0;if(!t||r>=t)return e;var o=(t-r)/2;return vi(Fn(o),n)+e+vi(qn(o),n)},pr.padEnd=function(e,t,n){e=za(e);var r=(t=Ua(t))?Tn(e):0;return t&&r<t?e+vi(t-r,n):e},pr.padStart=function(e,t,n){e=za(e);var r=(t=Ua(t))?Tn(e):0;return t&&r<t?vi(t-r,n)+e:e},pr.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),Zn(za(e).replace(Re,""),t||0)},pr.random=function(e,t,n){if(n&&"boolean"!=typeof n&&Vi(e,t,n)&&(t=n=o),n===o&&("boolean"==typeof t?(n=t,t=o):"boolean"==typeof e&&(n=e,e=o)),e===o&&t===o?(e=0,t=1):(e=Da(e),t===o?(t=e,e=0):t=Da(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=Kn();return Wn(e+i*(t-e+kt("1e-"+((i+"").length-1))),t)}return wo(e,t)},pr.reduce=function(e,t,n){var r=ma(e)?en:hn,o=arguments.length<3;return r(e,Ii(t,4),n,o,Fr)},pr.reduceRight=function(e,t,n){var r=ma(e)?tn:hn,o=arguments.length<3;return r(e,Ii(t,4),n,o,Dr)},pr.repeat=function(e,t,n){return t=(n?Vi(e,t,n):t===o)?1:Ua(t),So(za(e),t)},pr.replace=function(){var e=arguments,t=za(e[0]);return e.length<3?t:t.replace(e[1],e[2])},pr.result=function(e,t,n){var r=-1,i=(t=Vo(t,e)).length;for(i||(i=1,e=o);++r<i;){var s=null==e?o:e[cs(t[r])];s===o&&(r=i,s=n),e=xa(s)?s.call(e):s}return e},pr.round=Ku,pr.runInContext=e,pr.sample=function(e){return(ma(e)?xr:Eo)(e)},pr.size=function(e){if(null==e)return 0;if(ya(e))return Pa(e)?Tn(e):e.length;var t=Gi(e);return t==H||t==te?e.size:uo(e).length},pr.snakeCase=_u,pr.some=function(e,t,n){var r=ma(e)?nn:No;return n&&Vi(e,t,n)&&(t=o),r(e,Ii(t,3))},pr.sortedIndex=function(e,t){return jo(e,t)},pr.sortedIndexBy=function(e,t,n){return Po(e,t,Ii(n,2))},pr.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=jo(e,t);if(r<n&&pa(e[r],t))return r}return-1},pr.sortedLastIndex=function(e,t){return jo(e,t,!0)},pr.sortedLastIndexBy=function(e,t,n){return Po(e,t,Ii(n,2),!0)},pr.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var n=jo(e,t,!0)-1;if(pa(e[n],t))return n}return-1},pr.startCase=bu,pr.startsWith=function(e,t,n){return e=za(e),n=null==n?0:Pr(Ua(n),0,e.length),t=Mo(t),e.slice(n,n+t.length)==t},pr.subtract=Hu,pr.sum=function(e){return e&&e.length?dn(e,Ou):0},pr.sumBy=function(e,t){return e&&e.length?dn(e,Ii(t,2)):0},pr.template=function(e,t,n){var r=pr.templateSettings;n&&Vi(e,t,n)&&(t=o),e=za(e),t=Za({},t,r,Ai);var i,s,a=Za({},t.imports,r.imports,Ai),u=ru(a),c=vn(a,u),l=0,f=t.interpolate||He,p="__p += '",h=tt((t.escape||He).source+"|"+f.source+"|"+(f===Le?Ge:He).source+"|"+(t.evaluate||He).source+"|$","g"),d="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++Et+"]")+"\n";e.replace(h,function(t,n,r,o,a,u){return r||(r=o),p+=e.slice(l,u).replace(Ye,xn),n&&(i=!0,p+="' +\n__e("+n+") +\n'"),a&&(s=!0,p+="';\n"+a+";\n__p += '"),r&&(p+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=u+t.length,t}),p+="';\n";var g=t.variable;g||(p="with (obj) {\n"+p+"\n}\n"),p=(s?p.replace(ye,""):p).replace(_e,"$1").replace(be,"$1;"),p="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var m=Eu(function(){return Qe(u,d+"return "+p).apply(o,c)});if(m.source=p,Sa(m))throw m;return m},pr.times=function(e,t){if((e=Ua(e))<1||e>P)return[];var n=M,r=Wn(e,M);t=Ii(t),e-=M;for(var o=gn(r,t);++n<e;)t(n);return o},pr.toFinite=Da,pr.toInteger=Ua,pr.toLength=Ga,pr.toLower=function(e){return za(e).toLowerCase()},pr.toNumber=Ba,pr.toSafeInteger=function(e){return e?Pr(Ua(e),-P,P):0===e?e:0},pr.toString=za,pr.toUpper=function(e){return za(e).toUpperCase()},pr.trim=function(e,t,n){if((e=za(e))&&(n||t===o))return e.replace(Pe,"");if(!e||!(t=Mo(t)))return e;var r=Nn(e),i=Nn(t);return Ko(r,_n(r,i),bn(r,i)+1).join("")},pr.trimEnd=function(e,t,n){if((e=za(e))&&(n||t===o))return e.replace(Ie,"");if(!e||!(t=Mo(t)))return e;var r=Nn(e);return Ko(r,0,bn(r,Nn(t))+1).join("")},pr.trimStart=function(e,t,n){if((e=za(e))&&(n||t===o))return e.replace(Re,"");if(!e||!(t=Mo(t)))return e;var r=Nn(e);return Ko(r,_n(r,Nn(t))).join("")},pr.truncate=function(e,t){var n=C,r=L;if(Ca(t)){var i="separator"in t?t.separator:i;n="length"in t?Ua(t.length):n,r="omission"in t?Mo(t.omission):r}var s=(e=za(e)).length;if(En(e)){var a=Nn(e);s=a.length}if(n>=s)return e;var u=n-Tn(r);if(u<1)return r;var c=a?Ko(a,0,u).join(""):e.slice(0,u);if(i===o)return c+r;if(a&&(u+=c.length-u),Na(i)){if(e.slice(u).search(i)){var l,f=c;for(i.global||(i=tt(i.source,za(Be.exec(i))+"g")),i.lastIndex=0;l=i.exec(f);)var p=l.index;c=c.slice(0,p===o?u:p)}}else if(e.indexOf(Mo(i),u)!=u){var h=c.lastIndexOf(i);h>-1&&(c=c.slice(0,h))}return c+r},pr.unescape=function(e){return(e=za(e))&&xe.test(e)?e.replace(we,jn):e},pr.uniqueId=function(e){var t=++lt;return za(e)+t},pr.upperCase=wu,pr.upperFirst=Su,pr.each=zs,pr.eachRight=Ws,pr.first=ys,Pu(pr,function(){var e={};return Vr(pr,function(t,n){ct.call(pr.prototype,n)||(e[n]=t)}),e}(),{chain:!1}),pr.VERSION="4.17.11",Vt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){pr[e].placeholder=pr}),Vt(["drop","take"],function(e,t){mr.prototype[e]=function(n){n=n===o?1:zn(Ua(n),0);var r=this.__filtered__&&!t?new mr(this):this.clone();return r.__filtered__?r.__takeCount__=Wn(n,r.__takeCount__):r.__views__.push({size:Wn(n,M),type:e+(r.__dir__<0?"Right":"")}),r},mr.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),Vt(["filter","map","takeWhile"],function(e,t){var n=t+1,r=n==T||3==n;mr.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Ii(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}}),Vt(["head","last"],function(e,t){var n="take"+(t?"Right":"");mr.prototype[e]=function(){return this[n](1).value()[0]}}),Vt(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");mr.prototype[e]=function(){return this.__filtered__?new mr(this):this[n](1)}}),mr.prototype.compact=function(){return this.filter(Ou)},mr.prototype.find=function(e){return this.filter(e).head()},mr.prototype.findLast=function(e){return this.reverse().find(e)},mr.prototype.invokeMap=xo(function(e,t){return"function"==typeof e?new mr(this):this.map(function(n){return no(n,e,t)})}),mr.prototype.reject=function(e){return this.filter(aa(Ii(e)))},mr.prototype.slice=function(e,t){e=Ua(e);var n=this;return n.__filtered__&&(e>0||t<0)?new mr(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==o&&(n=(t=Ua(t))<0?n.dropRight(-t):n.take(t-e)),n)},mr.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},mr.prototype.toArray=function(){return this.take(M)},Vr(mr.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),i=pr[r?"take"+("last"==t?"Right":""):t],s=r||/^find/.test(t);i&&(pr.prototype[t]=function(){var t=this.__wrapped__,a=r?[1]:arguments,u=t instanceof mr,c=a[0],l=u||ma(t),f=function(e){var t=i.apply(pr,Jt([e],a));return r&&p?t[0]:t};l&&n&&"function"==typeof c&&1!=c.length&&(u=l=!1);var p=this.__chain__,h=!!this.__actions__.length,d=s&&!p,g=u&&!h;if(!s&&l){t=g?t:new mr(this);var m=e.apply(t,a);return m.__actions__.push({func:Ds,args:[f],thisArg:o}),new gr(m,p)}return d&&g?e.apply(this,a):(m=this.thru(f),d?r?m.value()[0]:m.value():m)})}),Vt(["pop","push","shift","sort","splice","unshift"],function(e){var t=ot[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);pr.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var o=this.value();return t.apply(ma(o)?o:[],e)}return this[n](function(n){return t.apply(ma(n)?n:[],e)})}}),Vr(mr.prototype,function(e,t){var n=pr[t];if(n){var r=n.name+"";(rr[r]||(rr[r]=[])).push({name:t,func:n})}}),rr[hi(o,v).name]=[{name:"wrapper",func:o}],mr.prototype.clone=function(){var e=new mr(this.__wrapped__);return e.__actions__=ni(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=ni(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=ni(this.__views__),e},mr.prototype.reverse=function(){if(this.__filtered__){var e=new mr(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},mr.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=ma(e),r=t<0,o=n?e.length:0,i=function(e,t,n){for(var r=-1,o=n.length;++r<o;){var i=n[r],s=i.size;switch(i.type){case"drop":e+=s;break;case"dropRight":t-=s;break;case"take":t=Wn(t,e+s);break;case"takeRight":e=zn(e,t-s)}}return{start:e,end:t}}(0,o,this.__views__),s=i.start,a=i.end,u=a-s,c=r?a:s-1,l=this.__iteratees__,f=l.length,p=0,h=Wn(u,this.__takeCount__);if(!n||!r&&o==u&&h==u)return Go(e,this.__actions__);var d=[];e:for(;u--&&p<h;){for(var g=-1,m=e[c+=t];++g<f;){var v=l[g],y=v.iteratee,_=v.type,b=y(m);if(_==N)m=b;else if(!b){if(_==T)continue e;break e}}d[p++]=m}return d},pr.prototype.at=Us,pr.prototype.chain=function(){return Fs(this)},pr.prototype.commit=function(){return new gr(this.value(),this.__chain__)},pr.prototype.next=function(){this.__values__===o&&(this.__values__=Fa(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?o:this.__values__[this.__index__++]}},pr.prototype.plant=function(e){for(var t,n=this;n instanceof dr;){var r=fs(n);r.__index__=0,r.__values__=o,t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t},pr.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof mr){var t=e;return this.__actions__.length&&(t=new mr(this)),(t=t.reverse()).__actions__.push({func:Ds,args:[Cs],thisArg:o}),new gr(t,this.__chain__)}return this.thru(Cs)},pr.prototype.toJSON=pr.prototype.valueOf=pr.prototype.value=function(){return Go(this.__wrapped__,this.__actions__)},pr.prototype.first=pr.prototype.head,qt&&(pr.prototype[qt]=function(){return this}),pr}();jt._=Pn,(r=function(){return Pn}.call(t,n,t,e))===o||(e.exports=r)}).call(this)}).call(this,n(21)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){var r=n(23),o=n(25);e.exports=function(e,t,n){var i=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var s=(e=e||{}).random||(e.rng||r)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t)for(var a=0;a<16;++a)t[i+a]=s[a];return t||o(s)}},function(e,t,n){var r=n(24);e.exports=function(){return r.randomBytes(16)}},function(e,t){e.exports=require("crypto")},function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0,o=n;return[o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]]].join("")}},function(e,t,n){"use strict";var r=n(86);e.exports=new r},function(e,t){e.exports=require("zlib")},function(e,t){e.exports=r,r.default=r,r.stable=i,r.stableStringify=i;var n=[];function r(e,t,r){!function e(t,r,o,i){var s;if("object"==typeof t&&null!==t){for(s=0;s<o.length;s++)if(o[s]===t)return i[r]="[Circular]",void n.push([i,r,t]);if(o.push(t),Array.isArray(t))for(s=0;s<t.length;s++)e(t[s],s,o,t);else{var a=Object.keys(t);for(s=0;s<a.length;s++){var u=a[s];e(t[u],u,o,t)}}o.pop()}}(e,"",[],void 0);for(var o=JSON.stringify(e,t,r);0!==n.length;){var i=n.pop();i[0][i[1]]=i[2]}return o}function o(e,t){return e<t?-1:e>t?1:0}function i(e,t,r){for(var i=function e(t,r,i,s){var a;if("object"==typeof t&&null!==t){for(a=0;a<i.length;a++)if(i[a]===t)return s[r]="[Circular]",void n.push([s,r,t]);if("function"==typeof t.toJSON)return;if(i.push(t),Array.isArray(t))for(a=0;a<t.length;a++)e(t[a],a,i,t);else{var u={},c=Object.keys(t).sort(o);for(a=0;a<c.length;a++){var l=c[a];e(t[l],l,i,t),u[l]=t[l]}if(void 0===s)return u;n.push([s,r,t]),s[r]=u}i.pop()}}(e,"",[],void 0)||e,s=JSON.stringify(i,t,r);0!==n.length;){var a=n.pop();a[0][a[1]]=a[2]}return s}},function(e,t,n){var r=n(91),o=n(22),i=o;i.v1=r,i.v4=o,e.exports=i},function(e,t,n){"use strict";const r=(e,t)=>(function(){const n=t.promiseModule,r=new Array(arguments.length);for(let e=0;e<arguments.length;e++)r[e]=arguments[e];return new n((n,o)=>{t.errorFirst?r.push(function(e,r){if(t.multiArgs){const t=new Array(arguments.length-1);for(let e=1;e<arguments.length;e++)t[e-1]=arguments[e];e?(t.unshift(e),o(t)):n(t)}else e?o(e):n(r)}):r.push(function(e){if(t.multiArgs){const e=new Array(arguments.length-1);for(let t=0;t<arguments.length;t++)e[t]=arguments[t];n(e)}else n(e)}),e.apply(this,r)})});e.exports=((e,t)=>{t=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},t);const n=e=>{const n=t=>"string"==typeof t?e===t:t.test(e);return t.include?t.include.some(n):!t.exclude.some(n)};let o;o="function"==typeof e?function(){return t.excludeMain?e.apply(this,arguments):r(e,t).apply(this,arguments)}:Object.create(Object.getPrototypeOf(e));for(const i in e){const s=e[i];o[i]="function"==typeof s&&n(i)?r(s,t):s}return o})},function(e,t,n){e.exports=s;var r=n(115);s.fixer=r;var o=n(128),i=["name","version","description","repository","modules","scripts","files","bin","man","bugs","keywords","readme","homepage","license"].map(function(e){return a(e)+"Field"});function s(e,t,n){!0===t&&(t=null,n=!0),n||(n=!1),t&&!e.private||(t=function(e){}),e.scripts&&"node-gyp rebuild"===e.scripts.install&&!e.scripts.preinstall&&(e.gypfile=!0),r.warn=function(){t(o.apply(null,arguments))},i.forEach(function(t){r["fix"+a(t)](e,n)}),e._id=e.name+"@"+e.version}function a(e){return e.charAt(0).toUpperCase()+e.slice(1)}i=i.concat(["dependencies","people","typos"])},function(e,t,n){"use strict";var r=n(117),o=n(120);e.exports=function(e){return o(r(e))}},function(e){e.exports=["0BSD","AAL","Abstyles","Adobe-2006","Adobe-Glyph","ADSL","AFL-1.1","AFL-1.2","AFL-2.0","AFL-2.1","AFL-3.0","Afmparse","AGPL-1.0-only","AGPL-1.0-or-later","AGPL-3.0-only","AGPL-3.0-or-later","Aladdin","AMDPLPA","AML","AMPAS","ANTLR-PD","Apache-1.0","Apache-1.1","Apache-2.0","APAFML","APL-1.0","APSL-1.0","APSL-1.1","APSL-1.2","APSL-2.0","Artistic-1.0-cl8","Artistic-1.0-Perl","Artistic-1.0","Artistic-2.0","Bahyph","Barr","Beerware","BitTorrent-1.0","BitTorrent-1.1","Borceux","BSD-1-Clause","BSD-2-Clause-FreeBSD","BSD-2-Clause-NetBSD","BSD-2-Clause-Patent","BSD-2-Clause","BSD-3-Clause-Attribution","BSD-3-Clause-Clear","BSD-3-Clause-LBNL","BSD-3-Clause-No-Nuclear-License-2014","BSD-3-Clause-No-Nuclear-License","BSD-3-Clause-No-Nuclear-Warranty","BSD-3-Clause","BSD-4-Clause-UC","BSD-4-Clause","BSD-Protection","BSD-Source-Code","BSL-1.0","bzip2-1.0.5","bzip2-1.0.6","Caldera","CATOSL-1.1","CC-BY-1.0","CC-BY-2.0","CC-BY-2.5","CC-BY-3.0","CC-BY-4.0","CC-BY-NC-1.0","CC-BY-NC-2.0","CC-BY-NC-2.5","CC-BY-NC-3.0","CC-BY-NC-4.0","CC-BY-NC-ND-1.0","CC-BY-NC-ND-2.0","CC-BY-NC-ND-2.5","CC-BY-NC-ND-3.0","CC-BY-NC-ND-4.0","CC-BY-NC-SA-1.0","CC-BY-NC-SA-2.0","CC-BY-NC-SA-2.5","CC-BY-NC-SA-3.0","CC-BY-NC-SA-4.0","CC-BY-ND-1.0","CC-BY-ND-2.0","CC-BY-ND-2.5","CC-BY-ND-3.0","CC-BY-ND-4.0","CC-BY-SA-1.0","CC-BY-SA-2.0","CC-BY-SA-2.5","CC-BY-SA-3.0","CC-BY-SA-4.0","CC0-1.0","CDDL-1.0","CDDL-1.1","CDLA-Permissive-1.0","CDLA-Sharing-1.0","CECILL-1.0","CECILL-1.1","CECILL-2.0","CECILL-2.1","CECILL-B","CECILL-C","ClArtistic","CNRI-Jython","CNRI-Python-GPL-Compatible","CNRI-Python","Condor-1.1","copyleft-next-0.3.1","CPAL-1.0","CPL-1.0","CPOL-1.02","Crossword","CrystalStacker","CUA-OPL-1.0","Cube","curl","D-FSL-1.0","diffmark","DOC","Dotseqn","DSDP","dvipdfm","ECL-1.0","ECL-2.0","EFL-1.0","EFL-2.0","eGenix","Entessa","EPL-1.0","EPL-2.0","ErlPL-1.1","EUDatagrid","EUPL-1.0","EUPL-1.1","EUPL-1.2","Eurosym","Fair","Frameworx-1.0","FreeImage","FSFAP","FSFUL","FSFULLR","FTL","GFDL-1.1-only","GFDL-1.1-or-later","GFDL-1.2-only","GFDL-1.2-or-later","GFDL-1.3-only","GFDL-1.3-or-later","Giftware","GL2PS","Glide","Glulxe","gnuplot","GPL-1.0-only","GPL-1.0-or-later","GPL-2.0-only","GPL-2.0-or-later","GPL-3.0-only","GPL-3.0-or-later","gSOAP-1.3b","HaskellReport","HPND","IBM-pibs","ICU","IJG","ImageMagick","iMatix","Imlib2","Info-ZIP","Intel-ACPI","Intel","Interbase-1.0","IPA","IPL-1.0","ISC","JasPer-2.0","JSON","LAL-1.2","LAL-1.3","Latex2e","Leptonica","LGPL-2.0-only","LGPL-2.0-or-later","LGPL-2.1-only","LGPL-2.1-or-later","LGPL-3.0-only","LGPL-3.0-or-later","LGPLLR","Libpng","libtiff","LiLiQ-P-1.1","LiLiQ-R-1.1","LiLiQ-Rplus-1.1","Linux-OpenIB","LPL-1.0","LPL-1.02","LPPL-1.0","LPPL-1.1","LPPL-1.2","LPPL-1.3a","LPPL-1.3c","MakeIndex","MirOS","MIT-0","MIT-advertising","MIT-CMU","MIT-enna","MIT-feh","MIT","MITNFA","Motosoto","mpich2","MPL-1.0","MPL-1.1","MPL-2.0-no-copyleft-exception","MPL-2.0","MS-PL","MS-RL","MTLL","Multics","Mup","NASA-1.3","Naumen","NBPL-1.0","NCSA","Net-SNMP","NetCDF","Newsletr","NGPL","NLOD-1.0","NLPL","Nokia","NOSL","Noweb","NPL-1.0","NPL-1.1","NPOSL-3.0","NRL","NTP","OCCT-PL","OCLC-2.0","ODbL-1.0","ODC-By-1.0","OFL-1.0","OFL-1.1","OGL-UK-1.0","OGL-UK-2.0","OGL-UK-3.0","OGTSL","OLDAP-1.1","OLDAP-1.2","OLDAP-1.3","OLDAP-1.4","OLDAP-2.0.1","OLDAP-2.0","OLDAP-2.1","OLDAP-2.2.1","OLDAP-2.2.2","OLDAP-2.2","OLDAP-2.3","OLDAP-2.4","OLDAP-2.5","OLDAP-2.6","OLDAP-2.7","OLDAP-2.8","OML","OpenSSL","OPL-1.0","OSET-PL-2.1","OSL-1.0","OSL-1.1","OSL-2.0","OSL-2.1","OSL-3.0","PDDL-1.0","PHP-3.0","PHP-3.01","Plexus","PostgreSQL","psfrag","psutils","Python-2.0","Qhull","QPL-1.0","Rdisc","RHeCos-1.1","RPL-1.1","RPL-1.5","RPSL-1.0","RSA-MD","RSCPL","Ruby","SAX-PD","Saxpath","SCEA","Sendmail-8.23","Sendmail","SGI-B-1.0","SGI-B-1.1","SGI-B-2.0","SimPL-2.0","SISSL-1.2","SISSL","Sleepycat","SMLNJ","SMPPL","SNIA","Spencer-86","Spencer-94","Spencer-99","SPL-1.0","SugarCRM-1.1.3","SWL","TCL","TCP-wrappers","TMate","TORQUE-1.1","TOSL","TU-Berlin-1.0","TU-Berlin-2.0","Unicode-DFS-2015","Unicode-DFS-2016","Unicode-TOU","Unlicense","UPL-1.0","Vim","VOSTROM","VSL-1.0","W3C-19980720","W3C-20150513","W3C","Watcom-1.0","Wsuipa","WTFPL","X11","Xerox","XFree86-1.1","xinetd","Xnet","xpp","XSkat","YPL-1.0","YPL-1.1","Zed","Zend-2.0","Zimbra-1.3","Zimbra-1.4","zlib-acknowledgement","Zlib","ZPL-1.1","ZPL-2.0","ZPL-2.1"]},function(e,t,n){"use strict";var r=e.exports={github:{protocols:["git","http","git+ssh","git+https","ssh","https"],domain:"github.com",treepath:"tree",filetemplate:"https://{auth@}raw.githubusercontent.com/{user}/{project}/{committish}/{path}",bugstemplate:"https://{domain}/{user}/{project}/issues",gittemplate:"git://{auth@}{domain}/{user}/{project}.git{#committish}",tarballtemplate:"https://codeload.{domain}/{user}/{project}/tar.gz/{committish}"},bitbucket:{protocols:["git+ssh","git+https","ssh","https"],domain:"bitbucket.org",treepath:"src",tarballtemplate:"https://{domain}/{user}/{project}/get/{committish}.tar.gz"},gitlab:{protocols:["git+ssh","git+https","ssh","https"],domain:"gitlab.com",treepath:"tree",bugstemplate:"https://{domain}/{user}/{project}/issues",tarballtemplate:"https://{domain}/{user}/{project}/repository/archive.tar.gz?ref={committish}"},gist:{protocols:["git","git+ssh","git+https","ssh","https"],domain:"gist.github.com",pathmatch:/^[/](?:([^/]+)[/])?([a-z0-9]+)(?:[.]git)?$/,filetemplate:"https://gist.githubusercontent.com/{user}/{project}/raw{/committish}/{path}",bugstemplate:"https://{domain}/{project}",gittemplate:"git://{domain}/{project}.git{#committish}",sshtemplate:"git@{domain}:/{project}.git{#committish}",sshurltemplate:"git+ssh://git@{domain}/{project}.git{#committish}",browsetemplate:"https://{domain}/{project}{/committish}",browsefiletemplate:"https://{domain}/{project}{/committish}{#path}",docstemplate:"https://{domain}/{project}{/committish}",httpstemplate:"git+https://{domain}/{project}.git{#committish}",shortcuttemplate:"{type}:{project}{#committish}",pathtemplate:"{project}{#committish}",tarballtemplate:"https://{domain}/{user}/{project}/archive/{committish}.tar.gz",hashformat:function(e){return"file-"+i(e)}}},o={sshtemplate:"git@{domain}:{user}/{project}.git{#committish}",sshurltemplate:"git+ssh://git@{domain}/{user}/{project}.git{#committish}",browsetemplate:"https://{domain}/{user}/{project}{/tree/committish}",browsefiletemplate:"https://{domain}/{user}/{project}/{treepath}/{committish}/{path}{#fragment}",docstemplate:"https://{domain}/{user}/{project}{/tree/committish}#readme",httpstemplate:"git+https://{auth@}{domain}/{user}/{project}.git{#committish}",filetemplate:"https://{domain}/{user}/{project}/raw/{committish}/{path}",shortcuttemplate:"{type}:{user}/{project}{#committish}",pathtemplate:"{user}/{project}{#committish}",pathmatch:/^[/]([^/]+)[/]([^/]+?)(?:[.]git|[/])?$/,hashformat:i};function i(e){return e.toLowerCase().replace(/^\W+|\/|\W+$/g,"").replace(/\W+/g,"-")}Object.keys(r).forEach(function(e){Object.keys(o).forEach(function(t){r[e][t]||(r[e][t]=o[t])}),r[e].protocols_re=RegExp("^("+r[e].protocols.map(function(e){return e.replace(/([\\+*{}()[\]$^|])/g,"\\$1")}).join("|")+"):$")})},function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=35},function(e,t,n){"use strict";const r=n(142),o=n(15);function i(e){return null!==e&void 0!==e}e.exports=class e{constructor(e,t){this.value=new r,this.error=new r,i(t)?this.reject(t):i(e)&&this.resolve(e)}then(t,n){const r=new e;return this.value&&(t?this.value.get(e=>{r.resolve(t(e))}):this.value.send(r.value)),this.error&&(n?this.error.get(e=>{try{r.resolve(n(e))}catch(e){r.reject(e)}}):this.error.send(r.error)),r}resolve(t){o(this.value,"already rejected"),t instanceof e?(t.value.send(this.value),this.error&&t.error.send(this.error)):(this.value.set(t),this.error=null)}reject(t){o(this.error,"already resolved"),t instanceof e?(t.error.send(this.error),this.value&&t.value.send(this.value)):(this.error.set(t),this.value=null)}catch(e){return this.then(null,e)}static resolve(t){return new e(t)}static reject(t){return new e(null,t)}static all(t){const n=new e,r=t.length,o=new Array(r);let i=r,s=!1;function a(e){s||(n.reject(e),s=!0)}if(0===r)n.resolve([]);else for(let e=0;e<r;e++)t[e].then(t=>{s||(o[e]=t,0==--i&&n.resolve(o))}).catch(a);return n}}},function(e,t){e.exports=function(){var e=Error.prepareStackTrace;Error.prepareStackTrace=function(e,t){return t};var t=(new Error).stack;return Error.prepareStackTrace=e,t[2].getFileName()}},function(e,t,n){var r=n(2),o=n(3),i=r.parse||n(148);e.exports=function(e,t){var n=t&&t.moduleDirectory?[].concat(t.moduleDirectory):["node_modules"],s=r.resolve(e);if(t&&!1===t.preserveSymlinks)try{s=o.realpathSync(s)}catch(e){if("ENOENT"!==e.code)throw e}var a="/";/^([A-Za-z]:)/.test(s)?a="":/^\\\\/.test(s)&&(a="\\\\");for(var u=[s],c=i(s);c.dir!==u[u.length-1];)u.push(c.dir),c=i(c.dir);var l=u.reduce(function(e,t){return e.concat(n.map(function(e){return r.join(a,t,e)}))},[]);return t&&t.paths?l.concat(t.paths):l}},function(e,t,n){"use strict";var r=n(3),o=n(12),i=n(2),s=n(11),a=n(14),u=n(40).version,c=function(){};function l(e,t,n,s){if(!e._conf.active)return s();process.env.DEBUG_PAYLOAD&&function(e,t){var n=i.join(o.tmpdir(),"elastic-apm-node-"+e+"-"+Date.now()+".json");r.writeFile(n,JSON.stringify(t),function(e){e?console.log("could not capture intake payload: %s",e.message):console.log("intake payload captured: %s",n)})}(t,n),e.logger.debug("sending %s payload",t),e._httpClient.request(t,{},n,function(n,r,o){if(n)e.logger.error(n.stack);else if(r.statusCode<200||r.statusCode>299){var i=o;if("application/json"===r.headers["content-type"])try{i=JSON.parse(o).error||o}catch(t){e.logger.error("Error parsing JSON error response from APM Server: %s",t.message)}e.logger.error("Elastic APM HTTP error (%d): %s",r.statusCode,i)}else e.logger.debug("%s payload successfully sent",t);s(n)})}function f(e){e&&(e.request&&(e.request.method&&(e.request.method=s(String(e.request.method),a.INTAKE_STRING_MAX_SIZE)),e.request.url&&(e.request.url.protocol&&(e.request.url.protocol=s(String(e.request.url.protocol),a.INTAKE_STRING_MAX_SIZE)),e.request.url.hostname&&(e.request.url.hostname=s(String(e.request.url.hostname),a.INTAKE_STRING_MAX_SIZE)),e.request.url.port&&(e.request.url.port=s(String(e.request.url.port),a.INTAKE_STRING_MAX_SIZE)),e.request.url.pathname&&(e.request.url.pathname=s(String(e.request.url.pathname),a.INTAKE_STRING_MAX_SIZE)),e.request.url.search&&(e.request.url.search=s(String(e.request.url.search),a.INTAKE_STRING_MAX_SIZE)),e.request.url.hash&&(e.request.url.hash=s(String(e.request.url.hash),a.INTAKE_STRING_MAX_SIZE)),e.request.url.raw&&(e.request.url.raw=s(String(e.request.url.raw),a.INTAKE_STRING_MAX_SIZE)),e.request.url.full&&(e.request.url.full=s(String(e.request.url.full),a.INTAKE_STRING_MAX_SIZE)))),e.user&&(e.user.id&&(e.user.id=s(String(e.user.id),a.INTAKE_STRING_MAX_SIZE)),e.user.email&&(e.user.email=s(String(e.user.email),a.INTAKE_STRING_MAX_SIZE)),e.user.username&&(e.user.username=s(String(e.user.username),a.INTAKE_STRING_MAX_SIZE))))}function p(e){return e.forEach(function(e,t){e.pre_context&&(e.pre_context=h(e.pre_context,1e3)),e.context_line&&(e.context_line=s(String(e.context_line),1e3)),e.post_context&&(e.post_context=h(e.post_context,1e3))}),e}function h(e,t){return e.map(function(e){return s(String(e),t)})}function d(e){var t={service:{name:e._conf.serviceName,runtime:{name:process.release.name,version:process.version},language:{name:"javascript"},agent:{name:"nodejs",version:u}},process:{pid:process.pid,ppid:process.ppid,title:s(String(process.title),a.INTAKE_STRING_MAX_SIZE),argv:process.argv},system:{hostname:e._conf.hostname,architecture:process.arch,platform:process.platform}};return e._conf.serviceVersion&&(t.service.version=e._conf.serviceVersion),(e._conf.frameworkName||e._conf.frameworkVersion)&&(t.service.framework={name:e._conf.frameworkName,version:e._conf.frameworkVersion}),t}t.errors=function(e,t,n){n=n||c;var r=d(e);if(r.errors=t,!(r=e._filters.process(r))||0===r.errors.length)return e.logger.debug("Errors not sent to Elastic APM - Ignored by filter"),void n();(function(e,t){e.errors.forEach(function(e){e.log&&(e.log.level&&(e.log.level=s(String(e.log.level),a.INTAKE_STRING_MAX_SIZE)),e.log.logger_name&&(e.log.logger_name=s(String(e.log.logger_name),a.INTAKE_STRING_MAX_SIZE)),e.log.message&&t.errorMessageMaxLength>=0&&(e.log.message=s(String(e.log.message),t.errorMessageMaxLength)),e.log.param_message&&(e.log.param_message=s(String(e.log.param_message),a.INTAKE_STRING_MAX_SIZE)),e.log.stacktrace&&(e.log.stacktrace=p(e.log.stacktrace))),e.exception&&(e.exception.message&&t.errorMessageMaxLength>=0&&(e.exception.message=s(String(e.exception.message),t.errorMessageMaxLength)),e.exception.type&&(e.exception.type=s(String(e.exception.type),a.INTAKE_STRING_MAX_SIZE)),e.exception.code&&(e.exception.code=s(String(e.exception.code),a.INTAKE_STRING_MAX_SIZE)),e.exception.module&&(e.exception.module=s(String(e.exception.module),a.INTAKE_STRING_MAX_SIZE)),e.exception.stacktrace&&(e.exception.stacktrace=p(e.exception.stacktrace))),f(e.context)})})(r,e._conf),l(e,"errors",r,n)},t.transactions=function(e,t,n){n=n||c;var r=d(e);if(r.transactions=t,!(r=e._filters.process(r))||0===r.transactions.length)return e.logger.debug("Transactions not sent to Elastic APM - Ignored by filter"),void n();(function(e){e.transactions.forEach(function(e){e.name=s(String(e.name),a.INTAKE_STRING_MAX_SIZE),e.type=s(String(e.type),a.INTAKE_STRING_MAX_SIZE),e.result=s(String(e.result),a.INTAKE_STRING_MAX_SIZE),e.sampled&&(e.spans.forEach(function(e){e.name=s(String(e.name),a.INTAKE_STRING_MAX_SIZE),e.type=s(String(e.type),a.INTAKE_STRING_MAX_SIZE),e.stacktrace&&(e.stacktrace=p(e.stacktrace))}),f(e.context))})})(r),l(e,"transactions",r,n)},t._envelope=d},function(e){e.exports={_from:"elastic-apm-node",_id:"elastic-apm-node@1.14.2",_inBundle:!1,_integrity:"sha512-hoz0thhaqVP2xaFHHSWSM00wFMSRWTwlpwX0rjk8TwauFL8KI/V/P3drOg+Bk99i+HDpQS8LFy2cVinzPzD4HQ==",_location:"/elastic-apm-node",_phantomChildren:{},_requested:{type:"tag",registry:!0,raw:"elastic-apm-node",name:"elastic-apm-node",escapedName:"elastic-apm-node",rawSpec:"",saveSpec:null,fetchSpec:"latest"},_requiredBy:["#USER","/"],_resolved:"https://registry.npmjs.org/elastic-apm-node/-/elastic-apm-node-1.14.2.tgz",_shasum:"4d52ef5b56896fafa2e17cf665c49ba6791e4a94",_spec:"elastic-apm-node",_where:"/Users/austen/Personal/Serverless/code/platform-plugin/src/handler/assets",author:{name:"Thomas Watson Steen",email:"w@tson.dk",url:"https://twitter.com/wa7son"},bugs:{url:"https://github.com/elastic/apm-agent-nodejs/issues"},bundleDependencies:!1,commitlint:{extends:["@commitlint/config-conventional"]},coordinates:[55.778264,12.593119],dependencies:{"after-all-results":"^2.0.0","async-value-promise":"^1.1.1","basic-auth":"^2.0.0","console-log-level":"^1.4.0",cookie:"^0.3.1","core-util-is":"^1.0.2","elastic-apm-http-client":"^5.2.1","end-of-stream":"^1.4.1","fast-safe-stringify":"^2.0.4","http-headers":"^3.0.2","is-native":"^1.0.1","normalize-bool":"^1.0.0","original-url":"^1.2.1","read-pkg-up":"^3.0.0","redact-secrets":"^1.0.0","require-ancestors":"^1.0.0","require-in-the-middle":"^3.1.0",semver:"^5.5.0","set-cookie-serde":"^1.0.0","sql-summary":"^1.0.1",stackman:"^3.0.2","unicode-byte-truncate":"^1.0.0",uuid:"^3.2.1"},deprecated:!1,description:"The official Elastic APM agent for Node.js",devDependencies:{"@commitlint/cli":"^7.0.0","@commitlint/config-conventional":"^7.0.1","@commitlint/travis-cli":"^7.0.0","apollo-server-express":"^2.0.2",bluebird:"^3.4.6","cassandra-driver":"^3.5.0",connect:"^3.6.3","dependency-check":"^2.10.1",elasticsearch:"^15.0.0",express:"^4.14.0","express-graphql":"^0.6.12","express-queue":"0.0.12",finalhandler:"^1.1.1","generic-pool":"^3.1.5","get-port":"^3.2.0",got:"^9.0.0",graphql:"^0.13.2",handlebars:"^4.0.11",hapi:"^17.2.2","https-pem":"^2.0.0",inquirer:"^0.12.0",ioredis:"^3.0.0","is-my-json-valid":"^2.17.2","json-schema-ref-parser":"^5.0.3",knex:"^0.15.0",koa:"^2.2.0","koa-router":"^7.1.1","mimic-response":"^1.0.0",mkdirp:"^0.5.0","mongodb-core":"^3.0.2",mysql:"^2.14.1",mysql2:"^1.6.3",nyc:"^12.0.2",once:"^1.4.0","p-finally":"^1.0.0",pg:"^7.1.0",redis:"^2.6.3",request:"^2.86.0",restify:"^7.2.1","restify-clients":"^2.0.2",rimraf:"^2.6.2",send:"^0.16.1",standard:"^12.0.1",tape:"^4.8.0",tedious:"^2.6.1","test-all-versions":"^3.3.3",thunky:"^1.0.2",untildify:"^3.0.2","util.promisify":"^1.0.0","wait-on":"^2.1.2",ws:"^6.0.0"},directories:{test:"test"},engines:{node:"4 || 6 || 8 || 9 || 10"},greenkeeper:{ignore:["inquirer"]},homepage:"https://github.com/elastic/apm-agent-nodejs",keywords:["opbeat","elastic","elasticapm","elasticsearch","log","logging","bug","bugs","error","errors","exception","exceptions","catch","monitor","monitoring","alert","alerts","performance","apm","ops","devops","deployment","deploying","deploy","release","stacktrace"],license:"BSD-2-Clause",main:"index.js",name:"elastic-apm-node",repository:{type:"git",url:"git://github.com/elastic/apm-agent-nodejs.git"},scripts:{coverage:"COVERAGE=true ./test/script/run_tests.sh","docker-clean":"./test/script/docker/cleanup.sh","docker-start":"docker-compose -f ./test/docker-compose.yml up -d","docker-stop":"docker-compose -f ./test/docker-compose.yml down",docs:"./docs/scripts/build_docs.sh apm-agent-nodejs ./docs ./build",lint:"standard","lint-commit":"test/lint-commits.sh","lint-fix":"standard --fix","local-start":"./test/script/local-deps-start.sh","local-stop":"./test/script/local-deps-stop.sh","prereport-coverage":"npm run coverage","report-coverage":"nyc report --reporter=lcov",test:"./test/script/run_tests.sh","test-cli":"node test/script/cli.js","test-deps":"dependency-check . -i async_hooks && dependency-check . --unused --no-dev --entry lib/instrumentation/modules/*","test-docs":"./test/script/docker/run_docs.sh","test-tav":"tav --quiet"},standard:{ignore:["/test/sourcemaps/fixtures/lib"]},version:"1.14.2"}},function(e,t,n){"use strict";var r=n(5);t.getPathFromRequest=function(e){var t;return e[r.staticFile]?t="static file":e.route?(t=e.route.path||e.route.regexp&&e.route.regexp.source||"",e[r.expressMountStack]&&(t=e[r.expressMountStack].join("")+("/"===t?"":t))):e[r.expressMountStack]&&e[r.expressMountStack].length>0&&(t=e[r.expressMountStack].join("")),t}},function(e,t,n){var r=n(43),o=n(8),i=n(44).ArraySet,s=n(174).MappingList;function a(e){e||(e={}),this._file=o.getArg(e,"file",null),this._sourceRoot=o.getArg(e,"sourceRoot",null),this._skipValidation=o.getArg(e,"skipValidation",!1),this._sources=new i,this._names=new i,this._mappings=new s,this._sourcesContents=null}a.prototype._version=3,a.fromSourceMap=function(e){var t=e.sourceRoot,n=new a({file:e.file,sourceRoot:t});return e.eachMapping(function(e){var r={generated:{line:e.generatedLine,column:e.generatedColumn}};null!=e.source&&(r.source=e.source,null!=t&&(r.source=o.relative(t,r.source)),r.original={line:e.originalLine,column:e.originalColumn},null!=e.name&&(r.name=e.name)),n.addMapping(r)}),e.sources.forEach(function(t){var r=e.sourceContentFor(t);null!=r&&n.setSourceContent(t,r)}),n},a.prototype.addMapping=function(e){var t=o.getArg(e,"generated"),n=o.getArg(e,"original",null),r=o.getArg(e,"source",null),i=o.getArg(e,"name",null);this._skipValidation||this._validateMapping(t,n,r,i),null!=r&&(r=String(r),this._sources.has(r)||this._sources.add(r)),null!=i&&(i=String(i),this._names.has(i)||this._names.add(i)),this._mappings.add({generatedLine:t.line,generatedColumn:t.column,originalLine:null!=n&&n.line,originalColumn:null!=n&&n.column,source:r,name:i})},a.prototype.setSourceContent=function(e,t){var n=e;null!=this._sourceRoot&&(n=o.relative(this._sourceRoot,n)),null!=t?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[o.toSetString(n)]=t):this._sourcesContents&&(delete this._sourcesContents[o.toSetString(n)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null))},a.prototype.applySourceMap=function(e,t,n){var r=t;if(null==t){if(null==e.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.');r=e.file}var s=this._sourceRoot;null!=s&&(r=o.relative(s,r));var a=new i,u=new i;this._mappings.unsortedForEach(function(t){if(t.source===r&&null!=t.originalLine){var i=e.originalPositionFor({line:t.originalLine,column:t.originalColumn});null!=i.source&&(t.source=i.source,null!=n&&(t.source=o.join(n,t.source)),null!=s&&(t.source=o.relative(s,t.source)),t.originalLine=i.line,t.originalColumn=i.column,null!=i.name&&(t.name=i.name))}var c=t.source;null==c||a.has(c)||a.add(c);var l=t.name;null==l||u.has(l)||u.add(l)},this),this._sources=a,this._names=u,e.sources.forEach(function(t){var r=e.sourceContentFor(t);null!=r&&(null!=n&&(t=o.join(n,t)),null!=s&&(t=o.relative(s,t)),this.setSourceContent(t,r))},this)},a.prototype._validateMapping=function(e,t,n,r){if(t&&"number"!=typeof t.line&&"number"!=typeof t.column)throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if((!(e&&"line"in e&&"column"in e&&e.line>0&&e.column>=0)||t||n||r)&&!(e&&"line"in e&&"column"in e&&t&&"line"in t&&"column"in t&&e.line>0&&e.column>=0&&t.line>0&&t.column>=0&&n))throw new Error("Invalid mapping: "+JSON.stringify({generated:e,source:n,original:t,name:r}))},a.prototype._serializeMappings=function(){for(var e,t,n,i,s=0,a=1,u=0,c=0,l=0,f=0,p="",h=this._mappings.toArray(),d=0,g=h.length;d<g;d++){if(e="",(t=h[d]).generatedLine!==a)for(s=0;t.generatedLine!==a;)e+=";",a++;else if(d>0){if(!o.compareByGeneratedPositionsInflated(t,h[d-1]))continue;e+=","}e+=r.encode(t.generatedColumn-s),s=t.generatedColumn,null!=t.source&&(i=this._sources.indexOf(t.source),e+=r.encode(i-f),f=i,e+=r.encode(t.originalLine-1-c),c=t.originalLine-1,e+=r.encode(t.originalColumn-u),u=t.originalColumn,null!=t.name&&(n=this._names.indexOf(t.name),e+=r.encode(n-l),l=n)),p+=e}return p},a.prototype._generateSourcesContent=function(e,t){return e.map(function(e){if(!this._sourcesContents)return null;null!=t&&(e=o.relative(t,e));var n=o.toSetString(e);return Object.prototype.hasOwnProperty.call(this._sourcesContents,n)?this._sourcesContents[n]:null},this)},a.prototype.toJSON=function(){var e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(e.file=this._file),null!=this._sourceRoot&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e},a.prototype.toString=function(){return JSON.stringify(this.toJSON())},t.SourceMapGenerator=a},function(e,t,n){var r=n(173);t.encode=function(e){var t,n="",o=function(e){return e<0?1+(-e<<1):0+(e<<1)}(e);do{t=31&o,(o>>>=5)>0&&(t|=32),n+=r.encode(t)}while(o>0);return n},t.decode=function(e,t,n){var o,i,s=e.length,a=0,u=0;do{if(t>=s)throw new Error("Expected more digits in base 64 VLQ value.");if(-1===(i=r.decode(e.charCodeAt(t++))))throw new Error("Invalid base64 digit: "+e.charAt(t-1));o=!!(32&i),a+=(i&=31)<<u,u+=5}while(o);n.value=function(e){var t=e>>1;return 1==(1&e)?-t:t}(a),n.rest=t}},function(e,t,n){var r=n(8),o=Object.prototype.hasOwnProperty,i="undefined"!=typeof Map;function s(){this._array=[],this._set=i?new Map:Object.create(null)}s.fromArray=function(e,t){for(var n=new s,r=0,o=e.length;r<o;r++)n.add(e[r],t);return n},s.prototype.size=function(){return i?this._set.size:Object.getOwnPropertyNames(this._set).length},s.prototype.add=function(e,t){var n=i?e:r.toSetString(e),s=i?this.has(e):o.call(this._set,n),a=this._array.length;s&&!t||this._array.push(e),s||(i?this._set.set(e,a):this._set[n]=a)},s.prototype.has=function(e){if(i)return this._set.has(e);var t=r.toSetString(e);return o.call(this._set,t)},s.prototype.indexOf=function(e){if(i){var t=this._set.get(e);if(t>=0)return t}else{var n=r.toSetString(e);if(o.call(this._set,n))return this._set[n]}throw new Error('"'+e+'" is not in the set.')},s.prototype.at=function(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)},s.prototype.toArray=function(){return this._array.slice()},t.ArraySet=s},function(e,t,n){var r;function o(e){function n(){if(n.enabled){var e=n,o=+new Date,i=o-(r||o);e.diff=i,e.prev=r,e.curr=o,r=o;for(var s=new Array(arguments.length),a=0;a<s.length;a++)s[a]=arguments[a];s[0]=t.coerce(s[0]),"string"!=typeof s[0]&&s.unshift("%O");var u=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,function(n,r){if("%%"===n)return n;u++;var o=t.formatters[r];if("function"==typeof o){var i=s[u];n=o.call(e,i),s.splice(u,1),u--}return n}),t.formatArgs.call(e,s),(n.log||t.log||console.log.bind(console)).apply(e,s)}}return n.namespace=e,n.enabled=t.enabled(e),n.useColors=t.useColors(),n.color=function(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]}(e),"function"==typeof t.init&&t.init(n),n}(t=e.exports=o.debug=o.default=o).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){t.save(e),t.names=[],t.skips=[];for(var n=("string"==typeof e?e:"").split(/[\s,]+/),r=n.length,o=0;o<r;o++)n[o]&&("-"===(e=n[o].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(181),t.names=[],t.skips=[],t.formatters={}},function(e,t,n){"use strict";function r(){this.ended=!1,this.start=Date.now(),this._hrtime=process.hrtime(),this._diff=null}e.exports=r,r.prototype.end=function(){this.ended||(this._diff=process.hrtime(this._hrtime),this.ended=!0)},r.prototype.duration=function(){return this.ended?(1e9*this._diff[0]+this._diff[1])/1e6:null},r.prototype.offset=function(e){var t=e._hrtime,n=this._hrtime;return(1e9*(n[0]-t[0])+(n[1]-t[1]))/1e6}},function(e,t,n){"use strict";e.exports=function(e){return null==e}},function(e,t,n){"use strict";const r=n(1),o=n(0);e.exports=function(e,t,n,i){return i?r.satisfies(n,"^2.0.2")?(o.wrap(e,"runHttpQuery",function(e){return function(){var n=t._instrumentation.currentTransaction;return n&&(n._graphqlRoute=!0),e.apply(this,arguments)}}),e):(t.logger.debug("apollo-server-core version %s not supported - aborting...",n),e):e}},function(e,t,n){"use strict";var r=n(1),o=n(0),i=o.massWrap,s=o.wrap,a=["_then","_addCallbacks"];e.exports=function(e,t,n){var o=t._instrumentation;return r.satisfies(n,">=2 <4")?(t.logger.debug("shimming bluebird.prototype functions:",a),i(e.prototype,a,function(e){return function(){var t=Array.prototype.slice.call(arguments);return"function"==typeof t[0]&&(t[0]=o.bindFunction(t[0])),"function"==typeof t[1]&&(t[1]=o.bindFunction(t[1])),e.apply(this,t)}}),t.logger.debug("shimming bluebird.config"),s(e,"config",function(n){return function(){var r=n.apply(this,arguments);return t.logger.debug("shimming bluebird.prototype._attachCancellationCallback"),s(e.prototype,"_attachCancellationCallback",function(e){return function(t){return 1!==arguments.length?e.apply(this,arguments):e.call(this,o.bindFunction(t))}}),r}}),r.satisfies(n,"<3")&&(t.logger.debug("shimming bluebird.each"),s(e,"each",function(e){return function(t,n){return 2!==arguments.length?e.apply(this,arguments):e.call(this,t,o.bindFunction(n))}}),t.logger.debug("shimming bluebird.prototype.each"),s(e.prototype,"each",function(e){return function(t){return 1!==arguments.length?e.apply(this,arguments):e.call(this,o.bindFunction(t))}})),e):(t.logger.debug("bluebird version %s not supported - aborting...",n),e)}},function(e,t,n){"use strict";const r=n(1),o=n(9),i=n(0);e.exports=function(e,t,n,s){return s?r.satisfies(n,"^3.0.0")?(e.Client&&(i.wrap(e.Client.prototype,"connect",function(e){return function(n){const r=t.buildSpan();if(!r)return e.apply(this,arguments);function o(){r.end()}r.start("Cassandra: Connect","db.cassandra.connect");const i=e.call(this,function(e){return"function"!=typeof e?e:function(){return o(),e.apply(this,arguments)}}(n));return"function"!=typeof n&&("function"==typeof i.then?i.then(o,o):t.logger.error("unable to identify span exit point for cassandra-driver")),i}}),i.wrap(e.Client.prototype,"execute",function(e){return function(n,r,i,s){const a=t.buildSpan();if(!a)return e.apply(this,arguments);function u(){a.end()}a.type="db.cassandra.query",a.setDbContext({statement:n,type:"cassandra"}),a.name=o(n),a.start();const c=arguments.length-1,l=arguments[c],f="function"!=typeof l;f||(arguments[c]=function(){return u(),l.apply(this,arguments)});const p=e.apply(this,arguments);return f&&("function"==typeof p.then?p.then(u,u):t.logger.error("unable to identify span exit point for cassandra-driver")),p}}),i.wrap(e.Client.prototype,"eachRow",function(e){return function(n,r,i,s,a){const u=t.buildSpan();if(!u)return e.apply(this,arguments);u.type="db.cassandra.query",u.setDbContext({statement:n,type:"cassandra"}),u.name=o(n),u.start();const c=arguments.length-1,l="function"==typeof arguments[c-1];function f(){u.end()}if(l){const e=arguments[c];"function"==typeof e?arguments[c]=function(){return f(),e.apply(this,arguments)}:t.logger.error("unable to identify span exit point for cassandra-driver")}else arguments[c+1]=f,arguments.length++;return e.apply(this,arguments)}}),i.wrap(e.Client.prototype,"batch",function(e){return function(n,r,o){const i=t.buildSpan();if(!i)return e.apply(this,arguments);const s=n.map(a),u=s.join(";\n");function c(){i.end()}i.setDbContext({statement:u,type:"cassandra"}),i.start("Cassandra: Batch query","db.cassandra.query");const l=arguments.length-1,f=arguments[l],p="function"!=typeof f;p||(arguments[l]=function(){return c(),f.apply(this,arguments)});const h=e.apply(this,arguments);return p&&("function"==typeof h.then?h.then(c,c):t.logger.error("unable to identify span exit point for cassandra-driver")),h}})),e):(t.logger.debug("cassandra-driver version %s not supported - aborting...",n),e):e;function a(e){return e.query}}},function(e,t,n){"use strict";var r=n(0),o=/_search$/;e.exports=function(e,t,n,i){return i?(t.logger.debug("shimming elasticsearch.Transport.prototype.request"),r.wrap(e.Transport&&e.Transport.prototype,"request",function(e){return function(n,r){var i=t.buildSpan(),s=i&&i.transaction.id,a=n&&n.method,u=n&&n.path,c=n&&n.query;if(t.logger.debug("intercepted call to elasticsearch.Transport.prototype.request %o",{id:s,method:a,path:u}),i&&a&&u){if(i.start("Elasticsearch: "+a+" "+u,"db.elasticsearch.request"),c&&o.test(u)&&i.setDbContext({type:"elasticsearch",statement:JSON.stringify(c)}),"function"==typeof r){var l=Array.prototype.slice.call(arguments);return l[1]=function(){return i.end(),r.apply(this,arguments)},e.apply(this,l)}var f=e.apply(this,arguments);return f.then(function(){i.end()}),f}return t.logger.debug("could not instrument elasticsearch request %o",{id:s}),e.apply(this,arguments)}}),e):e}},function(e,t,n){"use strict";var r=n(10).isError,o=n(1),i=n(0),s=n(5),a=Symbol("ElasticAPMExpressMountStackLocked");e.exports=function(e,t,n,u){if(!u)return e;if(t._conf.frameworkName||(t._conf.frameworkName="express"),t._conf.frameworkVersion||(t._conf.frameworkVersion=n),!o.satisfies(n,"^4.0.0"))return t.logger.debug("express version %s not supported - aborting...",n),e;var c=o.satisfies(n,"^5")?e.Router&&e.Router.prototype:e.Router,l=Symbol("layer-patched");function f(e){e[l]||(e[l]=!0,t.logger.debug("shimming express.Router.Layer.handle function"),i.wrap(e,"handle",function(e){return t._conf.captureExceptions&&4===e.length?function(n,o,i,a){return function(e){return"string"==typeof e||!(!r(e)||e[s.errorReportedSymbol])&&(e[s.errorReportedSymbol]=!0,!0)}(n)&&t.captureError(n,{request:o}),e.apply(this,arguments)}:e}))}return t.logger.debug("shimming express.Router.process_params function"),i.wrap(c,"process_params",function(e){return function(t,n,r,o,i){return f(t),e.apply(this,arguments)}}),t.logger.debug("shimming express.Router.use function"),i.wrap(c,"use",function(e){return function(n){if("string"==typeof n&&Array.isArray(this.stack)){for(var r,o=this.stack.length,u=e.apply(this,arguments);o<this.stack.length;o++)(r=this.stack[o])&&("/"!==n||r.regexp&&!r.regexp.fast_slash)?(t.logger.debug("shimming layer.handle_request function (layer: %s)",r.name),i.wrap(r,"handle_request",function(e){return function(t,r,o){return t.route?t[a]=!0:t[a]||"function"!=typeof o||(t[s.expressMountStack]?t[s.expressMountStack].push(n):t[s.expressMountStack]=[n],arguments[2]=function(){return t[s.expressMountStack].pop(),o.apply(this,arguments)}),e.apply(this,arguments)}})):t.logger.debug("skip shimming layer.handle_request (layer: %s, path: %s)",r&&r.name||typeof r,n);return u}return e.apply(this,arguments)}}),t.logger.debug("shimming express.static function"),i.wrap(e,"static",function(e){return Object.keys(e).forEach(function(r){t.logger.debug("copying property %s from express.static",r),n[r]=e[r]}),n;function n(){var t=e.apply(this,arguments);return function(e,n,r){return e[s.staticFile]=!0,t(e,n,function(t){t||(e[s.staticFile]=!1);return r.apply(this,arguments)})}}}),e}},function(e,t,n){"use strict";var r=n(1);e.exports=function(e,t,n,o){return o?r.satisfies(n,">=0.6.1 <0.8")&&"function"==typeof e?(Object.keys(e).forEach(function(t){i[t]=e[t]}),i):(t.logger.debug("express-graphql version %s not supported - aborting...",n),e):e;function i(){var n=e.apply(this,arguments);return"function"!=typeof n?n:function(e,r){var o=t._instrumentation.currentTransaction;return o&&(o._graphqlRoute=!0),n.apply(this,arguments)}}}},function(e,t,n){"use strict";var r=n(0);e.exports=function(e,t,n,o){if(!o)return e;var i=t._instrumentation;return function(t){var n=e(t);return r.wrap(n.queue,"createJob",function(e){return function(t){return t.next&&(t.next=i.bindFunction(t.next)),e.apply(this,arguments)}}),n}}},function(e,t,n){"use strict";var r=n(10).isError,o=n(5);e.exports=function(e,t){return function(n,i,s){var a=e.apply(this,arguments);return function(e){return function(e){return"string"==typeof e||!(!r(e)||e[o.errorReportedSymbol])&&(e[o.errorReportedSymbol]=!0,!0)}(e)&&t.captureError(e,{request:n}),a.apply(this,arguments)}}}},function(e,t,n){"use strict";var r=n(1),o=n(0);e.exports=function(e,t,n){return r.satisfies(n,"^2.0.0")?(t.logger.debug("shimming generic-pool.Pool"),o.wrap(e,"Pool",function(n){return function(){var r,i=t._instrumentation.currentTransaction,s=i&&i.id;if(t.logger.debug("intercepted call to generic-pool.Pool %o",{id:s}),this instanceof e.Pool){var a=[].slice.call(arguments);a.unshift(null),r=new(Function.prototype.bind.apply(n,a))}else r=n.apply(this,arguments);return o.wrap(r,"acquire",function(e){return function(){var n=t._instrumentation.currentTransaction,r=n&&n.id;t.logger.debug("intercepted call to pool.acquire %o",{id:r});var o=arguments[0];return"function"==typeof o&&(arguments[0]=t._instrumentation.bindFunction(o)),e.apply(this,arguments)}}),r}})):r.satisfies(n,"^3.1.0")&&e.PriorityQueue?(t.logger.debug("shimming generic-pool.PriorityQueue.prototype.enqueue"),o.wrap(e.PriorityQueue.prototype,"enqueue",function(e){return function(){var n=t._instrumentation.currentTransaction,r=n&&n.id;t.logger.debug("intercepted call to generic-pool.PriorityQueue.prototype.enqueue %o",{id:r});var o=arguments[0];return o._resolve&&o._reject&&(o._resolve=t._instrumentation.bindFunction(o._resolve),o._reject=t._instrumentation.bindFunction(o._reject)),e.apply(this,arguments)}})):t.logger.debug("generic-pool version %s not supported - aborting...",n),e}},function(e,t,n){"use strict";var r=n(1),o=n(41).getPathFromRequest;e.exports=function(e,t,n,i){if(!i)return e;if(!r.satisfies(n,">=0.7.0 <15.0.0 || ^14.0.0-rc")||!e.Kind||"function"!=typeof e.Source||"function"!=typeof e.parse||"function"!=typeof e.validate||"function"!=typeof e.execute)return t.logger.debug("graphql version %s not supported - aborting...",n),e;var s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var r=e.__lookupGetter__(n),i=e.__lookupSetter__(n),u={enumerable:!0};if(r)switch(n){case"graphql":u.get=function(){return function(n){return function(r,o,i,s,u,c){var l=t._instrumentation.currentTransaction,f=t.buildSpan(),p=f&&f.transaction.id,h="GraphQL: Unkown Query";if(t.logger.debug("intercepted call to graphql.graphql %o",{id:p}),!l||l.ended||!f)return t.logger.debug("no active transaction found - skipping graphql tracing"),n.apply(this,arguments);var d=new e.Source(o||"","GraphQL request");if(d){var g=e.parse(d);if(g){var m=e.validate(r,g);if(m&&0===m.length){var v=a(g,c).queries;v.length>0&&(h="GraphQL: "+v.join(", "))}}else t.logger.debug("graphql.parse(source) failed - skipping graphql query extraction")}else t.logger.debug("graphql.Source(query) failed - skipping graphql query extraction");f.start(h,"db.graphql.execute");var y=n.apply(this,arguments);return y.then(function(){f.end()}),y}}(r())};break;case"execute":u.get=function(){return function(e){function n(n,r,i,s,u,c){var l=t._instrumentation.currentTransaction,f=t.buildSpan(),p=f&&f.transaction.id,h="GraphQL: Unkown Query";if(t.logger.debug("intercepted call to graphql.execute %o",{id:p}),!l||l.ended||!f)return t.logger.debug("no active transaction found - skipping graphql tracing"),e.apply(this,arguments);var d=a(r,c),g=d.queries;if(c=c||d.operation&&d.operation.name&&d.operation.name.value,g.length>0&&(h="GraphQL: "+(c?c+" ":"")+g.join(", ")),l._graphqlRoute){var m=g.length>0?g.join(", "):"Unknown GraphQL query";if(l.req)var v=o(l.req);var y=m;y=v?y+" ("+v+")":y,y=c?c+" "+y:y,l.setDefaultName(y)}f.start(h,"db.graphql.execute");var _=e.apply(this,arguments);return"function"==typeof _.then?_.then(function(){f.end()}):f.end(),_}return function(e,t,r,o,i,s){return 1===arguments.length?n(e.schema,e.document,e.rootValue,e.contextValue,e.variableValues,e.operationName):n(e,t,r,o,i,s)}}(r())};break;default:u.get=r}i&&(u.set=i),Object.defineProperty(s,n,u)}),s;function a(n,r){var o,i=[];if(n&&Array.isArray(n.definitions)){n.definitions.some(function(t){if(t&&t.kind===e.Kind.OPERATION_DEFINITION&&(r||!o))return!r||t.name&&t.name.value===r?(o=t,!0):void 0});var s=o&&o.selectionSet&&o.selectionSet.selections;s&&Array.isArray(s)&&(s.forEach(function(t){if((t.name&&t.name.kind)===e.Kind.NAME){var n=t.name.value;n&&i.push(n)}}),i=i.sort(function(e,t){return e>t?1:e<t?-1:0}))}else t.logger.debug("unexpected document format - skipping graphql query extraction");return{queries:i,operation:o}}}},function(e,t,n){"use strict";var r=n(0);e.exports=function(e,t,n,o){return o?(t.logger.debug("shimming handlebars.compile"),r.wrap(e,"compile",function(e){return function(n){var r=t.buildSpan(),o=r&&r.transaction.id;t.logger.debug("intercepted call to handlebars compile %o",{id:o,input:n}),r&&r.start("handlebars","template.handlebars.compile");var i=e.apply(this,arguments);return r&&r.end(),function(e){return function(n){var r=t.buildSpan(),o=r&&r.transaction.id;t.logger.debug("intercepted call to handlebars render %o",{id:o,data:n}),r&&r.start("handlebars","template.handlebars.render");var i=e.apply(this,arguments);return r&&r.end(),i}}(i)}}),e):e}},function(e,t,n){"use strict";var r=n(1),o=n(0),i=Symbol("ElasticAPMOnPreAuth");e.exports=function(e,t,n,s){if(!s)return e;if(t._conf.frameworkName||(t._conf.frameworkName="hapi"),t._conf.frameworkVersion||(t._conf.frameworkVersion=n),!r.satisfies(n,">=9.0.0"))return t.logger.debug("hapi version %s not supported - aborting...",n),e;function a(e){"function"==typeof e.on?u(e):"function"==typeof e.events.on?u(e.events):t.logger.debug("unable to enable hapi error tracking");var n=e.connections;n&&0===n.length?t.logger.debug("unable to enable hapi instrumentation on connectionless server"):"function"==typeof e.ext?(e.ext("onPreAuth",l),e.ext("onPreResponse",f)):t.logger.debug("unable to enable automatic hapi transaction naming")}function u(e){r.satisfies(n,"<17")&&e.on("request-error",function(e,n){t.captureError(n,{request:e.raw&&e.raw.req})}),e.on("log",function(e,t){c("log",null,e,t)}),e.on("request",function(e,t,n){c("request",e,t,n)})}function c(e,n,r,o){if(r&&o.error){var i={custom:{tags:r.tags,internals:r.internals,data:r.data||r.error},request:n&&n.raw&&n.raw.req},s=i.custom.data;s instanceof Error||"string"==typeof s||(s="hapi server emitted a "+e+" event tagged error"),t.captureError(s,i)}}function l(e,o){if(t.logger.debug("received hapi onPreAuth event"),e[i]=!0,e.route){var s=e.route.fingerprint||e.route.path;if(s){var a=e.raw&&e.raw.req&&e.raw.req.method||e.route.method&&e.route.method.toUpperCase();a="string"==typeof a?a+" "+s:s,t._instrumentation.setDefaultTransactionName(a)}}return r.satisfies(n,">=17")?o.continue:o.continue()}function f(e,o){return t.logger.debug("received hapi onPreResponse event"),!e[i]&&e.route&&"/{p*}"===e.route.path&&e.raw&&e.raw.req&&"OPTIONS"===e.raw.req.method&&e.raw.req.headers["access-control-request-method"]&&t._instrumentation.setDefaultTransactionName("CORS preflight"),r.satisfies(n,">=17")?o.continue:o.continue()}return t.logger.debug("shimming hapi.Server.prototype.initialize"),r.satisfies(n,">=17")?o.massWrap(e,["Server","server"],function(e){return function(t){var n=e.apply(this,arguments);return a(n),n}}):o.wrap(e.Server.prototype,"initialize",function(e){return function(){return a(this),e.apply(this,arguments)}}),e}},function(e,t,n){"use strict";var r=n(61),o=n(0);e.exports=function(e,t,n,i){return i?(t.logger.debug("shimming http.Server.prototype.emit function"),o.wrap(e&&e.Server&&e.Server.prototype,"emit",r.instrumentRequest(t,"http")),t.logger.debug("shimming http.request function"),o.wrap(e,"request",r.traceOutgoingRequest(t,"http")),t.logger.debug("shimming http.ServerResponse.prototype.writeHead function"),o.wrap(e&&e.ServerResponse&&e.ServerResponse.prototype,"writeHead",function(e){return function(){var n=1===arguments.length?this._headers:arguments[arguments.length-1],o=e.apply(this,arguments),i=r.transactionForResponse.get(this);return i&&(r.transactionForResponse.delete(this),i.result="HTTP "+(this.statusCode||"").toString()[0]+"xx",n&&"object"==typeof n&&!Array.isArray(n)&&Object.keys(n).some(function(e){return"content-type"===e.toLowerCase()&&(0===String(n[e]).toLowerCase().indexOf("text/event-stream")&&(t.logger.debug("detected SSE response - ending transaction %o",{id:i.id}),t.endTransaction(),!0))})),o}}),e):e}},function(e,t,n){"use strict";var r=n(6),o=n(62);const i=new WeakMap;t.transactionForResponse=i,t.instrumentRequest=function(e,t){var n=e._instrumentation;return function(r){return function(s,a,u){if("request"===s)if(e.logger.debug("intercepted request event call to %s.Server.prototype.emit",t),function(e,t){var n;for(n=0;n<e._conf.ignoreUrlStr.length;n++)if(e._conf.ignoreUrlStr[n]===t.url)return!0;for(n=0;n<e._conf.ignoreUrlRegExp.length;n++)if(e._conf.ignoreUrlRegExp[n].test(t.url))return!0;var r=t.headers["user-agent"];if(!r)return!1;for(n=0;n<e._conf.ignoreUserAgentStr.length;n++)if(0===r.indexOf(e._conf.ignoreUserAgentStr[n]))return!0;for(n=0;n<e._conf.ignoreUserAgentRegExp.length;n++)if(e._conf.ignoreUserAgentRegExp[n].test(r))return!0;return!1}(e,a))e.logger.debug("ignoring blacklisted request to %s",a.url),e._instrumentation.currentTransaction=null;else{var c=e.startTransaction();c.type="request",c.req=a,c.res=u,i.set(u,c),n.bindEmitter(a),n.bindEmitter(u),o(u,function(t){if(!t)return c.end();if(e._conf.errorOnAbortedRequests&&!c.ended){var n=Date.now()-c._timer.start;n>e._conf.abortedErrorThreshold&&e.captureError("Socket closed with active HTTP request (>"+e._conf.abortedErrorThreshold/1e3+" sec)",{request:a,extra:{abortTime:n}})}u.on("prefinish",function(){c.end()})})}return r.apply(this,arguments)}}},t.traceOutgoingRequest=function(e,t){var n="ext."+t+".http",o=e._instrumentation;return function(i){return function(){var s=e.buildSpan(),a=s&&s.transaction.id;e.logger.debug("intercepted call to %s.request %o",t,{id:a});var u=i.apply(this,arguments);if(!s)return u;if(u._headers.host===e._conf.serverHost)return e.logger.debug("ignore %s request to intake API %o",t,{id:a}),u;var c=u.agent&&u.agent.protocol;e.logger.debug("request details: %o",{protocol:c,host:u._headers.host,id:a}),o.bindEmitter(u);var l=u.method+" "+u._headers.host+r.parse(u.path).pathname;return s.start(l,n),u.on("response",function(t){if(e.logger.debug("intercepted http.ClientRequest response event %o",{id:a}),o.bindEmitter(t),t.prependListener)t.prependListener("end",r);else{var n=t._events&&t._events.end;n?"function"==typeof n?t._events.end=[r,n]:n.unshift(r):t.on("end",r)}function r(){e.logger.debug("intercepted http.IncomingMessage end event %o",{id:a}),s.end()}}),u}}}},function(e,t,n){var r=n(195),o=function(){},i=function(e,t,n){if("function"==typeof t)return i(e,null,t);t||(t={}),n=r(n||o);var s=e._writableState,a=e._readableState,u=t.readable||!1!==t.readable&&e.readable,c=t.writable||!1!==t.writable&&e.writable,l=function(){e.writable||f()},f=function(){c=!1,u||n.call(e)},p=function(){u=!1,c||n.call(e)},h=function(t){n.call(e,t?new Error("exited with error code: "+t):null)},d=function(t){n.call(e,t)},g=function(){return(!u||a&&a.ended)&&(!c||s&&s.ended)?void 0:n.call(e,new Error("premature close"))},m=function(){e.req.on("finish",f)};return!function(e){return e.setHeader&&"function"==typeof e.abort}(e)?c&&!s&&(e.on("end",l),e.on("close",l)):(e.on("complete",f),e.on("abort",g),e.req?m():e.on("request",m)),function(e){return e.stdio&&Array.isArray(e.stdio)&&3===e.stdio.length}(e)&&e.on("exit",h),e.on("end",p),e.on("finish",f),!1!==t.error&&e.on("error",d),e.on("close",g),function(){e.removeListener("complete",f),e.removeListener("abort",g),e.removeListener("request",m),e.req&&e.req.removeListener("finish",f),e.removeListener("end",l),e.removeListener("close",l),e.removeListener("finish",f),e.removeListener("exit",h),e.removeListener("end",p),e.removeListener("error",d),e.removeListener("close",g)}};e.exports=i},function(e,t,n){"use strict";var r=n(6),o=n(62),i=n(0),s=n(5);e.exports=function(e,t,n,a){if(!a)return e;var u=t._instrumentation;return t.logger.debug("shimming http2.createServer function"),i.wrap(e,"createServer",c),i.wrap(e,"createSecureServer",c),i.wrap(e,"connect",function(e){return function(n){const o=e.apply(this,arguments);return i.wrap(o,"request",e=>(function(e,n){return function(o){var i=t.buildSpan(),s=i&&i.transaction.id;t.logger.debug("intercepted call to http2.request %o",{id:s});var a=e.apply(this,arguments);if(!i)return a;u.bindEmitter(a);var c=r.parse(o[":path"]).pathname,l=o[":method"]+" "+n+c;return i.start(l,"ext.http2"),a.on("end",()=>{t.logger.debug("intercepted http2 client end event %o",{id:s}),i.end()}),a}})(e,n)),o}}),e;function c(e){return function t(n,r){var o=e.apply(this,arguments);return i.wrap(o.constructor.prototype,"emit",l),t[s.unwrap](),o}}function l(e){var n=!1;return function(r,s,a){if("stream"===r){if(!n){n=!0;var c=s.constructor.prototype;i.wrap(c,"pushStream",g),i.wrap(c,"respondWithFile",h),i.wrap(c,"respondWithFD",h),i.wrap(c,"respond",p),i.wrap(c,"end",d)}t.logger.debug("intercepted request event call to http2.Server.prototype.emit");var l=t.startTransaction();l.type="request",l.req={headers:a,socket:s.session.socket,method:a[":method"],url:a[":path"],httpVersion:"2.0"},l.res={statusCode:200,headersSent:!1,finished:!1,headers:null},u.bindEmitter(s),o(s,function(){l.end()})}return e.apply(this,arguments)}}function f(e){var n=t._instrumentation.currentTransaction;if(n){var r=e[":status"]||200;n.result="HTTP "+r.toString()[0]+"xx",n.res.statusCode=r,n.res.headers=function(e,t){if(null===e)return t;var n=Object.assign({},t),r=Object.keys(e);for(let i=0;i<r.length;i++){var o=r[i];void 0===t[o]?n[o]=e[o]:Array.isArray(t[o])?n[o].push(e[o]):n[o]=[e[o]].concat(t[o])}return n}(n.res.headers,e),n.res.headersSent=!0}}function p(e){return function(t){return f(t),e.apply(this,arguments)}}function h(e){return function(t,n){return f(n),e.apply(this,arguments)}}function d(e){return function(n){var r=t._instrumentation.currentTransaction;return r&&(r.res.finished=!0),e.apply(this,arguments)}}function g(e){return function(...n){var r=n.pop();return n.push(function(){var e=t._instrumentation.currentTransaction;t._instrumentation.currentTransaction=null;var n=r.apply(this,arguments);return t._instrumentation.currentTransaction=e,n}),e.apply(this,n)}}}},function(e,t,n){"use strict";var r=n(1),o=n(61),i=n(0);e.exports=function(e,t,n,s){return s?(t.logger.debug("shimming https.Server.prototype.emit function"),i.wrap(e&&e.Server&&e.Server.prototype,"emit",o.instrumentRequest(t,"https")),r.gte(n,"9.0.0")&&(t.logger.debug("shimming https.request function"),i.wrap(e,"request",o.traceOutgoingRequest(t,"https"))),e):e}},function(e,t,n){"use strict";var r=n(1),o=n(0),i=Symbol("elasticAPMSpan");e.exports=function(e,t,n,s){return r.satisfies(n,">=2.0.0 <5.0.0")?(t.logger.debug("shimming ioredis.Command.prototype.initPromise"),o.wrap(e.Command&&e.Command.prototype,"initPromise",function(e){return function(){var n=this,r=this.callback;return"function"==typeof r&&(this.callback=t._instrumentation.bindFunction(function(){var e=n[i];return e&&!e.ended&&e.end(),r.apply(this,arguments)})),e.apply(this,arguments)}}),s?(t.logger.debug("shimming ioredis.prototype.sendCommand"),o.wrap(e.prototype,"sendCommand",function(e){return function(n){var r=t.buildSpan(),o=r&&r.transaction.id;if(t.logger.debug("intercepted call to ioredis.prototype.sendCommand %o",{id:o,command:n&&n.name}),r&&n){if(n[i]=r,"function"==typeof n.resolve&&(n.resolve=t._instrumentation.bindFunction(n.resolve)),"function"==typeof n.reject&&(n.reject=t._instrumentation.bindFunction(n.reject)),n.promise){const e=function(){r.ended||r.end()};"function"==typeof n.promise.finally?n.promise.finally(e):"function"==typeof n.promise.then&&n.promise.then(e).catch(e)}r.start(String(n.name).toUpperCase(),"cache.redis")}return e.apply(this,arguments)}}),e):e):(t.logger.debug("ioredis version %s not supported - aborting...",n),e)}},function(e,t,n){"use strict";var r=n(0),o=n(5);e.exports=function(e,t,n,i){if(!i)return e;if(e.Client&&e.Client.prototype){var s=["queryBuilder","raw"];t.logger.debug("shimming Knex.Client.prototype.runner"),r.wrap(e.Client.prototype,"runner",function(e){return function(){var n=e.apply(this,arguments);return t.logger.debug("shimming knex runner.query"),r.wrap(n,"query",a),n}}),t.logger.debug("shimming Knex.Client.prototype functions:",s),r.massWrap(e.Client.prototype,s,function(e){return function(){var n=e.apply(this,arguments);t.logger.debug("capturing custom stack trace for knex");var r={};return Error.captureStackTrace(r),n[o.knexStackObj]=r,n}})}else t.logger.debug("could not shim Knex");function a(e){return function(){return t.logger.debug("intercepted call to knex runner.query"),this.connection&&(this.connection[o.knexStackObj]=this.builder?this.builder[o.knexStackObj]:null),e.apply(this,arguments)}}return e}},function(e,t,n){"use strict";var r=n(1),o=n(0);e.exports=function(e,t,n,i){return i?r.satisfies(n,">=5.2.0 <8")?(t.logger.debug("shimming koa-router prototype.match function"),o.wrap(e.prototype,"match",function(e){return function(n,r){var o=e.apply(this,arguments);if("string"!=typeof r)return t.logger.debug("unexpected method type in koa-router prototype.match: %s",typeof r),o;if(o&&o.pathAndMethod&&o.pathAndMethod.length){var i=o.pathAndMethod[o.pathAndMethod.length-1],s=i&&i.path;if("string"==typeof s){var a=r+" "+s;t._instrumentation.setDefaultTransactionName(a)}else t.logger.debug("unexpected path type in koa-router prototype.match: %s",typeof s)}else t.logger.debug("unexpected match result in koa-router prototype.match: %s",typeof o);return o}}),e):(t.logger.debug("koa-router version %s not supported - aborting...",n),e):e}},function(e,t,n){"use strict";var r=n(1),o=n(0);e.exports=function(e,t,n,i){if(!i)return e;if(r.gte(n,"1.0.1"))return t.logger.debug("mimic-response version %s doesn't need to be patched - ignoring...",n),e;var s=t._instrumentation;return function(t,n){return t&&n&&o.isWrapped(t.on)&&!o.isWrapped(n.on)&&s.bindEmitter(n),e.apply(null,arguments)}}},function(e,t,n){"use strict";var r=n(1),o=n(0),i=["insert","update","remove","auth"],s=["_find","_getmore"];e.exports=function(e,t,n,a){return a?r.satisfies(n,">=1.2.19 <4.0.0")?(e.Server&&(t.logger.debug("shimming mongodb-core.Server.prototype.command"),o.wrap(e.Server.prototype,"command",function(e){return function(n,r){var o,i=t._instrumentation.currentTransaction,s=i&&i.id;if(t.logger.debug("intercepted call to mongodb-core.Server.prototype.command %o",{id:s,ns:n}),i&&arguments.length>0){var a,u=arguments.length-1,c=arguments[u];if("function"==typeof c&&(o=t.buildSpan()))a=r.findAndModify?"findAndModify":r.createIndexes?"createIndexes":r.ismaster?"ismaster":r.count?"count":"command",arguments[u]=function(){return t.logger.debug("intercepted mongodb-core.Server.prototype.command callback %o",{id:s}),o.end(),c.apply(this,arguments)},o.start(n+"."+a,"db.mongodb.query")}return e.apply(this,arguments)}}),t.logger.debug("shimming mongodb-core.Server.prototype functions:",i),o.massWrap(e.Server.prototype,i,function(e,n){return function(r){var o,i=t._instrumentation.currentTransaction,s=i&&i.id;if(t.logger.debug("intercepted call to mongodb-core.Server.prototype.%s %o",n,{id:s,ns:r}),i&&arguments.length>0){var a=arguments.length-1,u=arguments[a];"function"==typeof u&&(o=t.buildSpan())&&(arguments[a]=function(){return t.logger.debug("intercepted mongodb-core.Server.prototype.%s callback %o",n,{id:s}),o.end(),u.apply(this,arguments)},o.start(r+"."+n,"db.mongodb.query"))}return e.apply(this,arguments)}})),e.Cursor&&(t.logger.debug("shimming mongodb-core.Cursor.prototype functions:",s),o.massWrap(e.Cursor.prototype,s,function(e,n){return function(){var r,o=t._instrumentation.currentTransaction,i=o&&o.id;if(t.logger.debug("intercepted call to mongodb-core.Cursor.prototype.%s %o",n,{id:i}),o&&arguments.length>0){var s=arguments[0];"function"==typeof s&&(r=t.buildSpan())&&(arguments[0]=function(){return t.logger.debug("intercepted mongodb-core.Cursor.prototype.%s callback %o",n,{id:i}),r.end(),s.apply(this,arguments)},r.start(this.ns+"."+(this.cmd.find?"find":n),"db.mongodb.query"))}return e.apply(this,arguments)}})),e):(t.logger.debug("mongodb-core version %s not supported - aborting...",n),e):e}},function(e,t,n){"use strict";var r=n(1),o=n(9),i=n(0),s=n(5);function a(e,t,n){n.logger.debug("shimming mysql %s.query",t),i.wrap(e,"query",function(e){return function(r,a,u){var c,l=n.buildSpan(),f=l&&l.transaction.id,p=!1;if(n.logger.debug("intercepted call to mysql %s.query %o",t,{id:f}),l){switch(l.type="db.mysql.query",this[s.knexStackObj]&&(l.customStackTrace(this[s.knexStackObj]),this[s.knexStackObj]=null),typeof r){case"string":c=r;break;case"object":"function"==typeof r._callback&&(r._callback=d(r._callback)),c=r.sql;break;case"function":arguments[0]=d(r)}c&&(n.logger.debug("extracted sql from mysql query %o",{id:f,sql:c}),l.setDbContext({statement:c,type:"sql"}),l.name=o(c)),"function"==typeof a?arguments[1]=d(a):"function"==typeof u&&(arguments[2]=d(u))}var h=e.apply(this,arguments);return l&&h&&!p&&i.wrap(h,"emit",function(e){return function(t){switch(l.start(),t){case"error":case"end":l.end()}return e.apply(this,arguments)}}),h;function d(e){return p=!0,l.start(),function(){return l.end(),e.apply(this,arguments)}}}})}e.exports=function(e,t,n,o){return r.satisfies(n,"^2.0.0")?(t.logger.debug("shimming mysql.createPool"),i.wrap(e,"createPool",function(e){return function(){var n=e.apply(this,arguments);return t.logger.debug("shimming mysql pool.getConnection"),i.wrap(n,"getConnection",s),n}}),t.logger.debug("shimming mysql.createPoolCluster"),i.wrap(e,"createPoolCluster",function(e){return function(){var n=e.apply(this,arguments);return t.logger.debug("shimming mysql cluster.of"),i.wrap(n,"of",function(e){return function(){var n=e.apply(this,arguments);return t.logger.debug("shimming mysql cluster of.getConnection"),i.wrap(n,"getConnection",s),n}}),n}}),o?(t.logger.debug("shimming mysql.createConnection"),i.wrap(e,"createConnection",function(e){return function(){var n=e.apply(this,arguments);return a(n,"connection",t),n}}),e):e):(t.logger.debug("mysql version %s not supported - aborting...",n),e);function s(e){return function(){var n=arguments[0];return"function"==typeof n&&(arguments[0]=t._instrumentation.bindFunction(function(e,r){return r&&o&&a(r,"getConnection() > connection",t),n.apply(this,arguments)})),e.apply(this,arguments)}}}},function(e,t,n){"use strict";var r=n(1),o=n(9),i=n(0),s=n(5);e.exports=function(e,t,n,a){var u=t._instrumentation;return r.satisfies(n,"^1.0.0")?(i.wrap(e.Connection.prototype,"query",c),i.wrap(e.Connection.prototype,"execute",c),e):(t.logger.debug("mysql2 version %s not supported - aborting...",n),e);function c(e){return function(n,r,c){var l,f=a&&t.buildSpan(),p=f&&f.transaction.id,h=!1;switch(f&&(f.type="db.mysql.query",this[s.knexStackObj]&&(f.customStackTrace(this[s.knexStackObj]),this[s.knexStackObj]=null)),typeof n){case"string":l=n;break;case"object":"function"==typeof n.onResult&&(n.onResult=m(n.onResult)),l=n.sql;break;case"function":arguments[0]=m(n)}f&&l&&(t.logger.debug("extracted sql from mysql2 query %o",{id:p,sql:l}),f.setDbContext({statement:l,type:"sql"}),f.name=o(l)),"function"==typeof r?arguments[1]=m(r):"function"==typeof c&&(arguments[2]=m(c));var d=e.apply(this,arguments);if(d&&!h&&(u.bindEmitter(d),f)){var g=!1;i.wrap(d,"emit",function(e){return function(t){switch(g||(g=!0,f.start()),t){case"error":case"close":case"end":f.end()}return e.apply(this,arguments)}})}return d;function m(e){return h=!0,f&&f.start(),t._instrumentation.bindFunction(f?function(){return f.end(),e.apply(this,arguments)}:e)}}}}},function(e,t,n){"use strict";var r=n(1),o=n(9),i=n(0),s=n(5);function a(e,t,n,r){n.logger.debug("shimming %s.prototype.query",t),i.wrap(e.prototype,"_pulseQueryQueue",function(e){return function(){if(this.queryQueue){var t=this.queryQueue[this.queryQueue.length-1];t&&"function"==typeof t.callback&&"elasticAPMCallbackWrapper"!==t.callback.name&&(t.callback=n._instrumentation.bindFunction(t.callback))}else n.logger.debug("ERROR: Internal structure of pg Client object have changed!");return e.apply(this,arguments)}}),r&&i.wrap(e.prototype,"query",function(e,r){return function(i){var a=n.buildSpan(),u=a&&a.transaction.id;if(i&&"string"==typeof i.text&&(i=i.text),n.logger.debug("intercepted call to %s.prototype.%s %o",t,r,{id:u,sql:i}),a){var c=arguments,l=c.length-1,f=c[l];if(this[s.knexStackObj]&&(a.customStackTrace(this[s.knexStackObj]),this[s.knexStackObj]=null),Array.isArray(f)&&(l=f.length-1,f=f[l]),"string"==typeof i?(a.setDbContext({statement:i,type:"sql"}),a.start(o(i),"db.postgresql.query")):(n.logger.debug("unable to parse sql form pg module (type: %s)",typeof i),a.start("SQL","db.postgresql.query")),"function"==typeof f)return c[l]=h,e.apply(this,arguments);f=null;var p=e.apply(this,arguments);return"function"==typeof p.on?(p.on("end",h),p.on("error",h)):"function"==typeof p.then?p.then(h):n.logger.debug("ERROR: unknown pg query type: %s %o",typeof p,{id:u}),p}return e.apply(this,arguments);function h(){if(n.logger.debug("intercepted end of %s.prototype.%s %o",t,r,{id:u}),a.end(),f)return f.apply(this,arguments)}}})}e.exports=function(e,t,n,o){if(!r.satisfies(n,">=4.0.0 <8.0.0"))return t.logger.debug("pg version %s not supported - aborting...",n),e;a(e.Client,"pg.Client",t,o);var i=e.__lookupGetter__("native");return i&&(delete e.native,e.__defineGetter__("native",function(){var e=i();return e&&e.Client&&a(e.Client,"pg.native.Client",t,o),e})),e}},function(e,t,n){"use strict";var r=n(1),o=n(0);e.exports=function(e,t,n,i){if(!r.satisfies(n,"^2.0.0"))return t.logger.debug("redis version %s not supported - aborting...",n),e;var s=e.RedisClient&&e.RedisClient.prototype;return r.satisfies(n,">2.5.3")?(t.logger.debug("shimming redis.RedisClient.prototype.internal_send_command"),o.wrap(s,"internal_send_command",function(e){return function(n){var r=i&&t.buildSpan(),o=r&&r.transaction.id,s=n&&n.command;return t.logger.debug("intercepted call to RedisClient.prototype.internal_send_command %o",{id:o,command:s}),n&&(n.callback=a(r,n.callback),r&&r.start(String(s).toUpperCase(),"cache.redis")),e.apply(this,arguments)}})):(t.logger.debug("shimming redis.RedisClient.prototype.send_command"),o.wrap(s,"send_command",function(e){return function(n){var r=i&&t.buildSpan(),o=r&&r.transaction.id,s=Array.prototype.slice.call(arguments);if(t.logger.debug("intercepted call to RedisClient.prototype.internal_send_command %o",{id:o,command:n}),s.length>0){var u=s.length-1,c=s[u];if("function"==typeof c)s[u]=a(r,c);else if(Array.isArray(c)&&"function"==typeof c[c.length-1])c[c.length-1]=a(r,c[c.length-1]);else{var l=a(r);void 0===s[u]?s[u]=l:s.push(l)}r&&r.start(String(n).toUpperCase(),"cache.redis")}return e.apply(this,s)}})),e;function a(e,n){return t._instrumentation.bindFunction(function(){if(e&&e.end(),n)return n.apply(this,arguments)})}}},function(e,t,n){"use strict";const r=n(10).isError,o=n(0),i=["del","get","head","opts","post","put","patch"];e.exports=function(e,t,n,s){if(!s)return e;t._conf.frameworkName||(t._conf.frameworkName="restify"),t._conf.frameworkVersion||(t._conf.frameworkVersion=n);const a=Symbol("reported");function u(e){return function(n){return function(i){return t._instrumentation.setDefaultTransactionName(e),o.wrap(arguments,2,function(e){return function(n){return r(n)&&!n[a]&&(n[a]=!0,t.captureError(n,{request:i})),e.apply(this,arguments)}}),n.apply(this,arguments)}}}return o.wrap(e,"createServer",function(e){return function(){const t=e.apply(this,arguments);return function(e){o.massWrap(e,i,function(e,t){return function(n){const r=`${t.toUpperCase()} ${n}`,o=Array.prototype.slice.call(arguments,1).map(u(r));return e.apply(this,[n].concat(o))}}),o.massWrap(e,["use","pre"],function(e,t){return function(){return e.apply(this,Array.prototype.slice.call(arguments).map(u(t)))}})}(t),t}}),e}},function(e,t,n){"use strict";var r=n(4).inherits,o=n(1),i=n(9),s=n(0);e.exports=function(e,t,n,a){if(!a)return e;if(!o.satisfies(n,">=0.0.5"))return t.logger.debug("tedious version %s not supported - aborting...",n),e;const u=t._instrumentation;return t.logger.debug("shimming tedious.Connection"),s.wrap(e,"Connection",function(e){function n(){e.apply(this,arguments),u.bindEmitter(this)}r(n,e);const o=e.prototype.makeRequest;return n.prototype.makeRequest=function(e){const n=t.buildSpan();if(!n)return o.apply(this,arguments);const r="sp_prepare"===e.sqlTextOrProcedure,s=e.parametersByName,a=(s.statement||s.stmt||{}).value,u=i(a)+(r?" (prepare)":"");return n.setDbContext({statement:a,type:"sql"}),n.start(u,"db.mssql.query"),e.userCallback=function(e){return function(){return n.end(),e&&e.apply(this,arguments)}}(e.userCallback),o.apply(this,arguments)},n}),s.wrap(e,"Request",function(e){function t(){e.apply(this,arguments),u.bindEmitter(this)}return r(t,e),t}),e}},function(e,t,n){"use strict";var r=n(1),o=n(0);e.exports=function(e,t,n,i){return i?r.satisfies(n,">=1 <7")?(t.logger.debug("shimming ws.prototype.send function"),o.wrap(e.prototype,"send",function(e){return function(){var n=t.buildSpan(),r=n&&n.transaction.id;if(t.logger.debug("intercepted call to ws.prototype.send %o",{id:r}),!n)return e.apply(this,arguments);var o=[].slice.call(arguments),i=o[o.length-1];return"function"==typeof i?o[o.length-1]=s:(i=null,o.push(s)),n.start("Send WebSocket Message","websocket.send"),e.apply(this,o);function s(){n.end(),i&&i.apply(this,arguments)}}}),e):(t.logger.debug("ws version %s not supported - aborting...",n),e):e}},function(e,t,n){e.exports=n(78)},function(e,t,n){const r=n(12),o=(n(2),n(20),n(79));e.exports=class{constructor(e){this.$={},this.$.config={},this.$.config.debug=e.tenantId||!1,this.$.tenantId=e.tenantId||null,this.$.applicationName=e.applicationName||null,this.$.serviceName=e.serviceName||null,this.$.stageName=e.stageName||null}transaction(e){return new o(e)}handler(e,t){const n=this,o={};let i;if((t=t||{}).functionName||(i="functionName"),i)throw new Error(`ServerlessSDK: Handler requires a ${i} property in a config object`);if(o.tenantId=o.tenantId||this.$.tenantId||null,o.applicationName=o.applicationName||this.$.applicationName||null,o.serviceName=o.serviceName||this.$.serviceName||null,o.stageName=o.stageName||this.$.stageName||null,o.functionName=t.functionName,o.computeType=t.computeType||null,o.computeType||process.env.AWS_LAMBDA_FUNCTION_NAME&&(o.computeType="aws.lambda"),"aws.lambda"===t.computeType)return(i,s,a)=>{const u=this;i=i||{},s=s||{},!t.eventType&&i.httpMethod&&i.headers&&i.requestContext&&(o.eventType="aws.apigateway.http");const c=n.transaction(o);c.set("compute.runtime",`aws.lambda.nodejs.${process.versions.node}`),c.set("compute.region",process.env.AWS_REGION),c.set("compute.memorySize",process.env.AWS_LAMBDA_FUNCTION_MEMORY_SIZE),c.set("compute.custom.functionName",process.env.AWS_LAMBDA_FUNCTION_NAME),c.set("compute.custom.functionVersion",process.env.AWS_LAMBDA_FUNCTION_VERSION),c.set("compute.custom.arn",s.invokedFunctionArn),c.set("compute.custom.region",process.env.AWS_REGION),c.set("compute.custom.memorySize",process.env.AWS_LAMBDA_FUNCTION_MEMORY_SIZE),c.set("compute.custom.invokeId",s.invokeId),c.set("compute.custom.awsRequestId",s.awsRequestId),c.set("compute.custom.xTraceId",process.env._X_AMZN_TRACE_ID),c.set("compute.custom.logGroupName",process.env.AWS_LAMBDA_LOG_GROUP_NAME),c.set("compute.custom.logStreamName",process.env.AWS_LAMBDA_LOG_STREAM_NAME),c.set("compute.custom.envPlatform",process.platform),c.set("compute.custom.envArch",process.arch),c.set("compute.custom.envMemoryTotal",r.totalmem()),c.set("compute.custom.envMemoryFree",r.freemem()),c.set("compute.custom.envCpus",JSON.stringify(r.cpus())),"aws.apigateway.http"===o.eventType&&(c.set("event.time",new Date(i.requestContext.requestTimeEpoch).toISOString()),c.set("event.source","aws.apigateway"),c.set("event.custom.accountId",i.requestContext.accountId),c.set("event.custom.apiId",i.requestContext.apiId),c.set("event.custom.resourceId",i.requestContext.resourceId),c.set("event.custom.domainPrefix",i.requestContext.domainPrefix),c.set("event.custom.stage",i.requestContext.stage),c.set("event.custom.domain",i.requestContext.domainName),c.set("event.custom.requestId",i.requestContext.requestId),c.set("event.custom.extendedRequestId",i.requestContext.extendedRequestId),c.set("event.custom.requestTime",i.requestContext.requestTime),c.set("event.custom.requestTimeEpoch",i.requestContext.requestTimeEpoch),c.set("event.custom.httpPath",i.requestContext.resourcePath),c.set("event.custom.httpMethod",i.requestContext.httpMethod),c.set("event.custom.xTraceId",i.headers["X-Amzn-Trace-Id"]),c.set("event.custom.xForwardedFor",i.headers["X-Forwarded-For"]),c.set("event.custom.userAgent",i.headers["User-Agent"]));const l=(e,t)=>{c.$.eTransaction.setCustomContext({lambda:{functionName:c.$.schema.functionName,functionVersion:c.$.schema.compute.custom.functionVersion,invokedFunctionArn:c.$.schema.compute.custom.arn,memoryLimitInMB:c.$.schema.compute.custom.memorySize,awsRequestId:c.$.schema.compute.custom.awsRequestId,logGroupName:c.$.schema.compute.custom.logGroupName,logStreamName:c.$.schema.compute.custom.logStreamName,executionEnv:process.env.AWS_EXECUTION_ENV,region:c.$.schema.compute.region,input:i,output:t}});const n=()=>{a.call(u,e||null,t||null)};return e?c.error(e,n):c.end(n)};let f;s.done=l,s.succeed=(e=>l(null,e)),s.fail=(e=>l(e,null));try{f=e(i,s,l)}catch(e){console.error(e),l(e,null)}f&&"function"==typeof f.then&&f.then(e=>{l(null,e)}).catch(e=>{console.error(e),l(e,null)})}}}},function(e,t,n){const r=n(20),o=n(80),i=n(82),s=n(22),a=n(26),u={transactionFunction:n(197)};e.exports=class{constructor(e){let t;if(e.tenantId||(t="tenantId"),e.applicationName||(t="applicationName"),e.serviceName||(t="serviceName"),e.stageName||(t="stageName"),e.computeType||(t="computeType"),t)throw new Error(`ServerlessSDK: Missing Configuration - To use MALT features, "${t}" is required in your configuration`);this.$={schema:null,eTransaction:null},this.$.schema=r.cloneDeep(u.transactionFunction),this.$.schema.timestamp=(new Date).toISOString(),this.$.schema.transactionId=s(),this.$.schema.traceId=s(),this.$.schema.tenantId=e.tenantId,this.$.schema.applicationName=e.applicationName,this.$.schema.serviceName=e.serviceName,this.$.schema.stageName=e.stageName,this.$.schema.functionName=e.functionName,this.$.schema.compute.type=e.computeType,this.$.schema.event.type=e.eventType||"unknown","aws.lambda"===this.$.schema.compute.type&&(u.computeAwsLambda||(u.computeAwsLambda=n(198)),this.$.schema.compute.custom=r.cloneDeep(u.computeAwsLambda)),"unknown"===this.$.schema.event.type&&(this.$.schema.event.time=(new Date).toISOString()),"aws.apigateway.http"===this.$.schema.event.type&&(u.eventAwsApiGatewayHttp||(u.eventAwsApiGatewayHttp=n(199)),this.$.schema.event.custom=r.cloneDeep(u.eventAwsApiGatewayHttp)),a.isStarted()||a.start({serviceName:e.serviceName,serverUrl:"http://apm.signalmalt.com",logLevel:"fatal"}),"aws.lambda"===e.computeType&&(this.$.eTransaction=a.startTransaction(e.functionName,"lambda"))}set(e,t){if(!r.has(this.$.schema,e))throw new Error(`ServerlessSDK: Invalid transaction property: "${e}"`);e&&t&&r.set(this.$.schema,e,t)}error(e,t){a.captureError(e),this.end(t)}end(e){let t=o(this.$.schema);t=i(t),this.$.eTransaction.addTags(t),this.$.eTransaction.end(),a.flush(e)}}},function(e,t,n){var r=n(81);function o(e,t){var n=(t=t||{}).delimiter||".",o=t.maxDepth,i={};return function e(s,a,u){u=u||1,Object.keys(s).forEach(function(c){var l=s[c],f=t.safe&&Array.isArray(l),p=Object.prototype.toString.call(l),h=r(l),d=a?a+n+c:c;if(!f&&!h&&("[object Object]"===p||"[object Array]"===p)&&Object.keys(l).length&&(!t.maxDepth||u<o))return e(l,d,u+1);i[d]=l})}(e),i}e.exports=o,o.flatten=o,o.unflatten=function e(t,n){n=n||{};var o=n.delimiter||".";var i=n.overwrite||!1;var s={};var a=r(t);if(a||"[object Object]"!==Object.prototype.toString.call(t))return t;function u(e){var t=Number(e);return isNaN(t)||-1!==e.indexOf(".")||n.object?e:t}var c=Object.keys(t).sort(function(e,t){return e.length-t.length});c.forEach(function(r){for(var a=r.split(o),c=u(a.shift()),l=u(a[0]),f=s;void 0!==l;){var p=Object.prototype.toString.call(f[c]),h="[object Object]"===p||"[object Array]"===p;if(!i&&!h&&void 0!==f[c])return;(i&&!h||!i&&null==f[c])&&(f[c]="number"!=typeof l||n.object?{}:[]),f=f[c],a.length>0&&(c=u(a.shift()),l=u(a[0]))}f[c]=e(t[r],n)});return s}},function(e,t){
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
e.exports=function(e){return null!=e&&null!=e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}},function(e,t,n){"use strict";const r=n(83),o=n(84),i=new(n(85))({maxSize:1e5}),s=(e,t)=>{t=Object.assign({deep:!1},t);const{exclude:n}=t;return r(e,(e,t)=>{if(!n||!((e,t)=>e.some(e=>"string"==typeof e?e===t:e.test(t)))(n,e))if(i.has(e))e=i.get(e);else{const t=o(e);e.length<100&&i.set(e,t),e=t}return[e,t]},{deep:t.deep})};e.exports=((e,t)=>Array.isArray(e)?Object.keys(e).map(n=>s(e[n],t)):s(e,t))},function(e,t,n){"use strict";const r=e=>!("object"!=typeof e||null===e||e instanceof RegExp||e instanceof Error||e instanceof Date);e.exports=function e(t,n,o,i){if(o=Object.assign({deep:!1,target:{}},o),(i=i||new WeakMap).has(t))return i.get(t);i.set(t,o.target);const{target:s}=o;delete o.target;const a=t=>t.map(t=>r(t)?e(t,n,o,i):t);if(Array.isArray(t))return a(t);for(const u of Object.keys(t)){const c=t[u];let[l,f]=n(u,c,t);o.deep&&r(f)&&(f=Array.isArray(f)?a(f):e(f,n,o,i)),s[l]=f}return s}},function(e,t,n){"use strict";e.exports=((e,t)=>{t=Object.assign({pascalCase:!1},t);const n=e=>t.pascalCase?e.charAt(0).toUpperCase()+e.slice(1):e;return 0===(e=Array.isArray(e)?e.map(e=>e.trim()).filter(e=>e.length).join("-"):e.trim()).length?"":1===e.length?t.pascalCase?e.toUpperCase():e.toLowerCase():/^[a-z\d]+$/.test(e)?n(e):(e!==e.toLowerCase()&&(e=(e=>{let t=!1,n=!1,r=!1;for(let o=0;o<e.length;o++){const i=e[o];t&&/[a-zA-Z]/.test(i)&&i.toUpperCase()===i?(e=e.slice(0,o)+"-"+e.slice(o),t=!1,r=n,n=!0,o++):n&&r&&/[a-zA-Z]/.test(i)&&i.toLowerCase()===i?(e=e.slice(0,o-1)+"-"+e.slice(o-1),r=n,n=!1,t=!0):(t=i.toLowerCase()===i,r=n,n=i.toUpperCase()===i)}return e})(e)),n(e=e.replace(/^[_.\- ]+/,"").toLowerCase().replace(/[_.\- ]+(\w|$)/g,(e,t)=>t.toUpperCase())))})},function(e,t,n){"use strict";e.exports=class{constructor(e){if(!((e=Object.assign({},e)).maxSize&&e.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");this.maxSize=e.maxSize,this.cache=new Map,this.oldCache=new Map,this._size=0}_set(e,t){this.cache.set(e,t),this._size++,this._size>=this.maxSize&&(this._size=0,this.oldCache=this.cache,this.cache=new Map)}get(e){if(this.cache.has(e))return this.cache.get(e);if(this.oldCache.has(e)){const t=this.oldCache.get(e);return this._set(e,t),t}}set(e,t){return this.cache.has(e)?this.cache.set(e,t):this._set(e,t),this}has(e){return this.cache.has(e)||this.oldCache.has(e)}peek(e){return this.cache.has(e)?this.cache.get(e):this.oldCache.has(e)?this.oldCache.get(e):void 0}delete(e){this.cache.delete(e)&&this._size--,this.oldCache.delete(e)}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}*keys(){for(const e of this)yield e[0]}*values(){for(const e of this)yield e[1]}*[Symbol.iterator](){for(const e of this.cache)yield e;for(const e of this.oldCache)this.cache.has(e[0])||(yield e)}get size(){let e=0;for(const t of this.oldCache)this.cache.has(t[0])||e++;return this._size+e}}},function(e,t,n){"use strict";(function(e){var t=n(13),r=n(6).parse,o=n(2),i=n(7),s=n(87),a=n(10).isError,u=n(90),c=n(29),l=n(14),f=n(134),p=n(135),h=n(141),d=n(17),g=n(39),m=n(19),v=n(5),y=t.IncomingMessage,_=t.ServerResponse,b=n(40).version,w="elastic-apm-node/"+b;function S(){this.middleware={connect:f.bind(this)},this._instrumentation=new h(this),this._filters=new p,this._conf=null,this._httpClient=null,this._uncaughtExceptionListener=null,this._config()}e.exports=S,Object.defineProperty(S.prototype,"logger",{get(){return this._conf.logger}}),Object.defineProperty(S.prototype,"currentTransaction",{get(){return this._instrumentation.currentTransaction}}),S.prototype.startTransaction=function(){return this._instrumentation.startTransaction.apply(this._instrumentation,arguments)},S.prototype.endTransaction=function(){return this._instrumentation.endTransaction.apply(this._instrumentation,arguments)},S.prototype.setTransactionName=function(){return this._instrumentation.setTransactionName.apply(this._instrumentation,arguments)},S.prototype.startSpan=function(e,t){var n=this._instrumentation.buildSpan.apply(this._instrumentation);return n&&n.start(e,t),n},S.prototype.buildSpan=function(){return this._instrumentation.buildSpan.apply(this._instrumentation,arguments)},S.prototype._config=function(e){this._conf=l(e),this._conf.serverHost=this._conf.serverUrl?r(this._conf.serverUrl).hostname:"localhost"},S.prototype.isStarted=function(){return global[v.agentInitialized]},S.prototype.start=function(t){if(this.isStarted())throw new Error("Do not call .start() more than once");if(global[v.agentInitialized]=!0,this._config(t),this._filters.config(this._conf),!this._conf.active)return this.logger.info("Elastic APM agent is inactive due to configuration"),this;if(!this._conf.serviceName)return this.logger.error("Elastic APM isn't correctly configured: Missing serviceName"),this._conf.active=!1,this;if(!/^[a-zA-Z0-9 _-]+$/.test(this._conf.serviceName))return this.logger.error('Elastic APM isn\'t correctly configured: serviceName "%s" contains invalid characters! (allowed: a-z, A-Z, 0-9, _, -, <space>)',this._conf.serviceName),this._conf.active=!1,this;if(process.env.DEBUG){var r=u(e),i=o.dirname(r[r.length-1]),a={};Error.captureStackTrace(a);try{var c=n(35)(o.join(i,"package.json"))}catch(e){}this.logger.debug("agent configured correctly %o",{pid:process.pid,ppid:process.ppid,arch:process.arch,platform:process.platform,node:process.version,agent:b,ancestors:r,startTrace:a.stack.split(/\n */).slice(1),main:c&&c.main,dependencies:c&&c.dependencies,conf:this._conf})}return this._instrumentation.start(),this._httpClient=new s({secretToken:this._conf.secretToken,userAgent:w,serverUrl:this._conf.serverUrl,rejectUnauthorized:this._conf.verifyServerCert,serverTimeout:1e3*this._conf.serverTimeout}),Error.stackTraceLimit=this._conf.stackTraceLimit,this._conf.captureExceptions&&this.handleUncaughtExceptions(),this},S.prototype.setUserContext=function(e){var t=this.currentTransaction;return!!t&&(t.setUserContext(e),!0)},S.prototype.setCustomContext=function(e){var t=this.currentTransaction;return!!t&&(t.setCustomContext(e),!0)},S.prototype.setTag=function(e,t){var n=this.currentTransaction;return!!n&&n.setTag(e,t)},S.prototype.addTags=function(e){var t=this.currentTransaction;return!!t&&t.addTags(e)},S.prototype.addFilter=function(e){"function"==typeof e?this._filters.add(e):this.logger.error("Can't add filter of type %s",typeof e)},S.prototype.captureError=function(e,t,n){if("function"==typeof t)return this.captureError(e,null,t);var r=this,o=this.currentTransaction,s=(new Date).toISOString(),u=c.v4(),f=t&&t.request instanceof y?t.request:o&&o.req,p=t&&t.response instanceof _?t.response:o&&o.res,h=a(e);if(!(t&&!1===t.handled||r._conf.captureErrorLogStackTraces!==l.CAPTURE_ERROR_LOG_STACK_TRACES_ALWAYS&&(h||r._conf.captureErrorLogStackTraces!==l.CAPTURE_ERROR_LOG_STACK_TRACES_MESSAGES))){var v={};Error.captureStackTrace(v,S.prototype.captureError)}function b(e){if(e.id=u,e.timestamp=s,e.context={user:Object.assign({},f&&d.getUserContextFromRequest(f),o&&o._user,t&&t.user),tags:Object.assign({},o&&o._tags,t&&t.tags),custom:Object.assign({},o&&o._custom,t&&t.custom)},o&&(e.transaction={id:o.id}),e.exception&&(e.exception.handled=!t||t.handled),f){var n=r._conf.captureBody,a="errors"===n||"all"===n;e.context.request=d.getContextFromRequest(f,a)}p&&(e.context.response=d.getContextFromResponse(p,!0)),v?m.callsites(v,function(t,n){t&&r.logger.debug("error while getting capture location callsites: %s",t.message);var o=i(function(t,n){n&&(e.log||(e.log={message:e.exception.message}),e.log.stacktrace=n),w(e)});n&&n.forEach(function(e){d.parseCallsite(e,!0,r,o())})}):w(e)}function w(e){r.logger.info("logging error %s with Elastic APM",u),g.errors(r,[e],t=>{n&&n(t,e.id)})}h?d.parseError(e,r,function(e,t){b(t)}):b(d.parseMessage(e))},S.prototype.handleUncaughtExceptions=function(e){var t=this;this._uncaughtExceptionListener&&process.removeListener("uncaughtException",this._uncaughtExceptionListener),this._uncaughtExceptionListener=function(n){t.logger.debug("Elastic APM caught unhandled exception: %s",n.message),t.captureError(n,{handled:!1},function(){e?e(n):process.exit(1)})},process.on("uncaughtException",this._uncaughtExceptionListener)},S.prototype.flush=function(e){this._instrumentation.flush(e)},S.prototype.lambda=function(e,t){var n=this;return"function"==typeof e&&(t=e,e="lambda"),function(r,o,i){var s=n.startTransaction(o.functionName,e);const a=f((e,t)=>o.succeed(t)),u=f((e,t)=>o.done(e,t)),c=f(e=>o.fail(e)),l=Object.assign({},o,{succeed:e=>a(null,e),done:u,fail:c});return t.call(this,r,l,f(i));function f(e){return function(t,o){var i=this;function a(){s.end(),n.flush(function(){e.call(i,t,o)})}s.setCustomContext({lambda:{functionName:l.functionName,functionVersion:l.functionVersion,invokedFunctionArn:l.invokedFunctionArn,memoryLimitInMB:l.memoryLimitInMB,awsRequestId:l.awsRequestId,logGroupName:l.logGroupName,logStreamName:l.logStreamName,executionEnv:process.env.AWS_EXECUTION_ENV,region:process.env.AWS_REGION,input:r,output:o}}),t?n.captureError(t,a):setImmediate(a)}}}}}).call(this,n(21)(e))},function(e,t,n){"use strict";var r=n(13),o=n(6).parse,i=n(27),s=n(28),a=n(88),u=a.name+"/"+a.version,c=e.exports=function(e){if(!(this instanceof c))return new c(e);if(!(e=e||{}).userAgent)throw new Error("Missing required option: userAgent");this.secretToken=e.secretToken||null,this.userAgent=e.userAgent+" "+u;var t=o(e.serverUrl||"http://localhost:8200");this._api={hostname:t.hostname,port:t.port,transport:"https:"===t.protocol?n(89):r,path:"/"===t.path?"/v1/":t.path+"/v1/",rejectUnauthorized:!1!==e.rejectUnauthorized,serverTimeout:e.serverTimeout}};c.prototype.request=function(e,t,n,r){var o=this;if("function"==typeof n)return this.request(e,{},t,n);t||(t={}),i.gzip(s(n),function(n,i){if(n)return r(n);o.secretToken&&(t.Authorization="Bearer "+o.secretToken),t["Content-Type"]="application/json",t["Content-Encoding"]="gzip",t["Content-Length"]=i.length,t.Accept="application/json",t["User-Agent"]=o.userAgent;var s={method:"POST",hostname:o._api.hostname,port:o._api.port,path:o._api.path+e,headers:t,rejectUnauthorized:o._api.rejectUnauthorized},a=o._api.transport.request(s,function(e){var t=[];e.on("data",t.push.bind(t)),e.on("end",function(){r(null,e,Buffer.concat(t).toString("utf8"))})});isFinite(o._api.serverTimeout)&&a.setTimeout(o._api.serverTimeout,function(){a.abort()}),a.on("error",r),a.end(i)})}},function(e){e.exports={_from:"elastic-apm-http-client@^5.2.1",_id:"elastic-apm-http-client@5.2.1",_inBundle:!1,_integrity:"sha512-vNmJtioNxFnXQ3/ETLxZpPnKqgfxioQcQGkRtJuOvAHycHZ3okduPLgAQlK9hxAEmE3/F5MbYx2gIKHxScvr3Q==",_location:"/elastic-apm-http-client",_phantomChildren:{},_requested:{type:"range",registry:!0,raw:"elastic-apm-http-client@^5.2.1",name:"elastic-apm-http-client",escapedName:"elastic-apm-http-client",rawSpec:"^5.2.1",saveSpec:null,fetchSpec:"^5.2.1"},_requiredBy:["/elastic-apm-node"],_resolved:"https://registry.npmjs.org/elastic-apm-http-client/-/elastic-apm-http-client-5.2.1.tgz",_shasum:"71106cb1fb8523ca6da1f7136fdc2b23d4f5ddbb",_spec:"elastic-apm-http-client@^5.2.1",_where:"/Users/austen/Personal/Serverless/code/platform-plugin/src/handler/assets/node_modules/elastic-apm-node",author:{name:"Thomas Watson",email:"w@tson.dk",url:"https://twitter.com/wa7son"},bugs:{url:"https://github.com/elastic/apm-nodejs-http-client/issues"},bundleDependencies:!1,coordinates:[55.6773705,12.5614183],dependencies:{"fast-safe-stringify":"^2.0.4"},deprecated:!1,description:"A low-level HTTP client for communicating with the Elastic APM intake API",devDependencies:{"https-pem":"^2.0.0",nock:"^9.2.6",semver:"^5.5.0",standard:"^11.0.1",tape:"^4.9.0"},directories:{test:"test"},homepage:"https://github.com/elastic/apm-nodejs-http-client",keywords:["opbeat","elastic","apm","http","client"],license:"MIT",main:"index.js",name:"elastic-apm-http-client",repository:{type:"git",url:"git+https://github.com/elastic/apm-nodejs-http-client.git"},scripts:{test:"standard && tape test.js"},version:"5.2.1"}},function(e,t){e.exports=require("https")},function(e,t,n){"use strict";e.exports=function(e){const t=[];for(;e=e.parent;)t.push(e.filename);return t}},function(e,t,n){var r,o,i=n(23),s=n(25),a=0,u=0;e.exports=function(e,t,n){var c=t&&n||0,l=t||[],f=(e=e||{}).node||r,p=void 0!==e.clockseq?e.clockseq:o;if(null==f||null==p){var h=i();null==f&&(f=r=[1|h[0],h[1],h[2],h[3],h[4],h[5]]),null==p&&(p=o=16383&(h[6]<<8|h[7]))}var d=void 0!==e.msecs?e.msecs:(new Date).getTime(),g=void 0!==e.nsecs?e.nsecs:u+1,m=d-a+(g-u)/1e4;if(m<0&&void 0===e.clockseq&&(p=p+1&16383),(m<0||d>a)&&void 0===e.nsecs&&(g=0),g>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");a=d,u=g,o=p;var v=(1e4*(268435455&(d+=122192928e5))+g)%4294967296;l[c++]=v>>>24&255,l[c++]=v>>>16&255,l[c++]=v>>>8&255,l[c++]=255&v;var y=d/4294967296*1e4&268435455;l[c++]=y>>>8&255,l[c++]=255&y,l[c++]=y>>>24&15|16,l[c++]=y>>>16&255,l[c++]=p>>>8|128,l[c++]=255&p;for(var _=0;_<6;++_)l[c+_]=f[_];return t||s(l)}},function(e,t,n){"use strict";var r=n(4),o=["trace","debug","info","warn","error","fatal"],i=function(){};e.exports=function(e){(e=e||{}).level=e.level||"info";var t={};return o.forEach(function(n){t[n]=function(t){return o.indexOf(t)>=o.indexOf(e.level)}(n)?function(){var t,o=e.prefix;if(e.stderr)t="error";else switch(n){case"trace":case"debug":t="info";break;case"fatal":t="error";break;default:t=n}o&&("function"==typeof o&&(o=o(n)),arguments[0]=r.format(o,arguments[0]));console[t](r.format.apply(r,arguments))}:i}),t}},function(e,t,n){"use strict";e.exports=function(e){if(!e)return!1;switch(e.toString().toLowerCase()){case"0":case"false":case"no":case"off":case"disabled":return!1;default:return!0}}},function(e,t,n){"use strict";const r=n(95),o=n(101);e.exports=(e=>r("package.json",e).then(t=>t?o(t,e).then(e=>({pkg:e,path:t})):{})),e.exports.sync=(e=>{const t=r.sync("package.json",e);return t?{pkg:o.sync(t,e),path:t}:{}})},function(e,t,n){"use strict";const r=n(2),o=n(96);e.exports=((e,t)=>{t=t||{};const n=r.resolve(t.cwd||""),i=r.parse(n).root,s=[].concat(e);return new Promise(e=>{!function t(n){o(s,{cwd:n}).then(o=>{o?e(r.join(n,o)):n===i?e(null):t(r.dirname(n))})}(n)})}),e.exports.sync=((e,t)=>{t=t||{};let n=r.resolve(t.cwd||"");const i=r.parse(n).root,s=[].concat(e);for(;;){const e=o.sync(s,{cwd:n});if(e)return r.join(n,e);if(n===i)return null;n=r.dirname(n)}})},function(e,t,n){"use strict";const r=n(2),o=n(97),i=n(98);e.exports=((e,t)=>(t=Object.assign({cwd:process.cwd()},t),i(e,e=>o(r.resolve(t.cwd,e)),t))),e.exports.sync=((e,t)=>{t=Object.assign({cwd:process.cwd()},t);for(const n of e)if(o.sync(r.resolve(t.cwd,n)))return n})},function(e,t,n){"use strict";const r=n(3);e.exports=(e=>new Promise(t=>{r.access(e,e=>{t(!e)})})),e.exports.sync=(e=>{try{return r.accessSync(e),!0}catch(e){return!1}})},function(e,t,n){"use strict";const r=n(99);class o extends Error{constructor(e){super(),this.value=e}}e.exports=((e,t,n)=>{n=Object.assign({concurrency:1/0,preserveOrder:!0},n);const i=r(n.concurrency),s=Array.from(e).map(e=>[e,i(()=>Promise.resolve(e).then(t))]),a=r(n.preserveOrder?1:1/0);return Promise.all(s.map(e=>a(()=>(e=>Promise.all(e).then(e=>!0===e[1]&&Promise.reject(new o(e[0]))))(e)))).then(()=>{}).catch(e=>e instanceof o?e.value:Promise.reject(e))})},function(e,t,n){"use strict";const r=n(100);e.exports=(e=>{if(e<1)throw new TypeError("Expected `concurrency` to be a number from 1 and up");const t=[];let n=0;const o=()=>{n--,t.length>0&&t.shift()()};return i=>new Promise((s,a)=>{const u=()=>{n++,r(i).then(e=>{s(e),o()},e=>{a(e),o()})};n<e?u():t.push(u)})})},function(e,t,n){"use strict";e.exports=(e=>new Promise(t=>{t(e())}))},function(e,t,n){"use strict";const r=n(2),o=n(102),i=n(114);e.exports=((e,t)=>("string"!=typeof e&&(t=e,e="."),t=t||{},i.dir(e).then(t=>(t&&(e=r.join(e,"package.json")),o(e))).then(e=>(!1!==t.normalize&&n(31)(e),e)))),e.exports.sync=((e,t)=>{"string"!=typeof e&&(t=e,e="."),t=t||{},e=i.dirSync(e)?r.join(e,"package.json"):e;const s=o.sync(e);return!1!==t.normalize&&n(31)(s),s})},function(e,t,n){"use strict";const r=n(2),o=n(103),i=n(109),s=n(110),a=n(30),u=(e,t)=>s(i(e),r.relative(".",t));e.exports=(e=>a(o.readFile)(e,"utf8").then(t=>u(t,e))),e.exports.sync=(e=>u(o.readFileSync(e,"utf8"),e))},function(e,t,n){var r=n(3),o=n(104),i=n(106),s=n(108),a=[],u=n(4);var c=function(){};function l(e){o(e),e.gracefulify=l,e.FileReadStream=d,e.FileWriteStream=g,e.createReadStream=function(e,t){return new d(e,t)},e.createWriteStream=function(e,t){return new g(e,t)};var t=e.readFile;e.readFile=function(e,n,r){"function"==typeof n&&(r=n,n=null);return function e(n,r,o){return t(n,r,function(t){!t||"EMFILE"!==t.code&&"ENFILE"!==t.code?("function"==typeof o&&o.apply(this,arguments),p()):f([e,[n,r,o]])})}(e,n,r)};var n=e.writeFile;e.writeFile=function(e,t,r,o){"function"==typeof r&&(o=r,r=null);return function e(t,r,o,i){return n(t,r,o,function(n){!n||"EMFILE"!==n.code&&"ENFILE"!==n.code?("function"==typeof i&&i.apply(this,arguments),p()):f([e,[t,r,o,i]])})}(e,t,r,o)};var r=e.appendFile;r&&(e.appendFile=function(e,t,n,o){"function"==typeof n&&(o=n,n=null);return function e(t,n,o,i){return r(t,n,o,function(r){!r||"EMFILE"!==r.code&&"ENFILE"!==r.code?("function"==typeof i&&i.apply(this,arguments),p()):f([e,[t,n,o,i]])})}(e,t,n,o)});var s=e.readdir;function a(t){return s.apply(e,t)}if(e.readdir=function(e,t,n){var r=[e];"function"!=typeof t?r.push(t):n=t;return r.push(function(e,t){t&&t.sort&&t.sort(),!e||"EMFILE"!==e.code&&"ENFILE"!==e.code?("function"==typeof n&&n.apply(this,arguments),p()):f([a,[r]])}),a(r)},"v0.8"===process.version.substr(0,4)){var u=i(e);d=u.ReadStream,g=u.WriteStream}var c=e.ReadStream;c&&(d.prototype=Object.create(c.prototype),d.prototype.open=function(){var e=this;v(e.path,e.flags,e.mode,function(t,n){t?(e.autoClose&&e.destroy(),e.emit("error",t)):(e.fd=n,e.emit("open",n),e.read())})});var h=e.WriteStream;function d(e,t){return this instanceof d?(c.apply(this,arguments),this):d.apply(Object.create(d.prototype),arguments)}function g(e,t){return this instanceof g?(h.apply(this,arguments),this):g.apply(Object.create(g.prototype),arguments)}h&&(g.prototype=Object.create(h.prototype),g.prototype.open=function(){var e=this;v(e.path,e.flags,e.mode,function(t,n){t?(e.destroy(),e.emit("error",t)):(e.fd=n,e.emit("open",n))})}),e.ReadStream=d,e.WriteStream=g;var m=e.open;function v(e,t,n,r){return"function"==typeof n&&(r=n,n=null),function e(t,n,r,o){return m(t,n,r,function(i,s){!i||"EMFILE"!==i.code&&"ENFILE"!==i.code?("function"==typeof o&&o.apply(this,arguments),p()):f([e,[t,n,r,o]])})}(e,t,n,r)}return e.open=v,e}function f(e){c("ENQUEUE",e[0].name,e[1]),a.push(e)}function p(){var e=a.shift();e&&(c("RETRY",e[0].name,e[1]),e[0].apply(null,e[1]))}u.debuglog?c=u.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(c=function(){var e=u.format.apply(u,arguments);e="GFS4: "+e.split(/\n/).join("\nGFS4: "),console.error(e)}),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){c(a),n(15).equal(a.length,0)}),e.exports=l(s(r)),process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!r.__patched&&(e.exports=l(r),r.__patched=!0),e.exports.close=function(e){return function(t,n){return e.call(r,t,function(e){e||p(),"function"==typeof n&&n.apply(this,arguments)})}}(r.close),e.exports.closeSync=function(e){return function(t){var n=e.apply(r,arguments);return p(),n}}(r.closeSync),/\bgraceful-fs\b/.test(r.closeSync.toString())||(r.closeSync=e.exports.closeSync,r.close=e.exports.close)},function(e,t,n){var r=n(105),o=process.cwd,i=null,s=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return i||(i=o.call(process)),i};try{process.cwd()}catch(e){}var a=process.chdir;process.chdir=function(e){i=null,a.call(process,e)},e.exports=function(e){r.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&function(e){e.lchmod=function(t,n,o){e.open(t,r.O_WRONLY|r.O_SYMLINK,n,function(t,r){t?o&&o(t):e.fchmod(r,n,function(t){e.close(r,function(e){o&&o(t||e)})})})},e.lchmodSync=function(t,n){var o,i=e.openSync(t,r.O_WRONLY|r.O_SYMLINK,n),s=!0;try{o=e.fchmodSync(i,n),s=!1}finally{if(s)try{e.closeSync(i)}catch(e){}else e.closeSync(i)}return o}}(e);e.lutimes||function(e){r.hasOwnProperty("O_SYMLINK")?(e.lutimes=function(t,n,o,i){e.open(t,r.O_SYMLINK,function(t,r){t?i&&i(t):e.futimes(r,n,o,function(t){e.close(r,function(e){i&&i(t||e)})})})},e.lutimesSync=function(t,n,o){var i,s=e.openSync(t,r.O_SYMLINK),a=!0;try{i=e.futimesSync(s,n,o),a=!1}finally{if(a)try{e.closeSync(s)}catch(e){}else e.closeSync(s)}return i}):(e.lutimes=function(e,t,n,r){r&&process.nextTick(r)},e.lutimesSync=function(){})}(e);e.chown=o(e.chown),e.fchown=o(e.fchown),e.lchown=o(e.lchown),e.chmod=t(e.chmod),e.fchmod=t(e.fchmod),e.lchmod=t(e.lchmod),e.chownSync=i(e.chownSync),e.fchownSync=i(e.fchownSync),e.lchownSync=i(e.lchownSync),e.chmodSync=n(e.chmodSync),e.fchmodSync=n(e.fchmodSync),e.lchmodSync=n(e.lchmodSync),e.stat=a(e.stat),e.fstat=a(e.fstat),e.lstat=a(e.lstat),e.statSync=u(e.statSync),e.fstatSync=u(e.fstatSync),e.lstatSync=u(e.lstatSync),e.lchmod||(e.lchmod=function(e,t,n){n&&process.nextTick(n)},e.lchmodSync=function(){});e.lchown||(e.lchown=function(e,t,n,r){r&&process.nextTick(r)},e.lchownSync=function(){});"win32"===s&&(e.rename=function(t){return function(n,r,o){var i=Date.now(),s=0;t(n,r,function a(u){if(u&&("EACCES"===u.code||"EPERM"===u.code)&&Date.now()-i<6e4)return setTimeout(function(){e.stat(r,function(e,i){e&&"ENOENT"===e.code?t(n,r,a):o(u)})},s),void(s<100&&(s+=10));o&&o(u)})}}(e.rename));function t(t){return t?function(n,r,o){return t.call(e,n,r,function(e){c(e)&&(e=null),o&&o.apply(this,arguments)})}:t}function n(t){return t?function(n,r){try{return t.call(e,n,r)}catch(e){if(!c(e))throw e}}:t}function o(t){return t?function(n,r,o,i){return t.call(e,n,r,o,function(e){c(e)&&(e=null),i&&i.apply(this,arguments)})}:t}function i(t){return t?function(n,r,o){try{return t.call(e,n,r,o)}catch(e){if(!c(e))throw e}}:t}function a(t){return t?function(n,r){return t.call(e,n,function(e,t){if(!t)return r.apply(this,arguments);t.uid<0&&(t.uid+=4294967296),t.gid<0&&(t.gid+=4294967296),r&&r.apply(this,arguments)})}:t}function u(t){return t?function(n){var r=t.call(e,n);return r.uid<0&&(r.uid+=4294967296),r.gid<0&&(r.gid+=4294967296),r}:t}function c(e){if(!e)return!0;if("ENOSYS"===e.code)return!0;var t=!process.getuid||0!==process.getuid();return!(!t||"EINVAL"!==e.code&&"EPERM"!==e.code)}e.read=function(t){return function(n,r,o,i,s,a){var u;if(a&&"function"==typeof a){var c=0;u=function(l,f,p){if(l&&"EAGAIN"===l.code&&c<10)return c++,t.call(e,n,r,o,i,s,u);a.apply(this,arguments)}}return t.call(e,n,r,o,i,s,u)}}(e.read),e.readSync=function(t){return function(n,r,o,i,s){for(var a=0;;)try{return t.call(e,n,r,o,i,s)}catch(e){if("EAGAIN"===e.code&&a<10){a++;continue}throw e}}}(e.readSync)}},function(e,t){e.exports=require("constants")},function(e,t,n){var r=n(107).Stream;e.exports=function(e){return{ReadStream:function t(n,o){if(!(this instanceof t))return new t(n,o);r.call(this);var i=this;this.path=n;this.fd=null;this.readable=!0;this.paused=!1;this.flags="r";this.mode=438;this.bufferSize=65536;o=o||{};var s=Object.keys(o);for(var a=0,u=s.length;a<u;a++){var c=s[a];this[c]=o[c]}this.encoding&&this.setEncoding(this.encoding);if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(void 0===this.end)this.end=1/0;else if("number"!=typeof this.end)throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(null!==this.fd)return void process.nextTick(function(){i._read()});e.open(this.path,this.flags,this.mode,function(e,t){if(e)return i.emit("error",e),void(i.readable=!1);i.fd=t,i.emit("open",t),i._read()})},WriteStream:function t(n,o){if(!(this instanceof t))return new t(n,o);r.call(this);this.path=n;this.fd=null;this.writable=!0;this.flags="w";this.encoding="binary";this.mode=438;this.bytesWritten=0;o=o||{};var i=Object.keys(o);for(var s=0,a=i.length;s<a;s++){var u=i[s];this[u]=o[u]}if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1;this._queue=[];null===this.fd&&(this._open=e.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}}},function(e,t){e.exports=require("stream")},function(e,t,n){"use strict";e.exports=function(e){if(null===e||"object"!=typeof e)return e;if(e instanceof Object)var t={__proto__:e.__proto__};else var t=Object.create(null);return Object.getOwnPropertyNames(e).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}),t}},function(e,t,n){"use strict";e.exports=(e=>{if("string"!=typeof e)throw new TypeError("Expected a string, got "+typeof e);return 65279===e.charCodeAt(0)?e.slice(1):e})},function(e,t,n){"use strict";const r=n(111),o=n(113),i=r("JSONError",{fileName:r.append("in %s")});e.exports=((e,t,n)=>{"string"==typeof t&&(n=t,t=null);try{try{return JSON.parse(e,t)}catch(n){throw o(e,t),n}}catch(e){e.message=e.message.replace(/\n/g,"");const t=new i(e);throw n&&(t.fileName=n),t}})},function(e,t,n){"use strict";var r=n(4),o=n(112),i=function(e,t){e&&e.constructor===String||(t=e||{},e=Error.name);var n=function r(i){if(!this)return new r(i);i=i instanceof Error?i.message:i||this.message,Error.call(this,i),Error.captureStackTrace(this,n),this.name=e,Object.defineProperty(this,"message",{configurable:!0,enumerable:!1,get:function(){var e=i.split(/\r?\n/g);for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];"message"in r&&(e=r.message(this[n],e)||e,o(e)||(e=[e]))}return e.join("\n")},set:function(e){i=e}});var s=null,a=Object.getOwnPropertyDescriptor(this,"stack"),u=a.get,c=a.value;delete a.value,delete a.writable,a.set=function(e){s=e},a.get=function(){var e=(s||(u?u.call(this):c)).split(/\r?\n+/g);s||(e[0]=this.name+": "+this.message);var n=1;for(var r in t)if(t.hasOwnProperty(r)){var o=t[r];if("line"in o){var i=o.line(this[r]);i&&e.splice(n++,0,"    "+i)}"stack"in o&&o.stack(this[r],e)}return e.join("\n")},Object.defineProperty(this,"stack",a)};return Object.setPrototypeOf?(Object.setPrototypeOf(n.prototype,Error.prototype),Object.setPrototypeOf(n,Error)):r.inherits(n,Error),n};i.append=function(e,t){return{message:function(n,r){return(n=n||t)&&(r[0]+=" "+e.replace("%s",n.toString())),r}}},i.line=function(e,t){return{line:function(n){return(n=n||t)?e.replace("%s",n.toString()):null}}},e.exports=i},function(e,t,n){"use strict";e.exports=function(e){return!!e&&(e instanceof Array||Array.isArray(e)||e.length>=0&&e.splice instanceof Function)}},function(e,t,n){"use strict";e.exports=function(e,t,n){n=n||20;try{return JSON.parse(e,t)}catch(t){if("string"!=typeof e){const t=Array.isArray(e)&&0===e.length,n="Cannot parse "+(t?"an empty array":String(e));throw new TypeError(n)}const r=t.message.match(/^Unexpected token.*position\s+(\d+)/i),o=r?+r[1]:t.message.match(/^Unexpected end of JSON.*/i)?e.length-1:null;if(null!=o){const r=o<=n?0:o-n,i=o+n>=e.length?e.length:o+n;t.message+=` while parsing near '${0===r?"":"..."}${e.slice(r,i)}${i===e.length?"":"..."}'`}else t.message+=` while parsing '${e.slice(0,2*n)}'`;throw t}}},function(e,t,n){"use strict";const r=n(3),o=n(30);function i(e,t,n){return"string"!=typeof n?Promise.reject(new TypeError(`Expected a string, got ${typeof n}`)):o(r[e])(n).then(e=>e[t]()).catch(e=>{if("ENOENT"===e.code)return!1;throw e})}function s(e,t,n){if("string"!=typeof n)throw new TypeError(`Expected a string, got ${typeof n}`);try{return r[e](n)[t]()}catch(e){if("ENOENT"===e.code)return!1;throw e}}t.file=i.bind(null,"stat","isFile"),t.dir=i.bind(null,"stat","isDirectory"),t.symlink=i.bind(null,"lstat","isSymbolicLink"),t.fileSync=s.bind(null,"statSync","isFile"),t.dirSync=s.bind(null,"statSync","isDirectory"),t.symlinkSync=s.bind(null,"lstatSync","isSymbolicLink")},function(e,t,n){var r=n(1),o=n(116),i=n(122),s=n(124),a=["dependencies","devDependencies","optionalDependencies"],u=n(126),c=n(6),l=n(127);e.exports={warn:function(){},fixRepositoryField:function(e){if(e.repositories&&(this.warn("repositories"),e.repository=e.repositories[0]),!e.repository)return this.warn("missingRepository");"string"==typeof e.repository&&(e.repository={type:"git",url:e.repository});var t=e.repository.url||"";if(t){var n=i.fromUrl(t);n&&(t=e.repository.url="shortcut"==n.getDefaultRepresentation()?n.https():n.toString())}t.match(/github.com\/[^\/]+\/[^\/]+\.git\.git$/)&&this.warn("brokenGitUrl",t)},fixTypos:function(e){Object.keys(l.topLevel).forEach(function(t){e.hasOwnProperty(t)&&this.warn("typo",t,l.topLevel[t])},this)},fixScriptsField:function(e){if(e.scripts)return"object"!=typeof e.scripts?(this.warn("nonObjectScripts"),void delete e.scripts):void Object.keys(e.scripts).forEach(function(t){"string"!=typeof e.scripts[t]?(this.warn("nonStringScript"),delete e.scripts[t]):l.script[t]&&!e.scripts[l.script[t]]&&this.warn("typo",t,l.script[t],"scripts")},this)},fixFilesField:function(e){var t=e.files;t&&!Array.isArray(t)?(this.warn("nonArrayFiles"),delete e.files):e.files&&(e.files=e.files.filter(function(e){return!(!e||"string"!=typeof e)||(this.warn("invalidFilename",e),!1)},this))},fixBinField:function(e){if(e.bin&&"string"==typeof e.bin){var t,n={};(t=e.name.match(/^@[^/]+[/](.*)$/))?n[t[1]]=e.bin:n[e.name]=e.bin,e.bin=n}},fixManField:function(e){e.man&&"string"==typeof e.man&&(e.man=[e.man])},fixBundleDependenciesField:function(e){var t="bundledDependencies",n="bundleDependencies";e[t]&&!e[n]&&(e[n]=e[t],delete e[t]),e[n]&&!Array.isArray(e[n])?(this.warn("nonArrayBundleDependencies"),delete e[n]):e[n]&&(e[n]=e[n].filter(function(t){return t&&"string"==typeof t?(e.dependencies||(e.dependencies={}),e.dependencies.hasOwnProperty(t)||(this.warn("nonDependencyBundleDependency",t),e.dependencies[t]="*"),!0):(this.warn("nonStringBundleDependency",t),!1)},this))},fixDependencies:function(e,t){!function(e,t){a.forEach(function(n){e[n]&&(e[n]=function(e,t,n){if(!e)return{};"string"==typeof e&&(e=e.trim().split(/[\n\r\s\t ,]+/));if(!Array.isArray(e))return e;n("deprecatedArrayDependencies",t);var r={};return e.filter(function(e){return"string"==typeof e}).forEach(function(e){var t=(e=e.trim().split(/(:?[@\s><=])/)).shift(),n=e.join("");n=(n=n.trim()).replace(/^@/,""),r[t]=n}),r}(e[n],n,t))})}(e,this.warn),function(e,t){var n=e.optionalDependencies;if(!n)return;var r=e.dependencies||{};Object.keys(n).forEach(function(e){r[e]=n[e]}),e.dependencies=r}(e,this.warn),this.fixBundleDependenciesField(e),["dependencies","devDependencies"].forEach(function(t){if(t in e)return e[t]&&"object"==typeof e[t]?void Object.keys(e[t]).forEach(function(n){var r=e[t][n];"string"!=typeof r&&(this.warn("nonStringDependency",n,JSON.stringify(r)),delete e[t][n]);var o=i.fromUrl(e[t][n]);o&&(e[t][n]=o.toString())},this):(this.warn("nonObjectDependencies",t),void delete e[t])},this)},fixModulesField:function(e){e.modules&&(this.warn("deprecatedModules"),delete e.modules)},fixKeywordsField:function(e){"string"==typeof e.keywords&&(e.keywords=e.keywords.split(/,\s+/)),e.keywords&&!Array.isArray(e.keywords)?(delete e.keywords,this.warn("nonArrayKeywords")):e.keywords&&(e.keywords=e.keywords.filter(function(e){return!("string"!=typeof e||!e)||(this.warn("nonStringKeyword"),!1)},this))},fixVersionField:function(e,t){var n=!t;if(!e.version)return e.version="",!0;if(!r.valid(e.version,n))throw new Error('Invalid version: "'+e.version+'"');return e.version=r.clean(e.version,n),!0},fixPeople:function(e){f(e,p),f(e,h)},fixNameField:function(e,t){"boolean"==typeof t?t={strict:t}:void 0===t&&(t={});var n=t.strict;if(e.name||n){if("string"!=typeof e.name)throw new Error("name field must be a string.");n||(e.name=e.name.trim()),function(e,t,n){if("."===e.charAt(0)||!function(e){if("@"!==e.charAt(0))return!1;var t=e.slice(1).split("/");return 2===t.length&&t[0]&&t[1]&&t[0]===encodeURIComponent(t[0])&&t[1]===encodeURIComponent(t[1])}(e)&&!function(e){return!e.match(/[\/@\s\+%:]/)&&e===encodeURIComponent(e)}(e)||t&&!n&&e!==e.toLowerCase()||"node_modules"===e.toLowerCase()||"favicon.ico"===e.toLowerCase())throw new Error("Invalid name: "+JSON.stringify(e))}(e.name,n,t.allowLegacyCase),s(e.name)&&this.warn("conflictingName",e.name)}else e.name=""},fixDescriptionField:function(e){e.description&&"string"!=typeof e.description&&(this.warn("nonStringDescription"),delete e.description),e.readme&&!e.description&&(e.description=u(e.readme)),void 0===e.description&&delete e.description,e.description||this.warn("missingDescription")},fixReadmeField:function(e){e.readme||(this.warn("missingReadme"),e.readme="ERROR: No README data found!")},fixBugsField:function(e){if(!e.bugs&&e.repository&&e.repository.url){var t=i.fromUrl(e.repository.url);t&&t.bugs()&&(e.bugs={url:t.bugs()})}else if(e.bugs){var n=/^.+@.*\..+$/;if("string"==typeof e.bugs)n.test(e.bugs)?e.bugs={email:e.bugs}:c.parse(e.bugs).protocol?e.bugs={url:e.bugs}:this.warn("nonEmailUrlBugsString");else{!function(e,t){if(!e)return;Object.keys(e).forEach(function(n){l.bugs[n]&&(t("typo",n,l.bugs[n],"bugs"),e[l.bugs[n]]=e[n],delete e[n])})}(e.bugs,this.warn);var r=e.bugs;e.bugs={},r.url&&("string"==typeof r.url&&c.parse(r.url).protocol?e.bugs.url=r.url:this.warn("nonUrlBugsUrlField")),r.email&&("string"==typeof r.email&&n.test(r.email)?e.bugs.email=r.email:this.warn("nonEmailBugsEmailField"))}e.bugs.email||e.bugs.url||(delete e.bugs,this.warn("emptyNormalizedBugs"))}},fixHomepageField:function(e){if(!e.homepage&&e.repository&&e.repository.url){var t=i.fromUrl(e.repository.url);t&&t.docs()&&(e.homepage=t.docs())}if(e.homepage)return"string"!=typeof e.homepage?(this.warn("nonUrlHomepage"),delete e.homepage):void(c.parse(e.homepage).protocol||(e.homepage="http://"+e.homepage))},fixLicenseField:function(e){if(!e.license)return this.warn("missingLicense");"string"!=typeof e.license||e.license.length<1?this.warn("invalidLicense"):o(e.license).validForNewPackages||this.warn("invalidLicense")}};function f(e,t){return e.author&&(e.author=t(e.author)),["maintainers","contributors"].forEach(function(n){Array.isArray(e[n])&&(e[n]=e[n].map(t))}),e}function p(e){if("string"==typeof e)return e;var t=e.name||"",n=e.url||e.web,r=n?" ("+n+")":"",o=e.email||e.mail;return t+(o?" <"+o+">":"")+r}function h(e){if("string"!=typeof e)return e;var t=e.match(/^([^\(<]+)/),n=e.match(/\(([^\)]+)\)/),r=e.match(/<([^>]+)>/),o={};return t&&t[0].trim()&&(o.name=t[0].trim()),r&&(o.email=r[1]),n&&(o.url=n[1]),o}},function(e,t,n){var r=n(32),o=n(121),i='license should be a valid SPDX license expression (without "LicenseRef"), "UNLICENSED", or "SEE LICENSE IN <filename>"',s=/^SEE LICEN[CS]E IN (.+)$/;function a(e,t){return t.slice(0,e.length)===e}e.exports=function(e){var t;try{t=r(e)}catch(t){var n;if("UNLICENSED"===e||"UNLICENCED"===e)return{validForOldPackages:!0,validForNewPackages:!0,unlicensed:!0};if(n=s.exec(e))return{validForOldPackages:!0,validForNewPackages:!0,inFile:n[1]};var u={validForOldPackages:!1,validForNewPackages:!1,warnings:[i]};if(0!==e.trim().length){var c=o(e);c&&u.warnings.push('license is similar to the valid expression "'+c+'"')}return u}return function e(t){if(t.hasOwnProperty("license")){var n=t.license;return a("LicenseRef",n)||a("DocumentRef",n)}return e(t.left)||e(t.right)}(t)?{validForNewPackages:!1,validForOldPackages:!1,spdx:!0,warnings:[i]}:{validForNewPackages:!0,validForOldPackages:!0,spdx:!0}}},function(e,t,n){"use strict";var r=[].concat(n(33)).concat(n(118)),o=n(119);e.exports=function(e){var t=0;function n(){return t<e.length}function i(n){if(n instanceof RegExp){var r=e.slice(t).match(n);if(r)return t+=r[0].length,r[0]}else if(e.indexOf(n,t)===t)return t+=n.length,n}function s(){return i(/[A-Za-z0-9-.]+/)}function a(){var e=s();if(!e)throw new Error("Expected idstring at offset "+t);return e}function u(){return function(){for(var n,r=["WITH","AND","OR","(",")",":","+"],o=0;o<r.length&&!(n=i(r[o]));o++);if("+"===n&&t>1&&" "===e[t-2])throw new Error("Space before `+`");return n&&{type:"OPERATOR",string:n}}()||function(){if(i("DocumentRef-"))return{type:"DOCUMENTREF",string:a()}}()||function(){if(i("LicenseRef-"))return{type:"LICENSEREF",string:a()}}()||function(){var e=t,n=s();return-1!==r.indexOf(n)?{type:"LICENSE",string:n}:-1!==o.indexOf(n)?{type:"EXCEPTION",string:n}:void(t=e)}()}for(var c=[];n()&&(i(/[ ]*/),n());){var l=u();if(!l)throw new Error("Unexpected `"+e[t]+"` at offset "+t);c.push(l)}return c}},function(e){e.exports=["AGPL-1.0","AGPL-3.0","eCos-2.0","GFDL-1.1","GFDL-1.2","GFDL-1.3","GPL-1.0","GPL-2.0-with-autoconf-exception","GPL-2.0-with-bison-exception","GPL-2.0-with-classpath-exception","GPL-2.0-with-font-exception","GPL-2.0-with-GCC-exception","GPL-2.0","GPL-3.0-with-autoconf-exception","GPL-3.0-with-GCC-exception","GPL-3.0","LGPL-2.0","LGPL-2.1","LGPL-3.0","Nunit","StandardML-NJ","wxWindows"]},function(e){e.exports=["389-exception","Autoconf-exception-2.0","Autoconf-exception-3.0","Bison-exception-2.2","Bootloader-exception","Classpath-exception-2.0","CLISP-exception-2.0","DigiRule-FOSS-exception","eCos-exception-2.0","Fawkes-Runtime-exception","FLTK-exception","Font-exception-2.0","freertos-exception-2.0","GCC-exception-2.0","GCC-exception-3.1","gnu-javamail-exception","i2p-gpl-java-exception","Libtool-exception","Linux-syscall-note","LLVM-exception","LZMA-exception","mif-exception","Nokia-Qt-exception-1.1","OCCT-exception-1.0","OpenJDK-assembly-exception-1.0","openvpn-openssl-exception","PS-or-PDF-font-exception-20170817","Qt-GPL-exception-1.0","Qt-LGPL-exception-1.1","Qwt-exception-1.0","u-boot-exception-2.0","WxWindows-exception-3.1"]},function(e,t,n){"use strict";e.exports=function(e){var t=0;function n(){return t<e.length}function r(){return n()?e[t]:null}function o(){if(!n())throw new Error;t++}function i(e){var t=r();if(t&&"OPERATOR"===t.type&&e===t.string)return o(),t.string}function s(){var e=r();if(e&&"LICENSE"===e.type){o();var t={license:e.string};i("+")&&(t.plus=!0);var n=function(){if(i("WITH")){var e=r();if(e&&"EXCEPTION"===e.type)return o(),e.string;throw new Error("Expected exception after `WITH`")}}();return n&&(t.exception=n),t}}function a(e,t){return function n(){var r=t();if(r){if(!i(e))return r;var o=n();if(!o)throw new Error("Expected expression");return{left:r,conjunction:e.toLowerCase(),right:o}}}}var u=a("OR",a("AND",function(){return function(){if(i("(")){var e=u();if(!i(")"))throw new Error("Expected `)`");return e}}()||function(){var e=t,n="",s=r();if("DOCUMENTREF"===s.type&&(o(),n+="DocumentRef-"+s.string+":",!i(":")))throw new Error("Expected `:` after `DocumentRef-...`");if("LICENSEREF"===(s=r()).type)return o(),{license:n+="LicenseRef-"+s.string};t=e}()||s()})),c=u();if(!c||n())throw new Error("Syntax error");return c}},function(e,t,n){var r=n(32);function o(e){try{return r(e),!0}catch(e){return!1}}var i=[["APGL","AGPL"],["Gpl","GPL"],["GLP","GPL"],["APL","Apache"],["ISD","ISC"],["GLP","GPL"],["IST","ISC"],["Claude","Clause"],[" or later","+"],[" International",""],["GNU","GPL"],["GUN","GPL"],["+",""],["GNU GPL","GPL"],["GNU/GPL","GPL"],["GNU GLP","GPL"],["GNU General Public License","GPL"],["Gnu public license","GPL"],["GNU Public License","GPL"],["GNU GENERAL PUBLIC LICENSE","GPL"],["MTI","MIT"],["Mozilla Public License","MPL"],["WTH","WTF"],["-License",""]],s=[function(e){return e.toUpperCase()},function(e){return e.trim()},function(e){return e.replace(/\./g,"")},function(e){return e.replace(/\s+/g,"")},function(e){return e.replace(/\s+/g,"-")},function(e){return e.replace("v","-")},function(e){return e.replace(/,?\s*(\d)/,"-$1")},function(e){return e.replace(/,?\s*(\d)/,"-$1.0")},function(e){return e.replace(/,?\s*(V\.|v\.|V|v|Version|version)\s*(\d)/,"-$2")},function(e){return e.replace(/,?\s*(V\.|v\.|V|v|Version|version)\s*(\d)/,"-$2.0")},function(e){return e[0].toUpperCase()+e.slice(1)},function(e){return e.replace("/","-")},function(e){return e.replace(/\s*V\s*(\d)/,"-$1").replace(/(\d)$/,"$1.0")},function(e){return-1!==e.indexOf("3.0")?e+"-or-later":e+"-only"},function(e){return e+"only"},function(e){return e.replace(/(\d)$/,"-$1.0")},function(e){return e.replace(/(-| )?(\d)$/,"-$2-Clause")},function(e){return e.replace(/(-| )clause(-| )(\d)/,"-$3-Clause")},function(e){return"CC-"+e},function(e){return"CC-"+e+"-4.0"},function(e){return e.replace("Attribution","BY").replace("NonCommercial","NC").replace("NoDerivatives","ND").replace(/ (\d)/,"-$1").replace(/ ?International/,"")},function(e){return"CC-"+e.replace("Attribution","BY").replace("NonCommercial","NC").replace("NoDerivatives","ND").replace(/ (\d)/,"-$1").replace(/ ?International/,"")+"-4.0"}],a=n(33).map(function(e){var t=/^(.*)-\d+\.\d+$/.exec(e);return t?[t[0],t[1]]:[e,null]}).reduce(function(e,t){var n=t[1];return e[n]=e[n]||[],e[n].push(t[0]),e},{}),u=Object.keys(a).map(function(e){return[e,a[e]]}).filter(function(e){return 1===e[1].length&&null!==e[0]&&"APL"!==e[0]}).map(function(e){return[e[0],e[1][0]]});a=void 0;var c=[["UNLI","Unlicense"],["WTF","WTFPL"],["2 CLAUSE","BSD-2-Clause"],["2-CLAUSE","BSD-2-Clause"],["3 CLAUSE","BSD-3-Clause"],["3-CLAUSE","BSD-3-Clause"],["AFFERO","AGPL-3.0-or-later"],["AGPL","AGPL-3.0-or-later"],["APACHE","Apache-2.0"],["ARTISTIC","Artistic-2.0"],["Affero","AGPL-3.0-or-later"],["BEER","Beerware"],["BOOST","BSL-1.0"],["BSD","BSD-2-Clause"],["CDDL","CDDL-1.1"],["ECLIPSE","EPL-1.0"],["FUCK","WTFPL"],["GNU","GPL-3.0-or-later"],["LGPL","LGPL-3.0-or-later"],["GPLV1","GPL-1.0-only"],["GPL-1","GPL-1.0-only"],["GPLV2","GPL-2.0-only"],["GPL-2","GPL-2.0-only"],["GPL","GPL-3.0-or-later"],["MIT +NO-FALSE-ATTRIBS","MITNFA"],["MIT","MIT"],["MPL","MPL-2.0"],["X11","X11"],["ZLIB","Zlib"]].concat(u),l=function(e){for(var t=0;t<s.length;t++){var n=s[t](e).trim();if(n!==e&&o(n))return n}return null},f=function(e){for(var t=e.toUpperCase(),n=0;n<c.length;n++){var r=c[n];if(t.indexOf(r[0])>-1)return r[1]}return null},p=function(e,t){for(var n=0;n<i.length;n++){var r=i[n],o=r[0];if(e.indexOf(o)>-1){var s=t(e.replace(o,r[1]));if(null!==s)return s}}return null};function h(e){return-1!==["GPL-1.0","LGPL-1.0","AGPL-1.0","GPL-2.0","LGPL-2.0","AGPL-2.0","LGPL-2.1"].indexOf(e)?e+"-only":-1!==["GPL-1.0+","GPL-2.0+","GPL-3.0+","LGPL-2.0+","LGPL-2.1+","LGPL-3.0+","AGPL-1.0+","AGPL-3.0+"].indexOf(e)?e.replace(/\+$/,"-or-later"):-1!==["GPL-3.0","LGPL-3.0","AGPL-3.0"].indexOf(e)?e+"-or-later":e}e.exports=function(e){if(!("string"==typeof e&&0!==e.trim().length))throw Error("Invalid argument. Expected non-empty string.");if(o(e=e.trim()))return h(e);var t=e.replace(/\+$/,"").trim();if(o(t))return h(t);var n=l(e);return null!==n?h(n):null!==(n=p(e,function(e){return o(e)?e:l(e)}))?h(n):null!==(n=f(e))?h(n):null!==(n=p(e,f))?h(n):null}},function(e,t,n){"use strict";var r=n(6),o=n(34),i=e.exports=n(123),s={"git+ssh":"sshurl","git+https":"https",ssh:"sshurl",git:"git"};var a={"git:":!0,"https:":!0,"git+https:":!0,"http:":!0,"git+http:":!0},u={};function c(e){var t=r.parse(e);return"gist:"===t.protocol&&t.host&&!t.path?t.protocol+"/"+t.host:e}function l(e){"string"!=typeof e&&(e=""+e);var t=e.match(/^([^@]+)@([^:/]+):[/]?((?:[^/]+[/])?[^/]+?)(?:[.]git)?(#.*)?$/);return t?{protocol:"git+ssh:",slashes:!0,auth:t[1],host:t[2],port:null,hostname:t[2],hash:t[4],search:null,query:null,pathname:"/"+t[3],path:"/"+t[3],href:"git+ssh://"+t[1]+"@"+t[2]+"/"+t[3]+(t[4]||"")}:r.parse(e)}e.exports.fromUrl=function(e,t){if("string"==typeof e){var n=e+JSON.stringify(t||{});return n in u||(u[n]=function(e,t){if(null==e||""===e)return;var n=c(function(e){return/^[^:@%/\s.-][^:@%/\s]*[/][^:@\s/%]+(?:#.*)?$/.test(e)}(e)?"github:"+e:e),r=l(n),u=n.match(new RegExp("^([^:]+):(?:(?:[^@:]+(?:[^@]+)?@)?([^/]*))[/](.+?)(?:[.]git)?($|#)")),f=Object.keys(o).map(function(e){try{var n=o[e],c=null;r.auth&&a[r.protocol]&&(c=decodeURIComponent(r.auth));var l=r.hash?decodeURIComponent(r.hash.substr(1)):null,f=null,p=null,h=null;if(u&&u[1]===e)f=u[2]&&decodeURIComponent(u[2]),p=decodeURIComponent(u[3]),h="shortcut";else{if(r.host&&r.host!==n.domain&&r.host.replace(/^www[.]/,"")!==n.domain)return;if(!n.protocols_re.test(r.protocol))return;if(!r.path)return;var d=n.pathmatch,g=r.path.match(d);if(!g)return;null!=g[1]&&(f=decodeURIComponent(g[1].replace(/^:/,""))),null!=g[2]&&(p=decodeURIComponent(g[2])),h=function(e){return":"===e.substr(-1)&&(e=e.slice(0,-1)),s[e]||e}(r.protocol)}return new i(e,f,c,p,l,h,t)}catch(e){if(!(e instanceof URIError))throw e}}).filter(function(e){return e});if(1!==f.length)return;return f[0]}(e,t)),u[n]}}},function(e,t,n){"use strict";var r=n(34),o=Object.assign||n(4)._extend,i=e.exports=function(e,t,n,o,i,s,a){var u=this;u.type=e,Object.keys(r[e]).forEach(function(t){u[t]=r[e][t]}),u.user=t,u.auth=n,u.project=o,u.committish=i,u.default=s,u.opts=a||{}};i.prototype={},i.prototype.hash=function(){return this.committish?"#"+this.committish:""},i.prototype._fill=function(e,t){if(e){var n=o({},t);n.path=n.path?n.path.replace(/^[/]+/g,""):"",t=o(o({},this.opts),t);var r=this;Object.keys(this).forEach(function(e){null!=r[e]&&null==n[e]&&(n[e]=r[e])});var i=n.auth,s=n.committish,a=n.fragment,u=n.path;Object.keys(n).forEach(function(e){n[e]=encodeURIComponent(n[e])}),n["auth@"]=i?i+"@":"",n["#fragment"]=a?"#"+this.hashformat(a):"",n.fragment=n.fragment?n.fragment:"",n["#path"]=u?"#"+this.hashformat(u):"",n["/path"]=n.path?"/"+n.path:"",t.noCommittish?(n["#committish"]="",n["/tree/committish"]="",n["/comittish"]="",n.comittish=""):(n["#committish"]=s?"#"+s:"",n["/tree/committish"]=n.committish?"/"+n.treepath+"/"+n.committish:"",n["/committish"]=n.committish?"/"+n.committish:"",n.committish=n.committish||"master");var c=e;return Object.keys(n).forEach(function(e){c=c.replace(new RegExp("[{]"+e+"[}]","g"),n[e])}),t.noGitPlus?c.replace(/^git[+]/,""):c}},i.prototype.ssh=function(e){return this._fill(this.sshtemplate,e)},i.prototype.sshurl=function(e){return this._fill(this.sshurltemplate,e)},i.prototype.browse=function(e,t,n){return"string"==typeof e?("string"!=typeof t&&(n=t,t=null),this._fill(this.browsefiletemplate,o({fragment:t,path:e},n))):this._fill(this.browsetemplate,e)},i.prototype.docs=function(e){return this._fill(this.docstemplate,e)},i.prototype.bugs=function(e){return this._fill(this.bugstemplate,e)},i.prototype.https=function(e){return this._fill(this.httpstemplate,e)},i.prototype.git=function(e){return this._fill(this.gittemplate,e)},i.prototype.shortcut=function(e){return this._fill(this.shortcuttemplate,e)},i.prototype.path=function(e){return this._fill(this.pathtemplate,e)},i.prototype.tarball=function(e){return this._fill(this.tarballtemplate,e)},i.prototype.file=function(e,t){return this._fill(this.filetemplate,o({path:e},t))},i.prototype.getDefaultRepresentation=function(){return this.default},i.prototype.toString=function(e){return(this[this.default]||this.sshurl).call(this,e)}},function(e,t,n){"use strict";var r=n(125);e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected a string");return-1!==r.indexOf(e)}},function(e,t,n){"use strict";var r=["freelist","sys"];e.exports=Object.keys(process.binding("natives")).filter(function(e){return!/^_|^internal|\//.test(e)&&-1===r.indexOf(e)}).sort()},function(e,t){e.exports=function(e){if(!e)return;if("ERROR: No README data found!"===e)return;e=e.trim().split("\n");for(var t=0;e[t]&&e[t].trim().match(/^(#|$)/);t++);for(var n=e.length,r=t+1;r<n&&e[r].trim();r++);return e.slice(t,r).join(" ").trim()}},function(e){e.exports={topLevel:{dependancies:"dependencies",dependecies:"dependencies",depdenencies:"dependencies",devEependencies:"devDependencies",depends:"dependencies","dev-dependencies":"devDependencies",devDependences:"devDependencies",devDepenencies:"devDependencies",devdependencies:"devDependencies",repostitory:"repository",repo:"repository",prefereGlobal:"preferGlobal",hompage:"homepage",hampage:"homepage",autohr:"author",autor:"author",contributers:"contributors",publicationConfig:"publishConfig",script:"scripts"},bugs:{web:"url",name:"url"},script:{server:"start",tests:"test"}}},function(e,t,n){var r=n(4),o=n(129);e.exports=function(){var e=Array.prototype.slice.call(arguments,0),t=e.shift();if("typo"==t)return function(e,t,n){n&&(e=n+"['"+e+"']",t=n+"['"+t+"']");return r.format(o.typo,e,t)}.apply(null,e);var n=o[t]?o[t]:t+": '%s'";return e.unshift(n),r.format.apply(null,e)}},function(e){e.exports={repositories:"'repositories' (plural) Not supported. Please pick one as the 'repository' field",missingRepository:"No repository field.",brokenGitUrl:"Probably broken git url: %s",nonObjectScripts:"scripts must be an object",nonStringScript:"script values must be string commands",nonArrayFiles:"Invalid 'files' member",invalidFilename:"Invalid filename in 'files' list: %s",nonArrayBundleDependencies:"Invalid 'bundleDependencies' list. Must be array of package names",nonStringBundleDependency:"Invalid bundleDependencies member: %s",nonDependencyBundleDependency:"Non-dependency in bundleDependencies: %s",nonObjectDependencies:"%s field must be an object",nonStringDependency:"Invalid dependency: %s %s",deprecatedArrayDependencies:"specifying %s as array is deprecated",deprecatedModules:"modules field is deprecated",nonArrayKeywords:"keywords should be an array of strings",nonStringKeyword:"keywords should be an array of strings",conflictingName:"%s is also the name of a node core module.",nonStringDescription:"'description' field should be a string",missingDescription:"No description",missingReadme:"No README data",missingLicense:"No license field.",nonEmailUrlBugsString:"Bug string field must be url, email, or {email,url}",nonUrlBugsUrlField:"bugs.url field must be a string url. Deleted.",nonEmailBugsEmailField:"bugs.email field must be a string email. Deleted.",emptyNormalizedBugs:"Normalized value of bugs field is an empty object. Deleted.",nonUrlHomepage:"homepage field must be a string url. Deleted.",invalidLicense:"license should be a valid SPDX license expression",typo:"%s should probably be %s."}},function(e,t,n){var r=n(131);e.exports=Number.isInteger||function(e){return"number"==typeof e&&r(e)&&Math.floor(e)===e}},function(e,t,n){"use strict";var r=n(132);e.exports=Number.isFinite||function(e){return!("number"!=typeof e||r(e)||e===1/0||e===-1/0)}},function(e,t,n){"use strict";e.exports=Number.isNaN||function(e){return e!=e}},function(e,t,n){"use strict";function r(e,t){var n,r=e.charCodeAt(t);return r>=55296&&r<=56319&&e.length>t+1&&(n=e.charCodeAt(t+1))>=56320&&n<=57343?e.substring(t,t+2):e[t]}function o(e,t,n){for(var o,i="",s=0,a=0,u=e.length;s<u;)o=r(e,s),a>=t&&a<n&&(i+=o),s+=o.length,a+=1;return i}function i(e,t){return void 0===e?t:Number(e)}e.exports=function(e,t,n){var r=i(t,0),s=i(n,e.length);return s==r?"":s>r?o(e,r,s):o(e,s,r)}},function(e,t,n){"use strict";e.exports=function(){var e=this;return function(t,n,r,o){e.captureError(t,{request:n},function(){o(t)})}}},function(e,t,n){"use strict";var r=n(136),o=n(137)("[REDACTED]"),i=n(140),s="[REDACTED]";function a(){if(!(this instanceof a))return new a;this._filters=[]}function u(e){var t=e.transactions||e.errors;return t&&t.forEach?(t.forEach(function(e){var t=e.context&&e.context.request&&e.context.request.headers;if(t){if(t.authorization&&(t.authorization=s),"string"==typeof t.cookie){var n=r.parse(t.cookie);o.forEach(n),t.cookie=Object.keys(n).map(function(e){return e+"="+n[e]}).join("; ")}if(void 0!==t["set-cookie"])try{var a=new i(t["set-cookie"]);o.forEach(a),t["set-cookie"]=function(e){return Array.isArray(e)?e.map(e=>e.toString()):e.toString()}(a)}catch(e){t["set-cookie"]="[malformed set-cookie header]"}}}),e):e}e.exports=a,a.prototype.config=function(e){e.filterHttpHeaders&&this.add(u)},a.prototype.add=function(e){this._filters.push(e)},a.prototype.process=function(e){var t=e;return this._filters.some(function(e){return!(t=e(t))}),t}},function(e,t,n){"use strict";
/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */t.parse=function(e,t){if("string"!=typeof e)throw new TypeError("argument str must be a string");for(var n={},o=t||{},s=e.split(i),u=o.decode||r,c=0;c<s.length;c++){var l=s[c],f=l.indexOf("=");if(!(f<0)){var p=l.substr(0,f).trim(),h=l.substr(++f,l.length).trim();'"'==h[0]&&(h=h.slice(1,-1)),void 0==n[p]&&(n[p]=a(h,u))}}return n},t.serialize=function(e,t,n){var r=n||{},i=r.encode||o;if("function"!=typeof i)throw new TypeError("option encode is invalid");if(!s.test(e))throw new TypeError("argument name is invalid");var a=i(t);if(a&&!s.test(a))throw new TypeError("argument val is invalid");var u=e+"="+a;if(null!=r.maxAge){var c=r.maxAge-0;if(isNaN(c))throw new Error("maxAge should be a Number");u+="; Max-Age="+Math.floor(c)}if(r.domain){if(!s.test(r.domain))throw new TypeError("option domain is invalid");u+="; Domain="+r.domain}if(r.path){if(!s.test(r.path))throw new TypeError("option path is invalid");u+="; Path="+r.path}if(r.expires){if("function"!=typeof r.expires.toUTCString)throw new TypeError("option expires is invalid");u+="; Expires="+r.expires.toUTCString()}r.httpOnly&&(u+="; HttpOnly");r.secure&&(u+="; Secure");if(r.sameSite){var l="string"==typeof r.sameSite?r.sameSite.toLowerCase():r.sameSite;switch(l){case!0:u+="; SameSite=Strict";break;case"lax":u+="; SameSite=Lax";break;case"strict":u+="; SameSite=Strict";break;default:throw new TypeError("option sameSite is invalid")}}return u};var r=decodeURIComponent,o=encodeURIComponent,i=/; */,s=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function a(e,t){try{return t(e)}catch(t){return e}}},function(e,t,n){"use strict";var r=n(138),o=n(139);e.exports=function(e){return{map:function(t){return r(t).map(function(t){(o.key(this.key)||o.value(t))&&this.update(e)})},forEach:function(t){r(t).forEach(function(t){(o.key(this.key)||o.value(t))&&this.update(e)})}}}},function(e,t){var n=e.exports=function(e){return new r(e)};function r(e){this.value=e}function o(e,t,n){var r=[],o=[],a=!0;return function e(f){var p={},h=!0,d={node:n?i(f):f,node_:f,path:[].concat(r),parent:o[o.length-1],parents:o,key:r.slice(-1)[0],isRoot:0===r.length,level:r.length,circular:null,update:function(e,t){d.isRoot||(d.parent.node[d.key]=e),d.node=e,t&&(h=!1)},delete:function(e){delete d.parent.node[d.key],e&&(h=!1)},remove:function(e){u(d.parent.node)?d.parent.node.splice(d.key,1):delete d.parent.node[d.key],e&&(h=!1)},keys:null,before:function(e){p.before=e},after:function(e){p.after=e},pre:function(e){p.pre=e},post:function(e){p.post=e},stop:function(){a=!1},block:function(){h=!1}};if(!a)return d;function g(){if("object"==typeof d.node&&null!==d.node){d.keys&&d.node_===d.node||(d.keys=s(d.node)),d.isLeaf=0==d.keys.length;for(var e=0;e<o.length;e++)if(o[e].node_===f){d.circular=o[e];break}}else d.isLeaf=!0,d.keys=null;d.notLeaf=!d.isLeaf,d.notRoot=!d.isRoot}g();var m=t.call(d,d.node);return void 0!==m&&d.update&&d.update(m),p.before&&p.before.call(d,d.node),h?("object"!=typeof d.node||null===d.node||d.circular||(o.push(d),g(),c(d.keys,function(t,o){r.push(t),p.pre&&p.pre.call(d,d.node[t],t);var i=e(d.node[t]);n&&l.call(d.node,t)&&(d.node[t]=i.node),i.isLast=o==d.keys.length-1,i.isFirst=0==o,p.post&&p.post.call(d,i),r.pop()}),o.pop()),p.after&&p.after.call(d,d.node),d):d}(e).node}function i(e){if("object"==typeof e&&null!==e){var t;if(u(e))t=[];else if(function(e){return"[object Date]"===a(e)}(e))t=new Date(e.getTime?e.getTime():e);else if(function(e){return"[object RegExp]"===a(e)}(e))t=new RegExp(e);else if(function(e){return"[object Error]"===a(e)}(e))t={message:e.message};else if(function(e){return"[object Boolean]"===a(e)}(e))t=new Boolean(e);else if(function(e){return"[object Number]"===a(e)}(e))t=new Number(e);else if(function(e){return"[object String]"===a(e)}(e))t=new String(e);else if(Object.create&&Object.getPrototypeOf)t=Object.create(Object.getPrototypeOf(e));else if(e.constructor===Object)t={};else{var n=e.constructor&&e.constructor.prototype||e.__proto__||{},r=function(){};r.prototype=n,t=new r}return c(s(e),function(n){t[n]=e[n]}),t}return e}r.prototype.get=function(e){for(var t=this.value,n=0;n<e.length;n++){var r=e[n];if(!t||!l.call(t,r)){t=void 0;break}t=t[r]}return t},r.prototype.has=function(e){for(var t=this.value,n=0;n<e.length;n++){var r=e[n];if(!t||!l.call(t,r))return!1;t=t[r]}return!0},r.prototype.set=function(e,t){for(var n=this.value,r=0;r<e.length-1;r++){var o=e[r];l.call(n,o)||(n[o]={}),n=n[o]}return n[e[r]]=t,t},r.prototype.map=function(e){return o(this.value,e,!0)},r.prototype.forEach=function(e){return this.value=o(this.value,e,!1),this.value},r.prototype.reduce=function(e,t){var n=1===arguments.length,r=n?this.value:t;return this.forEach(function(t){this.isRoot&&n||(r=e.call(this,r,t))}),r},r.prototype.paths=function(){var e=[];return this.forEach(function(t){e.push(this.path)}),e},r.prototype.nodes=function(){var e=[];return this.forEach(function(t){e.push(this.node)}),e},r.prototype.clone=function(){var e=[],t=[];return function n(r){for(var o=0;o<e.length;o++)if(e[o]===r)return t[o];if("object"==typeof r&&null!==r){var a=i(r);return e.push(r),t.push(a),c(s(r),function(e){a[e]=n(r[e])}),e.pop(),t.pop(),a}return r}(this.value)};var s=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};function a(e){return Object.prototype.toString.call(e)}var u=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},c=function(e,t){if(e.forEach)return e.forEach(t);for(var n=0;n<e.length;n++)t(e[n],n,e)};c(s(r.prototype),function(e){n[e]=function(t){var n=[].slice.call(arguments,1),o=new r(t);return o[e].apply(o,n)}});var l=Object.hasOwnProperty||function(e,t){return t in e}},function(e,t,n){"use strict";var r=[/passw(or)?d/i,/^pw$/,/^pass$/i,/secret/i,/token/i,/api[-._]?key/i,/session[-._]?id/i,/^connect\.sid$/],o=[/^\d{4}[- ]?\d{4}[- ]?\d{4}[- ]?\d{4}$/];t.key=function(e){return r.some(function(t){return t.test(e)})},t.value=function(e){return o.some(function(t){return t.test(e)})}},function(e,t,n){"use strict";const r=Symbol("decode"),o=Symbol("encode");function i(e){return e.trim().split("=")}class s{constructor(e,t){if(Array.isArray(e))return e.map(e=>new s(e,t));if(this.data={},this.meta={expires:void 0,maxAge:void 0,domain:void 0,path:void 0,secure:void 0,httpOnly:void 0,sameSite:void 0},t=t||{},this[r]=t.decode||decodeURIComponent,this[o]=t.encode||encodeURIComponent,"string"==typeof e){const t=e.split(";"),n=t.shift(),o=n.indexOf("="),s=o>=0?n.slice(0,o):"",a=n.slice(o+1);if(!a)throw new Error("Invalid value");this.data={},this.data[this[r](s)]=this[r](a);for(let e of t.map(i))switch(e[0].toLowerCase()){case"expires":const t=new Date(e[1]);if(isNaN(t.getTime()))throw new Error("Invalid Expires field");this.meta.expires=t;break;case"max-age":const n=parseInt(e[1],10);if(isNaN(n))throw new Error("Invalid Max-Age field");this.meta.maxAge=n;break;case"domain":if(!e[1])throw new Error("Invalid Domain field");this.meta.domain=e[1];break;case"path":if(!e[1])throw new Error("Invalid Path field");this.meta.path=e[1];break;case"secure":if(e[1])throw new Error("Invalid Secure field");this.meta.secure=!0;break;case"httponly":if(e[1])throw new Error("Invalid HttpOnly field");this.meta.httpOnly=!0;break;case"samesite":if(!e[1])throw new Error("Invalid SameSite field");this.meta.sameSite=e[1]}}else{if("object"!=typeof e)throw new Error("Invalid input type");{const t=e.data,n=e.meta;if(!t||!Object.keys(t).length)throw new Error("Missing data");Object.assign(this.data,t),Object.assign(this.meta,n)}}}toString(){const e=[];for(let t of Object.keys(this.data)){const n=[this[o](this.data[t])];t&&(n.unshift("="),n.unshift(this[o](t))),e.push(n.join(""))}return void 0!==this.meta.expires&&e.push(`Expires=${this.meta.expires.toUTCString()}`),void 0!==this.meta.maxAge&&e.push(`Max-Age=${this.meta.maxAge}`),void 0!==this.meta.domain&&e.push(`Domain=${this.meta.domain}`),void 0!==this.meta.path&&e.push(`Path=${this.meta.path}`),void 0!==this.meta.secure&&e.push("Secure"),void 0!==this.meta.httpOnly&&e.push("HttpOnly"),void 0!==this.meta.sameSite&&e.push(`SameSite=${this.meta.sameSite}`),e.join("; ")}}e.exports=s},function(e,t,n){"use strict";var r=n(3),o=n(2),i=n(36),s=n(143),a=n(1),u=n(152),c=n(39),l=n(153),f=n(0),p=["apollo-server-core","bluebird","cassandra-driver","elasticsearch","express","express-graphql","express-queue","finalhandler","generic-pool","graphql","handlebars","hapi","http","https","http2","ioredis","knex","koa-router","mimic-response","mongodb-core","mysql","mysql2","pg","redis","restify","tedious","ws"];function h(e){this._agent=e,this._queue=null,this._hook=null,this._started=!1,this.currentTransaction=null}e.exports=h,h.modules=Object.freeze(p),h.prototype.start=function(){if(this._agent._conf.instrument){var e=this;this._started=!0;var t={flushInterval:this._agent._conf.flushInterval,maxQueueSize:this._agent._conf.maxQueueSize,logger:this._agent.logger};this._queue=new u(t,function(t,n){i.all(t).then(function(t){e._agent._conf.active&&t.length>0?c.transactions(e._agent,t,n):n()},n)}),this._agent._conf.asyncHooks&&a.gte(process.version,"8.2.0")?n(186)(this):n(188)(this);var l=new Set(this._agent._conf.disableInstrumentations);this._agent.logger.debug("adding hook to Node.js module loader"),this._hook=s(p,function(t,n,i){var s,a,u=!l.has(n);if(i){s=o.join(i,"package.json");try{a=JSON.parse(r.readFileSync(s)).version}catch(r){return e._agent.logger.debug("could not shim %s module: %s",n,r.message),t}}else a=process.versions.node;return e._patchModule(t,n,a,u)})}},h.prototype._patchModule=function(e,t,r,o){return this._agent.logger.debug("shimming %s@%s module",t,r),n(194)("./"+t)(e,this._agent,r,o)},h.prototype.addEndedTransaction=function(e){if(this._started){var t=this._queue;this._agent.logger.debug("adding transaction to queue %o",{id:e.id});var n=new i;n.catch(function(t){this._agent.logger.error("error encoding transaction %s: %s",e.id,t.message)}),e._encode(function(e,t){e?n.reject(e):n.resolve(t)}),t.add(n)}else this._agent.logger.debug("ignoring transaction %o",{id:e.id})},h.prototype.startTransaction=function(e,t){return new l(this._agent,e,t)},h.prototype.endTransaction=function(e){this.currentTransaction?this.currentTransaction.end(e):this._agent.logger.debug("cannot end transaction - no active transaction found")},h.prototype.setDefaultTransactionName=function(e){var t=this.currentTransaction;t?t.setDefaultName(e):this._agent.logger.debug("no active transaction found - cannot set default transaction name")},h.prototype.setTransactionName=function(e){var t=this.currentTransaction;t?t.name=e:this._agent.logger.debug("no active transaction found - cannot set transaction name")},h.prototype.buildSpan=function(){return this.currentTransaction?this.currentTransaction.buildSpan():(this._agent.logger.debug("no active transaction found - cannot build new span"),null)},h.prototype.bindFunction=function(e){if("function"!=typeof e||"elasticAPMCallbackWrapper"===e.name)return e;var t=this,n=this.currentTransaction;return n&&!n.sampled?e:function(){var r=t.currentTransaction;t.currentTransaction=n;var o=e.apply(this,arguments);return t.currentTransaction=r,o}},h.prototype.bindEmitter=function(e){var t=this,n=["on","addListener"];a.satisfies(process.versions.node,">=6")&&n.push("prependListener"),f.massWrap(e,n,e=>(function(n,r){return e.call(this,n,t.bindFunction(r))}))},h.prototype._recoverTransaction=function(e){this.currentTransaction!==e&&(this._agent.logger.debug("recovering from wrong currentTransaction %o",{wrong:this.currentTransaction?this.currentTransaction.id:void 0,correct:e.id}),this.currentTransaction=e)},h.prototype.flush=function(e){this._queue?this._queue.flush(e):process.nextTick(e)}},function(e,t,n){"use strict";const r=n(15);e.exports=class e{constructor(e){this.value=null,this.callbacks=[],null!==e&&void 0!==e&&this.set(e)}get(e){r("function"==typeof e,"callback must be a function"),null!==this.value?e(this.value):this.callbacks.push(e)}set(t){if(r(null===this.value,"value can only be set once"),t instanceof e)t.send(this);else{for(let e of this.callbacks)e(t);this.callbacks=null,this.value=t}}send(t){r(t instanceof e,"send target must be an async value"),this.get(t.set.bind(t))}}},function(e,t,n){"use strict";var r=n(2),o=n(144),i=n(145),s=n(150);function a(e,t,u){if(!(this instanceof a))return new a(e,t,u);if("function"==typeof e?(u=e,e=null,t={}):"function"==typeof t&&(u=t,t={}),"function"!=typeof o._resolveFilename)return console.error("Error: Expected Module._resolveFilename to be a function (was: %s) - aborting!",typeof o._resolveFilename),void console.error("Please report this error as an issue related to Node.js %s at %s",process.version,n(151).bugs.url);t=t||{},this.cache={},this._unhooked=!1,this._origRequire=o.prototype.require;var c=this,l={};this._require=o.prototype.require=function(n){if(c._unhooked)return c._origRequire.apply(this,arguments);var a,f,p=o._resolveFilename(n,this),h=-1===p.indexOf(r.sep);if(c.cache.hasOwnProperty(p))return c.cache[p];var d=l[p];d||(l[p]=!0);var g=c._origRequire.apply(this,arguments);if(d)return g;if(delete l[p],h){if(e&&-1===e.indexOf(p))return g;a=p}else{var m=s(p);if(!m)return g;if(a=m.name,f=m.basedir,e&&-1===e.indexOf(a))return g;try{var v=i.sync(a,{basedir:f})}catch(e){return g}if(v!==p){if(!t.internals)return g;a=a+r.sep+r.relative(f,p)}}return c.cache.hasOwnProperty(p)||(c.cache[p]=g,c.cache[p]=u(g,a,f)),c.cache[p]}}e.exports=a,a.prototype.unhook=function(){this._unhooked=!0,this._require===o.prototype.require&&(o.prototype.require=this._origRequire)}},function(e,t){e.exports=require("module")},function(e,t,n){var r=n(16),o=n(147);o.core=r,o.isCore=function(e){return r[e]},o.sync=n(149),e.exports=o},function(e){e.exports={assert:!0,async_hooks:">= 8",buffer_ieee754:"< 0.9.7",buffer:!0,child_process:!0,cluster:!0,console:!0,constants:!0,crypto:!0,_debugger:"< 8",dgram:!0,dns:!0,domain:!0,events:!0,freelist:"< 6",fs:!0,"fs/promises":">= 10 && < 10.1",_http_agent:">= 0.11.1",_http_client:">= 0.11.1",_http_common:">= 0.11.1",_http_incoming:">= 0.11.1",_http_outgoing:">= 0.11.1",_http_server:">= 0.11.1",http:!0,http2:">= 8.8",https:!0,inspector:">= 8.0.0",_linklist:"< 8",module:!0,net:!0,"node-inspect/lib/_inspect":">= 7.6.0","node-inspect/lib/internal/inspect_client":">= 7.6.0","node-inspect/lib/internal/inspect_repl":">= 7.6.0",os:!0,path:!0,perf_hooks:">= 8.5",process:">= 1",punycode:!0,querystring:!0,readline:!0,repl:!0,smalloc:">= 0.11.5 && < 3",_stream_duplex:">= 0.9.4",_stream_transform:">= 0.9.4",_stream_wrap:">= 1.4.1",_stream_passthrough:">= 0.9.4",_stream_readable:">= 0.9.4",_stream_writable:">= 0.9.4",stream:!0,string_decoder:!0,sys:!0,timers:!0,_tls_common:">= 0.11.13",_tls_legacy:">= 0.11.3 && < 10",_tls_wrap:">= 0.11.3",tls:!0,trace_events:">= 10",tty:!0,url:!0,util:!0,"v8/tools/arguments":">= 10","v8/tools/codemap":[">= 4.4.0 && < 5",">= 5.2.0"],"v8/tools/consarray":[">= 4.4.0 && < 5",">= 5.2.0"],"v8/tools/csvparser":[">= 4.4.0 && < 5",">= 5.2.0"],"v8/tools/logreader":[">= 4.4.0 && < 5",">= 5.2.0"],"v8/tools/profile_view":[">= 4.4.0 && < 5",">= 5.2.0"],"v8/tools/splaytree":[">= 4.4.0 && < 5",">= 5.2.0"],v8:">= 1",vm:!0,zlib:!0}},function(e,t,n){var r=n(16),o=n(3),i=n(2),s=n(37),a=n(38),u=function(e,t){o.stat(e,function(e,n){return e?"ENOENT"===e.code||"ENOTDIR"===e.code?t(null,!1):t(e):t(null,n.isFile()||n.isFIFO())})};e.exports=function(e,t,n){var c=n,l=t||{};if("function"==typeof l&&(c=l,l={}),"string"!=typeof e){var f=new TypeError("Path must be a string.");return process.nextTick(function(){c(f)})}var p=l.isFile||u,h=l.readFile||o.readFile,d=l.extensions||[".js"],g=l.basedir||i.dirname(s()),m=l.filename||g;if(l.paths=l.paths||[],/^(?:\.\.?(?:\/|$)|\/|([A-Za-z]:)?[/\\])/.test(e)){var v=i.resolve(g,e);".."!==e&&"/"!==e.slice(-1)||(v+="/"),/\/$/.test(e)&&v===g?b(v,l.package,y):_(v,l.package,y)}else!function(e,t,n){w(n,a(t,l))}(0,g,function(t,n,o){if(t)c(t);else if(n)c(null,n,o);else{if(r[e])return c(null,e);var i=new Error("Cannot find module '"+e+"' from '"+m+"'");i.code="MODULE_NOT_FOUND",c(i)}});function y(t,n,r){t?c(t):n?c(null,n,r):b(v,function(t,n,r){if(t)c(t);else if(n)c(null,n,r);else{var o=new Error("Cannot find module '"+e+"' from '"+m+"'");o.code="MODULE_NOT_FOUND",c(o)}})}function _(e,t,n){var r=t,o=n;"function"==typeof r&&(o=r,r=void 0),function e(t,n,r){if(0===t.length)return o(null,void 0,r);var s=n+t[0];var a=r;a?u(null,a):function e(t,n){if(""===t||"/"===t)return n(null);if("win32"===process.platform&&/^\w:[/\\]*$/.test(t))return n(null);if(/[/\\]node_modules[/\\]*$/.test(t))return n(null);var r=i.join(t,"package.json");p(r,function(o,s){if(!s)return e(i.dirname(t),n);h(r,function(e,o){e&&n(e);try{var i=JSON.parse(o)}catch(e){}i&&l.packageFilter&&(i=l.packageFilter(i,r)),n(null,i,t)})})}(i.dirname(s),u);function u(r,u,f){if(a=u,r)return o(r);if(f&&a&&l.pathFilter){var h=i.relative(f,s),g=h.slice(0,h.length-t[0].length),m=l.pathFilter(a,n,g);if(m)return e([""].concat(d.slice()),i.resolve(f,m),a)}p(s,c)}function c(r,i){return r?o(r):i?o(null,s,a):void e(t.slice(1),n,a)}}([""].concat(d),e,r)}function b(e,t,n){var r=n,o=t;"function"==typeof o&&(r=o,o=l.package);var s=i.join(e,"package.json");p(s,function(t,n){return t?r(t):n?void h(s,function(t,n){if(t)return r(t);try{var o=JSON.parse(n)}catch(e){}if(l.packageFilter&&(o=l.packageFilter(o,s)),o.main)return"."!==o.main&&"./"!==o.main||(o.main="index"),void _(i.resolve(e,o.main),o,function(t,n,o){return t?r(t):n?r(null,n,o):o?void b(i.resolve(e,o.main),o,function(t,n,o){return t?r(t):n?r(null,n,o):void _(i.join(e,"index"),o,r)}):_(i.join(e,"index"),o,r)});_(i.join(e,"/index"),o,r)}):_(i.join(e,"index"),o,r)})}function w(t,n){if(0===n.length)return t(null,void 0);var r=n[0];function o(e,r,o){return e?t(e):r?t(null,r,o):void w(t,n.slice(1))}_(i.join(r,e),l.package,function(n,s,a){if(n)return t(n);if(s)return t(null,s,a);b(i.join(r,e),l.package,o)})}}},function(e,t,n){"use strict";var r="win32"===process.platform,o=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,i=/^([\s\S]*?)((?:\.{1,2}|[^\\\/]+?|)(\.[^.\/\\]*|))(?:[\\\/]*)$/,s={};s.parse=function(e){if("string"!=typeof e)throw new TypeError("Parameter 'pathString' must be a string, not "+typeof e);var t=function(e){var t=o.exec(e),n=(t[1]||"")+(t[2]||""),r=t[3]||"",s=i.exec(r);return[n,s[1],s[2],s[3]]}(e);if(!t||4!==t.length)throw new TypeError("Invalid path '"+e+"'");return{root:t[0],dir:t[0]+t[1].slice(0,-1),base:t[2],ext:t[3],name:t[2].slice(0,t[2].length-t[3].length)}};var a=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,u={};u.parse=function(e){if("string"!=typeof e)throw new TypeError("Parameter 'pathString' must be a string, not "+typeof e);var t=function(e){return a.exec(e).slice(1)}(e);if(!t||4!==t.length)throw new TypeError("Invalid path '"+e+"'");return t[1]=t[1]||"",t[2]=t[2]||"",t[3]=t[3]||"",{root:t[0],dir:t[0]+t[1].slice(0,-1),base:t[2],ext:t[3],name:t[2].slice(0,t[2].length-t[3].length)}},e.exports=r?s.parse:u.parse,e.exports.posix=u.parse,e.exports.win32=s.parse},function(e,t,n){var r=n(16),o=n(3),i=n(2),s=n(37),a=n(38),u=function(e){try{var t=o.statSync(e)}catch(e){if(e&&("ENOENT"===e.code||"ENOTDIR"===e.code))return!1;throw e}return t.isFile()||t.isFIFO()};e.exports=function(e,t){if("string"!=typeof e)throw new TypeError("Path must be a string.");var n=t||{},c=n.isFile||u,l=n.readFileSync||o.readFileSync,f=n.extensions||[".js"],p=n.basedir||i.dirname(s()),h=n.filename||p;if(n.paths=n.paths||[],/^(?:\.\.?(?:\/|$)|\/|([A-Za-z]:)?[/\\])/.test(e)){var d=i.resolve(p,e);".."!==e&&"/"!==e.slice(-1)||(d+="/");var g=y(d)||_(d);if(g)return g}else{var m=function(e,t){for(var r=a(t,n),o=0;o<r.length;o++){var s=r[o],u=y(i.join(s,"/",e));if(u)return u;var c=_(i.join(s,"/",e));if(c)return c}}(e,p);if(m)return m}if(r[e])return e;var v=new Error("Cannot find module '"+e+"' from '"+h+"'");throw v.code="MODULE_NOT_FOUND",v;function y(e){var t=function e(t){if(""===t||"/"===t)return;if("win32"===process.platform&&/^\w:[/\\]*$/.test(t))return;if(/[/\\]node_modules[/\\]*$/.test(t))return;var r=i.join(t,"package.json");if(!c(r))return e(i.dirname(t));var o=l(r);try{var s=JSON.parse(o)}catch(e){}s&&n.packageFilter&&(s=n.packageFilter(s,t));return{pkg:s,dir:t}}(i.dirname(e));if(t&&t.dir&&t.pkg&&n.pathFilter){var r=i.relative(t.dir,e),o=n.pathFilter(t.pkg,e,r);o&&(e=i.resolve(t.dir,o))}if(c(e))return e;for(var s=0;s<f.length;s++){var a=e+f[s];if(c(a))return a}}function _(e){var t=i.join(e,"/package.json");if(c(t))try{var r=l(t,"UTF8"),o=JSON.parse(r);if(n.packageFilter&&(o=n.packageFilter(o,e)),o.main){"."!==o.main&&"./"!==o.main||(o.main="index");var s=y(i.resolve(e,o.main));if(s)return s;var a=_(i.resolve(e,o.main));if(a)return a}}catch(e){}return y(i.join(e,"/index"))}}},function(e,t,n){"use strict";var r=n(2);e.exports=function(e){var t=e.split(r.sep),n=t.lastIndexOf("node_modules");if(-1!==n&&t[n+1]){var o="@"===t[n+1][0],i=o?t[n+1]+"/"+t[n+2]:t[n+1],s=o?3:2;return{name:i,basedir:t.slice(0,n+s).join(r.sep),path:t.slice(n+s).join(r.sep)}}}},function(e){e.exports={_from:"require-in-the-middle@^3.1.0",_id:"require-in-the-middle@3.1.0",_inBundle:!1,_integrity:"sha512-90uK2zPUGdXZSz8eI5pHHvTl3qZRZ5FHxSOnjIYIwczRcP+fjokavi//UeN9i3i2O7UWCZHTgZtrrudpusSo1g==",_location:"/require-in-the-middle",_phantomChildren:{},_requested:{type:"range",registry:!0,raw:"require-in-the-middle@^3.1.0",name:"require-in-the-middle",escapedName:"require-in-the-middle",rawSpec:"^3.1.0",saveSpec:null,fetchSpec:"^3.1.0"},_requiredBy:["/elastic-apm-node"],_resolved:"https://registry.npmjs.org/require-in-the-middle/-/require-in-the-middle-3.1.0.tgz",_shasum:"faf4b947c8d8d2588ae4f246487e2d7262add1a4",_spec:"require-in-the-middle@^3.1.0",_where:"/Users/austen/Personal/Serverless/code/platform-plugin/src/handler/assets/node_modules/elastic-apm-node",author:{name:"Thomas Watson Steen",email:"w@tson.dk",url:"https://twitter.com/wa7son"},bugs:{url:"https://github.com/elastic/require-in-the-middle/issues"},bundleDependencies:!1,coordinates:[55.777202,12.592041],dependencies:{"module-details-from-path":"^1.0.3",resolve:"^1.5.0"},deprecated:!1,description:"Module to hook into the Node.js require function",devDependencies:{"ipp-printer":"^1.0.0",patterns:"^1.0.3",roundround:"^0.2.0",standard:"^11.0.0",tape:"^4.9.0"},homepage:"https://github.com/elastic/require-in-the-middle#readme",keywords:["require","hook","shim","shimmer","shimming","patch","monkey","monkeypatch","module","load"],license:"MIT",main:"index.js",name:"require-in-the-middle",repository:{type:"git",url:"git+https://github.com/elastic/require-in-the-middle.git"},scripts:{test:"standard && tape test/test.js"},version:"3.1.0"}},function(e,t,n){"use strict";var r=5e3,o=!0;function i(){}function s(e,t){if("function"==typeof e)return new s(null,e);e||(e={}),this._onFlush=t,this._items=[],this._timeout=null,this._flushInterval=1e3*e.flushInterval,this._maxQueueSize=e.maxQueueSize,this.logger=e.logger,this._flushInterval<r&&(o=!1)}e.exports=s,s.prototype.add=function(e){this._items.push(e),this._items.length>=this._maxQueueSize?this.flush():this._timeout||this._queueFlush()},s.prototype.flush=function(e){this.logger.debug("flushing queue"),this._onFlush(this._items,e||i),this._clear()},s.prototype._queueFlush=function(){var e=this,t=o?r:this._flushInterval;t=function(e,t){var n=e*t*2;return Math.floor(e+(Math.random()*n-n/2))}(t,.05),this.logger.debug("setting timer to flush queue: %dms",t),this._timeout=setTimeout(function(){e.flush()},t),this._timeout.unref(),o=!1},s.prototype._clear=function(){clearTimeout(this._timeout),this._items=[],this._timeout=null}},function(e,t,n){"use strict";var r=n(7),o=n(11),i=n(29),s=n(14),a=n(41).getPathFromRequest,u=n(17),c=n(185),l=n(5),f=n(46);function p(e,t,n){Object.defineProperty(this,"name",{configurable:!0,enumerable:!0,get(){return this._customName||this._defaultName||(this.req?this.req.method+" unknown route (unnamed)":"unnamed")},set(t){this.ended?e.logger.debug("tried to set transaction.name on already ended transaction %o",{id:this.id}):(e.logger.debug("setting transaction name %o",{id:this.id,name:t}),this._customName=t)}}),Object.defineProperty(this,"result",{configurable:!0,enumerable:!0,get(){return this._result},set(t){this.ended?e.logger.debug("tried to set transaction.result on already ended transaction %o",{id:this.id}):(e.logger.debug("setting transaction result %o",{id:this.id,result:t}),this._result=t)}}),this.id=i.v4(),this._defaultName=t||"",this._customName="",this._user=null,this._custom=null,this._tags=null,this.type=n||"custom",this.result="success",this.spans=[],this._builtSpans=[],this._droppedSpans=0,this.ended=!1,this._abortTime=0,this._agent=e,this._agent._instrumentation.currentTransaction=this,this.sampled=Math.random()<=this._agent._conf.transactionSampleRate,e.logger.debug("start transaction %o",{id:this.id,name:t,type:n}),this._timer=new f}e.exports=p,p.prototype.setUserContext=function(e){e&&(this._user=Object.assign(this._user||{},e))},p.prototype.setCustomContext=function(e){e&&(this._custom=Object.assign(this._custom||{},e))},p.prototype.setTag=function(e,t){if(!e)return!1;this._tags||(this._tags={});var n=e.replace(/[.*]/g,"_");return e!==n&&this._agent.logger.warn("Illegal characters used in tag key: %s",e),this._tags[n]=o(String(t),s.INTAKE_STRING_MAX_SIZE),!0},p.prototype.addTags=function(e){if(!e)return!1;var t=Object.keys(e);for(let n of t)if(!this.setTag(n,e[n]))return!1;return!0},p.prototype.buildSpan=function(){if(!this.sampled)return null;if(this.ended)return this._agent.logger.debug("transaction already ended - cannot build new span %o",{id:this.id}),null;if(this._builtSpans.length>=this._agent._conf.transactionMaxSpans)return this._droppedSpans++,null;var e=new c(this);return this._builtSpans.push(e),e},p.prototype.toJSON=function(){var e={id:this.id,name:this.name,type:this.type,duration:this.duration(),timestamp:new Date(this._timer.start).toISOString(),result:String(this.result),sampled:this.sampled,context:null,spans:null};if(this.sampled){if(e.context={user:Object.assign({},this.req&&u.getUserContextFromRequest(this.req),this._user),tags:this._tags||{},custom:this._custom||{}},this._droppedSpans>0&&(e.span_count={dropped:{total:this._droppedSpans}}),this.req){var t=this._agent._conf.captureBody,n="transactions"===t||"all"===t;e.context.request=u.getContextFromRequest(this.req,n)}this.res&&(e.context.response=u.getContextFromResponse(this.res))}return e},p.prototype._encode=function(e){var t=this;if(!this.ended)return e(new Error("cannot encode un-ended transaction"));var n=this.toJSON(),o=r(function(r,o){if(r)return e(r);t.sampled&&(n.spans=o),e(null,n)});this.spans.forEach(function(e){e._encode(o())})},p.prototype.duration=function(){return this.ended?this._timer.duration():(this._agent.logger.debug("tried to call duration() on un-ended transaction %o",{id:this.id,name:this.name,type:this.type}),null)},p.prototype.setDefaultName=function(e){this._agent.logger.debug("setting default transaction name: %s %o",e,{id:this.id}),this._defaultName=e},p.prototype.setDefaultNameFromRequest=function(){var e=this.req,t=a(e);t||(this._agent.logger.debug("could not extract route name from request %o",{url:e.url,type:typeof t,null:null===t,route:!!e.route,regex:!!e.route&&!!e.route.regexp,mountstack:!!e[l.expressMountStack]&&e[l.expressMountStack].length,id:this.id}),t="unknown route"),this.setDefaultName(e.method+" "+t)},p.prototype.end=function(e){if(this.ended)this._agent.logger.debug("tried to call transaction.end() on already ended transaction %o",{id:this.id});else{void 0!==e&&(this.result=e),!this._defaultName&&this.req&&this.setDefaultNameFromRequest(),this._builtSpans.forEach(function(e){!e.ended&&e.started&&e.truncate()}),this._timer.end(),this.ended=!0;var t=this._agent._instrumentation.currentTransaction;t?t!==this&&(this._agent.logger.debug("WARNING: transaction is out of sync %o",{spans:this.spans.length,id:this.id,other:t.id}),this.spans=[]):(this._agent.logger.debug("WARNING: no currentTransaction found %o",{current:t,spans:this.spans.length,id:this.id}),this.spans=[]),this._agent._instrumentation.addEndedTransaction(this),this._agent.logger.debug("ended transaction %o",{id:this.id,type:this.type,result:this.result,name:this.name})}},p.prototype._recordEndedSpan=function(e){this.ended?this._agent.logger.debug("Can't record ended span after parent transaction have ended - ignoring %o",{id:this.id,span:e.name}):this.spans.push(e)}},function(e,t,n){"use strict";
/*!
 * basic-auth
 * Copyright(c) 2013 TJ Holowaychuk
 * Copyright(c) 2014 Jonathan Ong
 * Copyright(c) 2015-2016 Douglas Christopher Wilson
 * MIT Licensed
 */var r=n(155).Buffer;e.exports=function(e){if(!e)throw new TypeError("argument req is required");if("object"!=typeof e)throw new TypeError("argument req is required to be an object");return s(function(e){if(!e.headers||"object"!=typeof e.headers)throw new TypeError("argument req is required to have headers property");return e.headers.authorization}(e))},e.exports.parse=s;var o=/^ *(?:[Bb][Aa][Ss][Ii][Cc]) +([A-Za-z0-9._~+/-]+=*) *$/,i=/^([^:]*):(.*)$/;function s(e){if("string"==typeof e){var t=o.exec(e);if(t){var n=i.exec(function(e){return r.from(e,"base64").toString()}(t[1]));if(n)return new function(e,t){this.name=e,this.pass=t}(n[1],n[2])}}}},function(e,t,n){var r=n(156),o=r.Buffer;function i(e,t){for(var n in e)t[n]=e[n]}function s(e,t,n){return o(e,t,n)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?e.exports=r:(i(r,t),t.Buffer=s),i(o,s),s.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return o(e,t,n)},s.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=o(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},s.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return o(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},function(e,t){e.exports=require("buffer")},function(e,t,n){"use strict";const r=n(6).parse,o=n(158),i=n(18);function s(e,t){const n=e.headers[t];return(Array.isArray(n)?n[0]:n).split(", ")[0]}function a(e){const t=-1!==e.indexOf("://");return e=r(t?e:"invalid://"+e),t||delete e.protocol,e}e.exports=function(e){const t=e.originalUrl||e.url,n=r(t||""),u=e.secure||e.connection&&e.connection.encrypted,c={raw:t};let l;if(e.headers.forwarded){let t=s(e,"forwarded");try{if(l=a((t=o(t)[0]).host),t.for){const e=t.for.split("]"),n=e[e.length-1].split(":")[1];n&&(l.port=Number(n))}t.proto&&(l.protocol=t.proto+":")}catch(e){}}else e.headers["x-forwarded-host"]&&(l=a(s(e,"x-forwarded-host")));return l||(l="string"==typeof e.headers.host?a(e.headers.host):{}),n.protocol?c.protocol=n.protocol:e.headers["x-forwarded-proto"]?c.protocol=s(e,"x-forwarded-proto")+":":e.headers["x-forwarded-protocol"]?c.protocol=s(e,"x-forwarded-protocol")+":":e.headers["x-url-scheme"]?c.protocol=s(e,"x-url-scheme")+":":e.headers["front-end-https"]?c.protocol="on"===s(e,"front-end-https")?"https:":"http:":e.headers["x-forwarded-ssl"]?c.protocol="on"===s(e,"x-forwarded-ssl")?"https:":"http:":l.protocol?c.protocol=l.protocol:c.protocol=u?"https:":"http:",n.hostname?c.hostname=n.hostname:l.hostname&&(c.hostname=l.hostname),i.isIPv6(c.hostname)&&(c.hostname="["+c.hostname+"]"),n.port?c.port=Number(n.port):e.headers["x-forwarded-port"]?c.port=Number(s(e,"x-forwarded-port")):l.port&&(c.port=Number(l.port)),n.pathname?c.pathname=n.pathname:l.pathname&&(c.pathname=l.pathname),n.search?c.search=n.search:l.search&&(c.search=l.search),l.hash&&(c.hash=l.hash),c.protocol&&c.hostname&&(c.full=c.protocol+"//"+c.hostname,c.port&&(c.full+=":"+c.port),c.pathname&&(c.full+=c.pathname),c.search&&(c.full+=c.search),c.hash&&(c.full+=c.hash)),c}},function(e,t,n){"use strict";var r=n(4),o=n(159),i=n(160),s=i.isDelimiter,a=i.isTokenChar,u=i.isExtended,c=i.isPrint;function l(e){return e.replace(/\\(.)/g,"$1")}function f(e,t){return r.format("Unexpected character '%s' at index %d",e.charAt(t),t)}e.exports=function(e){for(var t,n,r=!1,i=!1,p=!1,h={},d=[],g=-1,m=-1,v=0;v<e.length;v++)if(n=e.charCodeAt(v),void 0===t){if(-1===g&&(32===n||9===n))continue;if(a(n))-1===g&&(g=v);else{if(61!==n||-1===g)throw new o(f(e,v),e);t=e.slice(g,v).toLowerCase(),g=-1}}else if(i&&(9===n||c(n)||u(n)))i=!1;else if(a(n)){if(-1!==m)throw new o(f(e,v),e);-1===g&&(g=v)}else if(s(n)||u(n))if(p)34===n?(p=!1,m=v):92===n?(-1===g&&(g=v),i=r=!0):-1===g&&(g=v);else if(34===n&&61===e.charCodeAt(v-1))p=!0;else{if(44!==n&&59!==n||-1===g&&-1===m)throw new o(f(e,v),e);-1!==g?(-1===m&&(m=v),h[t]=r?l(e.slice(g,m)):e.slice(g,m)):h[t]="",44===n&&(d.push(h),h={}),t=void 0,g=m=-1}else{if(32!==n&&9!==n)throw new o(f(e,v),e);if(-1!==m)continue;if(p)-1===g&&(g=v);else{if(-1===g)throw new o(f(e,v),e);m=v}}if(void 0===t||p||-1===g&&-1===m)throw new o("Unexpected end of input",e);return-1!==g?(-1===m&&(m=v),h[t]=r?l(e.slice(g,m)):e.slice(g,m)):h[t]="",d.push(h),d}},function(e,t,n){"use strict";function r(e,t){Error.captureStackTrace(this,r),this.name=this.constructor.name,this.message=e,this.input=t}n(4).inherits(r,Error),e.exports=r},function(e,t,n){"use strict";e.exports={isDelimiter:function(e){return 34===e||40===e||41===e||44===e||47===e||e>=58&&e<=64||e>=91&&e<=93||123===e||125===e},isTokenChar:function(e){return 33===e||e>=35&&e<=39||42===e||43===e||45===e||46===e||e>=48&&e<=57||e>=65&&e<=90||e>=94&&e<=122||124===e||126===e},isExtended:function(e){return e>=128&&e<=255},isPrint:function(e){return e>=32&&e<=126}}},function(e,t,n){"use strict";var r=n(162),o=/^[A-Z_]+(\/\d\.\d)? /,i=/^([A-Z_]+) (.+) [A-Z]+\/(\d)\.(\d)$/,s=/^[A-Z]+\/(\d)\.(\d) (\d{3}) (.*)$/;function a(e){var t,n,i,s={},a=r(e),c=a();for(o.test(c)&&(c=a());c;)" "!==c[0]&&"\t"!==c[0]?(n&&u(n,i,s),t=c.indexOf(":"),n=c.substr(0,t),i=c.substr(t+1).trim(),c=a()):(i+=" "+c.trim(),c=a());return n&&u(n,i,s),s}function u(e,t,n){switch(e=e.toLowerCase()){case"set-cookie":void 0!==n[e]?n[e].push(t):n[e]=[t];break;case"content-type":case"content-length":case"user-agent":case"referer":case"host":case"authorization":case"proxy-authorization":case"if-modified-since":case"if-unmodified-since":case"from":case"location":case"max-forwards":case"retry-after":case"etag":case"last-modified":case"server":case"age":case"expires":void 0===n[e]&&(n[e]=t);break;default:"string"==typeof n[e]?n[e]+=", "+t:n[e]=t}}e.exports=function(e,t){return function(e,t){var n,r=function(e){var t=e.indexOf("\r\n");return-1===t?e:e.slice(0,t)}(e);return t&&o.test(r)?a(e):null!==(n=r.match(i))?{method:n[1],url:n[2],version:{major:parseInt(n[3],10),minor:parseInt(n[4],10)},headers:a(e)}:null!==(n=r.match(s))?{version:{major:parseInt(n[1],10),minor:parseInt(n[2],10)},statusCode:parseInt(n[3],10),statusMessage:n[4],headers:a(e)}:a(e)}(function(e){e&&e._header&&(e=e._header);return e&&"function"==typeof e.toString?e.toString().trim():""}(e),t)}},function(e,t,n){"use strict";e.exports=function(e){var t=0;return e=e.toString(),function(){var r=e.indexOf("\r\n",t),o=e.indexOf("\n",t),i=e.indexOf("\r",t),s=[r,o,i].sort(function(e,t){return e>t?1:e<t?-1:0}).filter(function(e){return-1!==e})[0];if(void 0!==s)return n(s,s===r?2:1);var a=e.length;return a===t?null:n(a,0)};function n(n,r){var o=e.substr(t,n-t);return t=n+r,o}}},function(e,t,n){"use strict";var r=n(3),o=n(2),i=n(164),s=n(7),a=n(169),u=n(171),c=n(179)("stackman"),l=o.isAbsolute||n(184),f=5,p="/"===o.sep?"/":"\\\\",h=new RegExp(".*node_modules"+p+"([^"+p+"]*)");e.exports=function(e){e||(e={});var t=i({max:e.fileCacheMax||500,load:function(e,t){c("reading %s",e),r.readFile(e,{encoding:"utf8"},function(e,n){if(e)return t(e);t(null,n.split(/\r?\n/))})}}),n=i({max:e.sourceMapCacheMax||100,load:function(e,t){c("loading source map for %s",e),u(e,t)}});return{callsites:function e(t,r,o){if("function"==typeof r)return e(t,null,r);var i=a(t);if(function(e){return Array.isArray(e)&&"object"==typeof e[0]&&"function"==typeof e[0].getFileName}(i))r&&!1===r.sourcemap?(i.forEach(S),process.nextTick(function(){o(null,i)})):function(e,t){var r=s(function(n,r){if(n)return t(n);r.forEach(function(t,n){t&&Object.defineProperty(e[n],"sourcemap",{writable:!0,value:t})}),t()});e.forEach(function(e){!function(e,t){if(_.call(e))return process.nextTick(t);var r=e.getFileName();n.get(r,t)}(e,r())})}(i,function(e){e&&c("error processing source map: %s",e.message),i.forEach(S),o(null,i)});else{var u=new Error("Could not process callsites");process.nextTick(function(){o(u)})}},properties:function(e){var t={};return Object.keys(e).forEach(function(n){if("stack"!==n){var r=e[n];if(null!==r){switch(typeof r){case"function":return;case"object":if("function"!=typeof r.toISOString)return;r=r.toISOString()}t[n]=r}}}),t},sourceContexts:function e(t,n,r){if("function"==typeof n)return e(t,null,n);n||(n={});n.inAppLines=n.inAppLines>=0?n.inAppLines:n.lines||f;n.libraryLines=n.libraryLines>=0?n.libraryLines:n.lines||f;var o=s(r);t.forEach(function(e){var t=e.isApp()?n.inAppLines:n.libraryLines;t>0&&!e.isNode()?e.sourceContext(t,o()):o()(null,null)})}};function p(){var e=this.getFileName();if(e){var t=process.cwd();return t[t.length-1]!==o.sep&&(t+=o.sep),~e.indexOf(t)?e.substr(t.length):e}}function d(){try{return this.getTypeName()}catch(e){return null}}function g(){var e=this.getFunctionName();if(e)return e;var t=this.getTypeNameSafely();return t?t+"."+(this.getMethodName()||"<anonymous>"):"<anonymous>"}function m(){var e=(this.getFileName()||"").match(h);return e?e[1]:null}function v(){return!this.isNode()&&!~(this.getFileName()||"").indexOf("node_modules"+o.sep)}function y(){return!!~(this.getFileName()||"").indexOf("node_modules"+o.sep)}function _(){if(this.isNative())return!0;var e=this.getFileName()||"";return!l(e)&&"."!==e[0]}function b(e,n){var r;if("function"==typeof e&&(n=e,e=f),e<=0)return r=new Error("Cannot collect less than one line of source context"),void process.nextTick(function(){n(r)});if(this.isNode())return r=new Error("Can't get source context of a Node core callsite"),void process.nextTick(function(){n(r)});var o=this,i=this.getFileName()||"",s=this.sourcemap?this.sourcemap.sourceContentFor(i,!0):null;s?process.nextTick(function(){n(null,w(s,o,e))}):t.get(i,function(t,r){t?(c("error reading %s: %s",i,t.message),n(t)):n(null,w(r,o,e))})}function w(e,t,n){var r=t.getLineNumber()-1,o=Math.ceil((n-1)/2),i=Math.floor((n-1)/2);return{pre:e.slice(Math.max(0,r-o),r),line:e[r],post:e.slice(r+1,r+1+i)}}function S(e){var t=e.getLineNumber,n=e.getColumnNumber,r=e.getFileName,i=null,s={getRelativeFileName:{writable:!0,value:p},getTypeNameSafely:{writable:!0,value:d},getFunctionNameSanitized:{writable:!0,value:g},getModuleName:{writable:!0,value:m},isApp:{writable:!0,value:v},isModule:{writable:!0,value:y},isNode:{writable:!0,value:_},sourceContext:{writable:!0,value:b}};function a(){if(!i)try{i=e.sourcemap.originalPositionFor({line:t.call(e),column:n.call(e)})}catch(e){return c("error fetching source map position: %s",e.message),{}}return i}e.sourcemap&&(s.getFileName={writable:!0,value:function(){var t=r.call(e),n=a().source;if(!n)return t;var i=o.dirname(t);return o.resolve(o.join(i,n))}},s.getLineNumber={writable:!0,value:function(){return a().line||t.call(e)}},s.getColumnNumber={writable:!0,value:function(){return a().column||n.call(e)}}),Object.defineProperties(e,s)}}},function(e,t,n){e.exports=o;var r=n(165);function o(e){if(!e||"object"!=typeof e)throw new Error("options must be an object");if(!e.load)throw new Error("load function is required");if(!(this instanceof o))return new o(e);this._opt=e,this._cache=new r(e),this._load=e.load,this._loading={},this._stales={},this._allowStale=e.stale}Object.defineProperty(o.prototype,"itemCount",{get:function(){return this._cache.itemCount},enumerable:!0,configurable:!0}),o.prototype.get=function(e,t){var n=this._stales[e];if(this._allowStale&&void 0!==n)return process.nextTick(function(){t(null,n)});if(this._loading[e])return this._loading[e].push(t);var r=this._cache.has(e),o=this._cache.get(e);if(r&&void 0!==o)return process.nextTick(function(){t(null,o)});void 0!==o&&this._allowStale&&!r?(this._stales[e]=o,process.nextTick(function(){t(null,o)})):this._loading[e]=[t],this._load(e,function(t,n,r){t||this._cache.set(e,n,r),this._allowStale&&delete this._stales[e];var o=this._loading[e];o&&(delete this._loading[e],o.forEach(function(e){e(t,n)}))}.bind(this))},o.prototype.keys=function(){return this._cache.keys()},o.prototype.set=function(e,t,n){return this._cache.set(e,t,n)},o.prototype.reset=function(){return this._cache.reset()},o.prototype.has=function(e){return this._cache.has(e)},o.prototype.del=function(e){return this._cache.del(e)},o.prototype.peek=function(e){return this._cache.peek(e)}},function(e,t,n){"use strict";e.exports=v;var r,o=n(166),i=n(4),s=n(168),a=(r="function"==typeof Symbol?function(e){return Symbol(e)}:function(e){return"_"+e})("max"),u=r("length"),c=r("lengthCalculator"),l=r("allowStale"),f=r("maxAge"),p=r("dispose"),h=r("noDisposeOnSet"),d=r("lruList"),g=r("cache");function m(){return 1}function v(e){if(!(this instanceof v))return new v(e);"number"==typeof e&&(e={max:e}),e||(e={});var t=this[a]=e.max;(!t||"number"!=typeof t||t<=0)&&(this[a]=1/0);var n=e.length||m;"function"!=typeof n&&(n=m),this[c]=n,this[l]=e.stale||!1,this[f]=e.maxAge||0,this[p]=e.dispose,this[h]=e.noDisposeOnSet||!1,this.reset()}function y(e,t,n,r){var o=n.value;b(e,o)&&(S(e,n),e[l]||(o=void 0)),o&&t.call(r,o.value,o.key,e)}function _(e,t,n){var r=e[g].get(t);if(r){var o=r.value;b(e,o)?(S(e,r),e[l]||(o=void 0)):n&&e[d].unshiftNode(r),o&&(o=o.value)}return o}function b(e,t){if(!t||!t.maxAge&&!e[f])return!1;var n=Date.now()-t.now;return t.maxAge?n>t.maxAge:e[f]&&n>e[f]}function w(e){if(e[u]>e[a])for(var t=e[d].tail;e[u]>e[a]&&null!==t;){var n=t.prev;S(e,t),t=n}}function S(e,t){if(t){var n=t.value;e[p]&&e[p](n.key,n.value),e[u]-=n.length,e[g].delete(n.key),e[d].removeNode(t)}}Object.defineProperty(v.prototype,"max",{set:function(e){(!e||"number"!=typeof e||e<=0)&&(e=1/0),this[a]=e,w(this)},get:function(){return this[a]},enumerable:!0}),Object.defineProperty(v.prototype,"allowStale",{set:function(e){this[l]=!!e},get:function(){return this[l]},enumerable:!0}),Object.defineProperty(v.prototype,"maxAge",{set:function(e){(!e||"number"!=typeof e||e<0)&&(e=0),this[f]=e,w(this)},get:function(){return this[f]},enumerable:!0}),Object.defineProperty(v.prototype,"lengthCalculator",{set:function(e){"function"!=typeof e&&(e=m),e!==this[c]&&(this[c]=e,this[u]=0,this[d].forEach(function(e){e.length=this[c](e.value,e.key),this[u]+=e.length},this)),w(this)},get:function(){return this[c]},enumerable:!0}),Object.defineProperty(v.prototype,"length",{get:function(){return this[u]},enumerable:!0}),Object.defineProperty(v.prototype,"itemCount",{get:function(){return this[d].length},enumerable:!0}),v.prototype.rforEach=function(e,t){t=t||this;for(var n=this[d].tail;null!==n;){var r=n.prev;y(this,e,n,t),n=r}},v.prototype.forEach=function(e,t){t=t||this;for(var n=this[d].head;null!==n;){var r=n.next;y(this,e,n,t),n=r}},v.prototype.keys=function(){return this[d].toArray().map(function(e){return e.key},this)},v.prototype.values=function(){return this[d].toArray().map(function(e){return e.value},this)},v.prototype.reset=function(){this[p]&&this[d]&&this[d].length&&this[d].forEach(function(e){this[p](e.key,e.value)},this),this[g]=new o,this[d]=new s,this[u]=0},v.prototype.dump=function(){return this[d].map(function(e){if(!b(this,e))return{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}},this).toArray().filter(function(e){return e})},v.prototype.dumpLru=function(){return this[d]},v.prototype.inspect=function(e,t){var n="LRUCache {",r=!1;this[l]&&(n+="\n  allowStale: true",r=!0);var o=this[a];o&&o!==1/0&&(r&&(n+=","),n+="\n  max: "+i.inspect(o,t),r=!0);var s=this[f];s&&(r&&(n+=","),n+="\n  maxAge: "+i.inspect(s,t),r=!0);var p=this[c];p&&p!==m&&(r&&(n+=","),n+="\n  length: "+i.inspect(this[u],t),r=!0);var h=!1;return this[d].forEach(function(e){h?n+=",\n  ":(r&&(n+=",\n"),h=!0,n+="\n  ");var o=i.inspect(e.key).split("\n").join("\n  "),a={value:e.value};e.maxAge!==s&&(a.maxAge=e.maxAge),p!==m&&(a.length=e.length),b(this,e)&&(a.stale=!0),a=i.inspect(a,t).split("\n").join("\n  "),n+=o+" => "+a}),(h||r)&&(n+="\n"),n+="}"},v.prototype.set=function(e,t,n){var r=(n=n||this[f])?Date.now():0,o=this[c](t,e);if(this[g].has(e)){if(o>this[a])return S(this,this[g].get(e)),!1;var i=this[g].get(e).value;return this[p]&&(this[h]||this[p](e,i.value)),i.now=r,i.maxAge=n,i.value=t,this[u]+=o-i.length,i.length=o,this.get(e),w(this),!0}var s=new function(e,t,n,r,o){this.key=e,this.value=t,this.length=n,this.now=r,this.maxAge=o||0}(e,t,o,r,n);return s.length>this[a]?(this[p]&&this[p](e,t),!1):(this[u]+=s.length,this[d].unshift(s),this[g].set(e,this[d].head),w(this),!0)},v.prototype.has=function(e){return!!this[g].has(e)&&!b(this,this[g].get(e).value)},v.prototype.get=function(e){return _(this,e,!0)},v.prototype.peek=function(e){return _(this,e,!1)},v.prototype.pop=function(){var e=this[d].tail;return e?(S(this,e),e.value):null},v.prototype.del=function(e){S(this,this[g].get(e))},v.prototype.load=function(e){this.reset();for(var t=Date.now(),n=e.length-1;n>=0;n--){var r=e[n],o=r.e||0;if(0===o)this.set(r.k,r.v);else{var i=o-t;i>0&&this.set(r.k,r.v,i)}}},v.prototype.prune=function(){var e=this;this[g].forEach(function(t,n){_(e,n,!1)})}},function(e,t,n){"pseudomap"===process.env.npm_package_name&&"test"===process.env.npm_lifecycle_script&&(process.env.TEST_PSEUDOMAP="true"),"function"!=typeof Map||process.env.TEST_PSEUDOMAP?e.exports=n(167):e.exports=Map},function(e,t){var n=Object.prototype.hasOwnProperty;function r(e){if(!(this instanceof r))throw new TypeError("Constructor PseudoMap requires 'new'");if(this.clear(),e)if(e instanceof r||"function"==typeof Map&&e instanceof Map)e.forEach(function(e,t){this.set(t,e)},this);else{if(!Array.isArray(e))throw new TypeError("invalid argument");e.forEach(function(e){this.set(e[0],e[1])},this)}}function o(e,t){return e===t||e!=e&&t!=t}function i(e,t){for(var r=0,i="_"+t,s=i;n.call(e,s);s=i+r++)if(o(e[s].key,t))return e[s]}e.exports=r,r.prototype.forEach=function(e,t){t=t||this,Object.keys(this._data).forEach(function(n){"size"!==n&&e.call(t,this._data[n].value,this._data[n].key)},this)},r.prototype.has=function(e){return!!i(this._data,e)},r.prototype.get=function(e){var t=i(this._data,e);return t&&t.value},r.prototype.set=function(e,t){!function(e,t,r){for(var i=0,s="_"+t,a=s;n.call(e,a);a=s+i++)if(o(e[a].key,t))return void(e[a].value=r);e.size++,e[a]=new function(e,t,n){this.key=e,this.value=t,this._index=n}(t,r,a)}(this._data,e,t)},r.prototype.delete=function(e){var t=i(this._data,e);t&&(delete this._data[t._index],this._data.size--)},r.prototype.clear=function(){var e=Object.create(null);e.size=0,Object.defineProperty(this,"_data",{value:e,enumerable:!1,configurable:!0,writable:!1})},Object.defineProperty(r.prototype,"size",{get:function(){return this._data.size},set:function(e){},enumerable:!0,configurable:!0}),r.prototype.values=r.prototype.keys=r.prototype.entries=function(){throw new Error("iterators are not implemented in this version")}},function(e,t){function n(e){var t=this;if(t instanceof n||(t=new n),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach(function(e){t.push(e)});else if(arguments.length>0)for(var r=0,o=arguments.length;r<o;r++)t.push(arguments[r]);return t}function r(e,t){e.tail=new i(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function o(e,t){e.head=new i(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function i(e,t,n,r){if(!(this instanceof i))return new i(e,t,n,r);this.list=r,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}e.exports=n,n.Node=i,n.create=n,n.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,n=e.prev;t&&(t.prev=n),n&&(n.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=n),e.list.length--,e.next=null,e.prev=null,e.list=null},n.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},n.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},n.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)r(this,arguments[e]);return this.length},n.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)o(this,arguments[e]);return this.length},n.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},n.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},n.prototype.forEach=function(e,t){t=t||this;for(var n=this.head,r=0;null!==n;r++)e.call(t,n.value,r,this),n=n.next},n.prototype.forEachReverse=function(e,t){t=t||this;for(var n=this.tail,r=this.length-1;null!==n;r--)e.call(t,n.value,r,this),n=n.prev},n.prototype.get=function(e){for(var t=0,n=this.head;null!==n&&t<e;t++)n=n.next;if(t===e&&null!==n)return n.value},n.prototype.getReverse=function(e){for(var t=0,n=this.tail;null!==n&&t<e;t++)n=n.prev;if(t===e&&null!==n)return n.value},n.prototype.map=function(e,t){t=t||this;for(var r=new n,o=this.head;null!==o;)r.push(e.call(t,o.value,this)),o=o.next;return r},n.prototype.mapReverse=function(e,t){t=t||this;for(var r=new n,o=this.tail;null!==o;)r.push(e.call(t,o.value,this)),o=o.prev;return r},n.prototype.reduce=function(e,t){var n,r=this.head;if(arguments.length>1)n=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");r=this.head.next,n=this.head.value}for(var o=0;null!==r;o++)n=e(n,r.value,o),r=r.next;return n},n.prototype.reduceReverse=function(e,t){var n,r=this.tail;if(arguments.length>1)n=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");r=this.tail.prev,n=this.tail.value}for(var o=this.length-1;null!==r;o--)n=e(n,r.value,o),r=r.prev;return n},n.prototype.toArray=function(){for(var e=new Array(this.length),t=0,n=this.head;null!==n;t++)e[t]=n.value,n=n.next;return e},n.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,n=this.tail;null!==n;t++)e[t]=n.value,n=n.prev;return e},n.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new n;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var o=0,i=this.head;null!==i&&o<e;o++)i=i.next;for(;null!==i&&o<t;o++,i=i.next)r.push(i.value);return r},n.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new n;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var o=this.length,i=this.tail;null!==i&&o>t;o--)i=i.prev;for(;null!==i&&o>e;o--,i=i.prev)r.push(i.value);return r},n.prototype.reverse=function(){for(var e=this.head,t=this.tail,n=e;null!==n;n=n.prev){var r=n.prev;n.prev=n.next,n.next=r}return this.head=t,this.tail=e,this}},function(e,t,n){"use strict";var r=n(170),o=Error.prepareStackTrace;Error.prepareStackTrace=function(e,t){return Object.defineProperty(e,"__error_callsites",{enumerable:!1,configurable:!0,writable:!1,value:t}),(o||r)(e,t)},e.exports=function(e){return e.stack,e.__error_callsites}},function(e,t,n){"use strict";e.exports=function(e,t){var n=[];try{n.push(e.toString())}catch(e){try{n.push("<error: "+e+">")}catch(e){n.push("<error>")}}for(var r=0;r<t.length;r++){var o,i=t[r];try{o=i.toString()}catch(e){try{o="<error: "+e+">"}catch(e){o="<error>"}}n.push("    at "+o)}return n.join("\n")}},function(e,t,n){"use strict";var r=n(3),o=n(2),i=n(1),s=n(172).SourceMapConsumer,a=/^data:application\/json[^,]+base64,/,u=/(?:\/\/[@#][ \t]+sourceMappingURL=([^\s'"]+?)[ \t]*$)|(?:\/\*[@#][ \t]+sourceMappingURL=([^*]+?)[ \t]*(?:\*\/)[ \t]*$)/,c=i.lt(process.version,"0.9.11")?"utf8":{encoding:"utf8"};function l(e){return a.test(e)}e.exports=function(e,t){r.readFile(e,c,function(n,i){if(n)return t(n);var a=function(e,t){for(var n=e.split(/\r?\n/),r=null,i=n.length-1;i>=0&&!r;i--)r=n[i].match(u);if(!r)return null;return l(r[1])?r[1]:o.resolve(t,r[1])}(i,o.dirname(e));if(!a)return t();if(l(a))return f(null,function(e){var t=e.slice(e.indexOf(",")+1);return new Buffer(t,"base64").toString()}(a));function f(n,r){if(n)return n.message='Error reading sourcemap for file "'+e+'":\n'+n.message,t(n);var o;try{o=new s(r)}catch(n){return n.message='Error parsing sourcemap for file "'+e+'":\n'+n.message,t(n)}return t(null,o)}r.readFile(a,c,f)})}},function(e,t,n){t.SourceMapGenerator=n(42).SourceMapGenerator,t.SourceMapConsumer=n(175).SourceMapConsumer,t.SourceNode=n(178).SourceNode},function(e,t){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");t.encode=function(e){if(0<=e&&e<n.length)return n[e];throw new TypeError("Must be between 0 and 63: "+e)},t.decode=function(e){return 65<=e&&e<=90?e-65:97<=e&&e<=122?e-97+26:48<=e&&e<=57?e-48+52:43==e?62:47==e?63:-1}},function(e,t,n){var r=n(8);function o(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}o.prototype.unsortedForEach=function(e,t){this._array.forEach(e,t)},o.prototype.add=function(e){!function(e,t){var n=e.generatedLine,o=t.generatedLine,i=e.generatedColumn,s=t.generatedColumn;return o>n||o==n&&s>=i||r.compareByGeneratedPositionsInflated(e,t)<=0}(this._last,e)?(this._sorted=!1,this._array.push(e)):(this._last=e,this._array.push(e))},o.prototype.toArray=function(){return this._sorted||(this._array.sort(r.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},t.MappingList=o},function(e,t,n){var r=n(8),o=n(176),i=n(44).ArraySet,s=n(43),a=n(177).quickSort;function u(e){var t=e;return"string"==typeof e&&(t=JSON.parse(e.replace(/^\)\]\}'/,""))),null!=t.sections?new f(t):new c(t)}function c(e){var t=e;"string"==typeof e&&(t=JSON.parse(e.replace(/^\)\]\}'/,"")));var n=r.getArg(t,"version"),o=r.getArg(t,"sources"),s=r.getArg(t,"names",[]),a=r.getArg(t,"sourceRoot",null),u=r.getArg(t,"sourcesContent",null),c=r.getArg(t,"mappings"),l=r.getArg(t,"file",null);if(n!=this._version)throw new Error("Unsupported version: "+n);o=o.map(String).map(r.normalize).map(function(e){return a&&r.isAbsolute(a)&&r.isAbsolute(e)?r.relative(a,e):e}),this._names=i.fromArray(s.map(String),!0),this._sources=i.fromArray(o,!0),this.sourceRoot=a,this.sourcesContent=u,this._mappings=c,this.file=l}function l(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}function f(e){var t=e;"string"==typeof e&&(t=JSON.parse(e.replace(/^\)\]\}'/,"")));var n=r.getArg(t,"version"),o=r.getArg(t,"sections");if(n!=this._version)throw new Error("Unsupported version: "+n);this._sources=new i,this._names=new i;var s={line:-1,column:0};this._sections=o.map(function(e){if(e.url)throw new Error("Support for url field in sections not implemented.");var t=r.getArg(e,"offset"),n=r.getArg(t,"line"),o=r.getArg(t,"column");if(n<s.line||n===s.line&&o<s.column)throw new Error("Section offsets must be ordered and non-overlapping.");return s=t,{generatedOffset:{generatedLine:n+1,generatedColumn:o+1},consumer:new u(r.getArg(e,"map"))}})}u.fromSourceMap=function(e){return c.fromSourceMap(e)},u.prototype._version=3,u.prototype.__generatedMappings=null,Object.defineProperty(u.prototype,"_generatedMappings",{get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),u.prototype.__originalMappings=null,Object.defineProperty(u.prototype,"_originalMappings",{get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),u.prototype._charIsMappingSeparator=function(e,t){var n=e.charAt(t);return";"===n||","===n},u.prototype._parseMappings=function(e,t){throw new Error("Subclasses must implement _parseMappings")},u.GENERATED_ORDER=1,u.ORIGINAL_ORDER=2,u.GREATEST_LOWER_BOUND=1,u.LEAST_UPPER_BOUND=2,u.prototype.eachMapping=function(e,t,n){var o,i=t||null;switch(n||u.GENERATED_ORDER){case u.GENERATED_ORDER:o=this._generatedMappings;break;case u.ORIGINAL_ORDER:o=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var s=this.sourceRoot;o.map(function(e){var t=null===e.source?null:this._sources.at(e.source);return null!=t&&null!=s&&(t=r.join(s,t)),{source:t,generatedLine:e.generatedLine,generatedColumn:e.generatedColumn,originalLine:e.originalLine,originalColumn:e.originalColumn,name:null===e.name?null:this._names.at(e.name)}},this).forEach(e,i)},u.prototype.allGeneratedPositionsFor=function(e){var t=r.getArg(e,"line"),n={source:r.getArg(e,"source"),originalLine:t,originalColumn:r.getArg(e,"column",0)};if(null!=this.sourceRoot&&(n.source=r.relative(this.sourceRoot,n.source)),!this._sources.has(n.source))return[];n.source=this._sources.indexOf(n.source);var i=[],s=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",r.compareByOriginalPositions,o.LEAST_UPPER_BOUND);if(s>=0){var a=this._originalMappings[s];if(void 0===e.column)for(var u=a.originalLine;a&&a.originalLine===u;)i.push({line:r.getArg(a,"generatedLine",null),column:r.getArg(a,"generatedColumn",null),lastColumn:r.getArg(a,"lastGeneratedColumn",null)}),a=this._originalMappings[++s];else for(var c=a.originalColumn;a&&a.originalLine===t&&a.originalColumn==c;)i.push({line:r.getArg(a,"generatedLine",null),column:r.getArg(a,"generatedColumn",null),lastColumn:r.getArg(a,"lastGeneratedColumn",null)}),a=this._originalMappings[++s]}return i},t.SourceMapConsumer=u,c.prototype=Object.create(u.prototype),c.prototype.consumer=u,c.fromSourceMap=function(e){var t=Object.create(c.prototype),n=t._names=i.fromArray(e._names.toArray(),!0),o=t._sources=i.fromArray(e._sources.toArray(),!0);t.sourceRoot=e._sourceRoot,t.sourcesContent=e._generateSourcesContent(t._sources.toArray(),t.sourceRoot),t.file=e._file;for(var s=e._mappings.toArray().slice(),u=t.__generatedMappings=[],f=t.__originalMappings=[],p=0,h=s.length;p<h;p++){var d=s[p],g=new l;g.generatedLine=d.generatedLine,g.generatedColumn=d.generatedColumn,d.source&&(g.source=o.indexOf(d.source),g.originalLine=d.originalLine,g.originalColumn=d.originalColumn,d.name&&(g.name=n.indexOf(d.name)),f.push(g)),u.push(g)}return a(t.__originalMappings,r.compareByOriginalPositions),t},c.prototype._version=3,Object.defineProperty(c.prototype,"sources",{get:function(){return this._sources.toArray().map(function(e){return null!=this.sourceRoot?r.join(this.sourceRoot,e):e},this)}}),c.prototype._parseMappings=function(e,t){for(var n,o,i,u,c,f=1,p=0,h=0,d=0,g=0,m=0,v=e.length,y=0,_={},b={},w=[],S=[];y<v;)if(";"===e.charAt(y))f++,y++,p=0;else if(","===e.charAt(y))y++;else{for((n=new l).generatedLine=f,u=y;u<v&&!this._charIsMappingSeparator(e,u);u++);if(i=_[o=e.slice(y,u)])y+=o.length;else{for(i=[];y<u;)s.decode(e,y,b),c=b.value,y=b.rest,i.push(c);if(2===i.length)throw new Error("Found a source, but no line and column");if(3===i.length)throw new Error("Found a source and line, but no column");_[o]=i}n.generatedColumn=p+i[0],p=n.generatedColumn,i.length>1&&(n.source=g+i[1],g+=i[1],n.originalLine=h+i[2],h=n.originalLine,n.originalLine+=1,n.originalColumn=d+i[3],d=n.originalColumn,i.length>4&&(n.name=m+i[4],m+=i[4])),S.push(n),"number"==typeof n.originalLine&&w.push(n)}a(S,r.compareByGeneratedPositionsDeflated),this.__generatedMappings=S,a(w,r.compareByOriginalPositions),this.__originalMappings=w},c.prototype._findMapping=function(e,t,n,r,i,s){if(e[n]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+e[n]);if(e[r]<0)throw new TypeError("Column must be greater than or equal to 0, got "+e[r]);return o.search(e,t,i,s)},c.prototype.computeColumnSpans=function(){for(var e=0;e<this._generatedMappings.length;++e){var t=this._generatedMappings[e];if(e+1<this._generatedMappings.length){var n=this._generatedMappings[e+1];if(t.generatedLine===n.generatedLine){t.lastGeneratedColumn=n.generatedColumn-1;continue}}t.lastGeneratedColumn=1/0}},c.prototype.originalPositionFor=function(e){var t={generatedLine:r.getArg(e,"line"),generatedColumn:r.getArg(e,"column")},n=this._findMapping(t,this._generatedMappings,"generatedLine","generatedColumn",r.compareByGeneratedPositionsDeflated,r.getArg(e,"bias",u.GREATEST_LOWER_BOUND));if(n>=0){var o=this._generatedMappings[n];if(o.generatedLine===t.generatedLine){var i=r.getArg(o,"source",null);null!==i&&(i=this._sources.at(i),null!=this.sourceRoot&&(i=r.join(this.sourceRoot,i)));var s=r.getArg(o,"name",null);return null!==s&&(s=this._names.at(s)),{source:i,line:r.getArg(o,"originalLine",null),column:r.getArg(o,"originalColumn",null),name:s}}}return{source:null,line:null,column:null,name:null}},c.prototype.hasContentsOfAllSources=function(){return!!this.sourcesContent&&(this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(e){return null==e}))},c.prototype.sourceContentFor=function(e,t){if(!this.sourcesContent)return null;if(null!=this.sourceRoot&&(e=r.relative(this.sourceRoot,e)),this._sources.has(e))return this.sourcesContent[this._sources.indexOf(e)];var n;if(null!=this.sourceRoot&&(n=r.urlParse(this.sourceRoot))){var o=e.replace(/^file:\/\//,"");if("file"==n.scheme&&this._sources.has(o))return this.sourcesContent[this._sources.indexOf(o)];if((!n.path||"/"==n.path)&&this._sources.has("/"+e))return this.sourcesContent[this._sources.indexOf("/"+e)]}if(t)return null;throw new Error('"'+e+'" is not in the SourceMap.')},c.prototype.generatedPositionFor=function(e){var t=r.getArg(e,"source");if(null!=this.sourceRoot&&(t=r.relative(this.sourceRoot,t)),!this._sources.has(t))return{line:null,column:null,lastColumn:null};var n={source:t=this._sources.indexOf(t),originalLine:r.getArg(e,"line"),originalColumn:r.getArg(e,"column")},o=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",r.compareByOriginalPositions,r.getArg(e,"bias",u.GREATEST_LOWER_BOUND));if(o>=0){var i=this._originalMappings[o];if(i.source===n.source)return{line:r.getArg(i,"generatedLine",null),column:r.getArg(i,"generatedColumn",null),lastColumn:r.getArg(i,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},t.BasicSourceMapConsumer=c,f.prototype=Object.create(u.prototype),f.prototype.constructor=u,f.prototype._version=3,Object.defineProperty(f.prototype,"sources",{get:function(){for(var e=[],t=0;t<this._sections.length;t++)for(var n=0;n<this._sections[t].consumer.sources.length;n++)e.push(this._sections[t].consumer.sources[n]);return e}}),f.prototype.originalPositionFor=function(e){var t={generatedLine:r.getArg(e,"line"),generatedColumn:r.getArg(e,"column")},n=o.search(t,this._sections,function(e,t){var n=e.generatedLine-t.generatedOffset.generatedLine;return n||e.generatedColumn-t.generatedOffset.generatedColumn}),i=this._sections[n];return i?i.consumer.originalPositionFor({line:t.generatedLine-(i.generatedOffset.generatedLine-1),column:t.generatedColumn-(i.generatedOffset.generatedLine===t.generatedLine?i.generatedOffset.generatedColumn-1:0),bias:e.bias}):{source:null,line:null,column:null,name:null}},f.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(e){return e.consumer.hasContentsOfAllSources()})},f.prototype.sourceContentFor=function(e,t){for(var n=0;n<this._sections.length;n++){var r=this._sections[n].consumer.sourceContentFor(e,!0);if(r)return r}if(t)return null;throw new Error('"'+e+'" is not in the SourceMap.')},f.prototype.generatedPositionFor=function(e){for(var t=0;t<this._sections.length;t++){var n=this._sections[t];if(-1!==n.consumer.sources.indexOf(r.getArg(e,"source"))){var o=n.consumer.generatedPositionFor(e);if(o)return{line:o.line+(n.generatedOffset.generatedLine-1),column:o.column+(n.generatedOffset.generatedLine===o.line?n.generatedOffset.generatedColumn-1:0)}}}return{line:null,column:null}},f.prototype._parseMappings=function(e,t){this.__generatedMappings=[],this.__originalMappings=[];for(var n=0;n<this._sections.length;n++)for(var o=this._sections[n],i=o.consumer._generatedMappings,s=0;s<i.length;s++){var u=i[s],c=o.consumer._sources.at(u.source);null!==o.consumer.sourceRoot&&(c=r.join(o.consumer.sourceRoot,c)),this._sources.add(c),c=this._sources.indexOf(c);var l=o.consumer._names.at(u.name);this._names.add(l),l=this._names.indexOf(l);var f={source:c,generatedLine:u.generatedLine+(o.generatedOffset.generatedLine-1),generatedColumn:u.generatedColumn+(o.generatedOffset.generatedLine===u.generatedLine?o.generatedOffset.generatedColumn-1:0),originalLine:u.originalLine,originalColumn:u.originalColumn,name:l};this.__generatedMappings.push(f),"number"==typeof f.originalLine&&this.__originalMappings.push(f)}a(this.__generatedMappings,r.compareByGeneratedPositionsDeflated),a(this.__originalMappings,r.compareByOriginalPositions)},t.IndexedSourceMapConsumer=f},function(e,t){t.GREATEST_LOWER_BOUND=1,t.LEAST_UPPER_BOUND=2,t.search=function(e,n,r,o){if(0===n.length)return-1;var i=function e(n,r,o,i,s,a){var u=Math.floor((r-n)/2)+n,c=s(o,i[u],!0);return 0===c?u:c>0?r-u>1?e(u,r,o,i,s,a):a==t.LEAST_UPPER_BOUND?r<i.length?r:-1:u:u-n>1?e(n,u,o,i,s,a):a==t.LEAST_UPPER_BOUND?u:n<0?-1:n}(-1,n.length,e,n,r,o||t.GREATEST_LOWER_BOUND);if(i<0)return-1;for(;i-1>=0&&0===r(n[i],n[i-1],!0);)--i;return i}},function(e,t){function n(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function r(e,t,o,i){if(o<i){var s=o-1;n(e,function(e,t){return Math.round(e+Math.random()*(t-e))}(o,i),i);for(var a=e[i],u=o;u<i;u++)t(e[u],a)<=0&&n(e,s+=1,u);n(e,s+1,u);var c=s+1;r(e,t,o,c-1),r(e,t,c+1,i)}}t.quickSort=function(e,t){r(e,t,0,e.length-1)}},function(e,t,n){var r=n(42).SourceMapGenerator,o=n(8),i=/(\r?\n)/,s="$$$isSourceNode$$$";function a(e,t,n,r,o){this.children=[],this.sourceContents={},this.line=null==e?null:e,this.column=null==t?null:t,this.source=null==n?null:n,this.name=null==o?null:o,this[s]=!0,null!=r&&this.add(r)}a.fromStringWithSourceMap=function(e,t,n){var r=new a,s=e.split(i),u=0,c=function(){return e()+(e()||"");function e(){return u<s.length?s[u++]:void 0}},l=1,f=0,p=null;return t.eachMapping(function(e){if(null!==p){if(!(l<e.generatedLine)){var t=(n=s[u]).substr(0,e.generatedColumn-f);return s[u]=n.substr(e.generatedColumn-f),f=e.generatedColumn,h(p,t),void(p=e)}h(p,c()),l++,f=0}for(;l<e.generatedLine;)r.add(c()),l++;if(f<e.generatedColumn){var n=s[u];r.add(n.substr(0,e.generatedColumn)),s[u]=n.substr(e.generatedColumn),f=e.generatedColumn}p=e},this),u<s.length&&(p&&h(p,c()),r.add(s.splice(u).join(""))),t.sources.forEach(function(e){var i=t.sourceContentFor(e);null!=i&&(null!=n&&(e=o.join(n,e)),r.setSourceContent(e,i))}),r;function h(e,t){if(null===e||void 0===e.source)r.add(t);else{var i=n?o.join(n,e.source):e.source;r.add(new a(e.originalLine,e.originalColumn,i,t,e.name))}}},a.prototype.add=function(e){if(Array.isArray(e))e.forEach(function(e){this.add(e)},this);else{if(!e[s]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);e&&this.children.push(e)}return this},a.prototype.prepend=function(e){if(Array.isArray(e))for(var t=e.length-1;t>=0;t--)this.prepend(e[t]);else{if(!e[s]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);this.children.unshift(e)}return this},a.prototype.walk=function(e){for(var t,n=0,r=this.children.length;n<r;n++)(t=this.children[n])[s]?t.walk(e):""!==t&&e(t,{source:this.source,line:this.line,column:this.column,name:this.name})},a.prototype.join=function(e){var t,n,r=this.children.length;if(r>0){for(t=[],n=0;n<r-1;n++)t.push(this.children[n]),t.push(e);t.push(this.children[n]),this.children=t}return this},a.prototype.replaceRight=function(e,t){var n=this.children[this.children.length-1];return n[s]?n.replaceRight(e,t):"string"==typeof n?this.children[this.children.length-1]=n.replace(e,t):this.children.push("".replace(e,t)),this},a.prototype.setSourceContent=function(e,t){this.sourceContents[o.toSetString(e)]=t},a.prototype.walkSourceContents=function(e){for(var t=0,n=this.children.length;t<n;t++)this.children[t][s]&&this.children[t].walkSourceContents(e);var r=Object.keys(this.sourceContents);for(t=0,n=r.length;t<n;t++)e(o.fromSetString(r[t]),this.sourceContents[r[t]])},a.prototype.toString=function(){var e="";return this.walk(function(t){e+=t}),e},a.prototype.toStringWithSourceMap=function(e){var t={code:"",line:1,column:0},n=new r(e),o=!1,i=null,s=null,a=null,u=null;return this.walk(function(e,r){t.code+=e,null!==r.source&&null!==r.line&&null!==r.column?(i===r.source&&s===r.line&&a===r.column&&u===r.name||n.addMapping({source:r.source,original:{line:r.line,column:r.column},generated:{line:t.line,column:t.column},name:r.name}),i=r.source,s=r.line,a=r.column,u=r.name,o=!0):o&&(n.addMapping({generated:{line:t.line,column:t.column}}),i=null,o=!1);for(var c=0,l=e.length;c<l;c++)10===e.charCodeAt(c)?(t.line++,t.column=0,c+1===l?(i=null,o=!1):o&&n.addMapping({source:r.source,original:{line:r.line,column:r.column},generated:{line:t.line,column:t.column},name:r.name})):t.column++}),this.walkSourceContents(function(e,t){n.setSourceContent(e,t)}),{code:t.code,map:n}},t.SourceNode=a},function(e,t,n){"undefined"!=typeof process&&"renderer"===process.type?e.exports=n(180):e.exports=n(182)},function(e,t,n){function r(){var e;try{e=t.storage.debug}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e}(t=e.exports=n(45)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return;var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var o=0,i=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&"%c"===e&&(i=++o)}),e.splice(i,0,r)},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}},t.load=r,t.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(r())},function(e,t){var n=1e3,r=60*n,o=60*r,i=24*o,s=365.25*i;function a(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}e.exports=function(e,t){t=t||{};var u=typeof e;if("string"===u&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!t)return;var a=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return a*s;case"days":case"day":case"d":return a*i;case"hours":case"hour":case"hrs":case"hr":case"h":return a*o;case"minutes":case"minute":case"mins":case"min":case"m":return a*r;case"seconds":case"second":case"secs":case"sec":case"s":return a*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}(e);if("number"===u&&!1===isNaN(e))return t.long?function(e){return a(e,i,"day")||a(e,o,"hour")||a(e,r,"minute")||a(e,n,"second")||e+" ms"}(e):function(e){if(e>=i)return Math.round(e/i)+"d";if(e>=o)return Math.round(e/o)+"h";if(e>=r)return Math.round(e/r)+"m";if(e>=n)return Math.round(e/n)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){var r=n(183),o=n(4);(t=e.exports=n(45)).init=function(e){e.inspectOpts={};for(var n=Object.keys(t.inspectOpts),r=0;r<n.length;r++)e.inspectOpts[n[r]]=t.inspectOpts[n[r]]},t.log=function(){return s.write(o.format.apply(o,arguments)+"\n")},t.formatArgs=function(e){var n=this.namespace;if(this.useColors){var r=this.color,o="  [3"+r+";1m"+n+" [0m";e[0]=o+e[0].split("\n").join("\n"+o),e.push("[3"+r+"m+"+t.humanize(this.diff)+"[0m")}else e[0]=(new Date).toUTCString()+" "+n+" "+e[0]},t.save=function(e){null==e?delete process.env.DEBUG:process.env.DEBUG=e},t.load=a,t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):r.isatty(i)},t.colors=[6,2,3,4,5,1],t.inspectOpts=Object.keys(process.env).filter(function(e){return/^debug_/i.test(e)}).reduce(function(e,t){var n=t.substring(6).toLowerCase().replace(/_([a-z])/g,function(e,t){return t.toUpperCase()}),r=process.env[t];return r=!!/^(yes|on|true|enabled)$/i.test(r)||!/^(no|off|false|disabled)$/i.test(r)&&("null"===r?null:Number(r)),e[n]=r,e},{});var i=parseInt(process.env.DEBUG_FD,10)||2;1!==i&&2!==i&&o.deprecate(function(){},"except for stderr(2) and stdout(1), any other usage of DEBUG_FD is deprecated. Override debug.log if you want to use a different log function (https://git.io/debug_fd)")();var s=1===i?process.stdout:2===i?process.stderr:function(e){var t;switch(process.binding("tty_wrap").guessHandleType(e)){case"TTY":(t=new r.WriteStream(e))._type="tty",t._handle&&t._handle.unref&&t._handle.unref();break;case"FILE":var o=n(3);(t=new o.SyncWriteStream(e,{autoClose:!1}))._type="fs";break;case"PIPE":case"TCP":var i=n(18);(t=new i.Socket({fd:e,readable:!1,writable:!0})).readable=!1,t.read=null,t._type="pipe",t._handle&&t._handle.unref&&t._handle.unref();break;default:throw new Error("Implement me. Unknown stream file type!")}return t.fd=e,t._isStdio=!0,t}(i);function a(){return process.env.DEBUG}t.formatters.o=function(e){return this.inspectOpts.colors=this.useColors,o.inspect(e,this.inspectOpts).split("\n").map(function(e){return e.trim()}).join(" ")},t.formatters.O=function(e){return this.inspectOpts.colors=this.useColors,o.inspect(e,this.inspectOpts)},t.enable(a())},function(e,t){e.exports=require("tty")},function(e,t,n){"use strict";function r(e){return"/"===e.charAt(0)}function o(e){var t=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/.exec(e),n=t[1]||"",r=Boolean(n&&":"!==n.charAt(1));return Boolean(t[2]||r)}e.exports="win32"===process.platform?o:r,e.exports.posix=r,e.exports.win32=o},function(e,t,n){"use strict";var r=n(7),o=n(36),i=n(17),s=n(19),a=n(46);const u=process.env.ELASTIC_APM_TEST;function c(e){this.transaction=e,this.started=!1,this.truncated=!1,this.ended=!1,this.name=null,this.type=null,this._db=null,this._timer=null,this._stackObj=null,this._agent=e._agent,this._agent.logger.debug("init span %o",{id:this.transaction.id})}function l(e){var t=e.getFileName();return!t||-1===t.indexOf("/node_modules/elastic-apm-node/")}e.exports=c,c.prototype.start=function(e,t){this.started?this._agent.logger.debug("tried to call span.start() on already started span %o",{id:this.transaction.id,name:this.name,type:this.type}):(this.started=!0,this.name=e||this.name||"unnamed",this.type=t||this.type||"custom",this._agent._conf.captureSpanStackTraces&&!this._stackObj&&this._recordStackTrace(),this._timer=new a,this._agent.logger.debug("start span %o",{id:this.transaction.id,name:e,type:t}))},c.prototype.customStackTrace=function(e){this._agent.logger.debug("applying custom stack trace to span %o",{id:this.transaction.id}),this._recordStackTrace(e)},c.prototype.truncate=function(){this.started?this.ended?this._agent.logger.debug("tried to truncate already ended span - ignoring %o",{id:this.transaction.id,name:this.name,type:this.type}):(this.truncated=!0,this.end()):this._agent.logger.debug("tried to truncate non-started span - ignoring %o",{id:this.transaction.id,name:this.name,type:this.type})},c.prototype.end=function(){this.started?this.ended?this._agent.logger.debug("tried to call span.end() on already ended span %o",{id:this.transaction.id,name:this.name,type:this.type}):(this._timer.end(),this._agent._instrumentation._recoverTransaction(this.transaction),this.ended=!0,this._agent.logger.debug("ended span %o",{id:this.transaction.id,name:this.name,type:this.type,truncated:this.truncated}),this.transaction._recordEndedSpan(this)):this._agent.logger.debug("tried to call span.end() on un-started span %o",{id:this.transaction.id,name:this.name,type:this.type})},c.prototype.duration=function(){return this.ended?this._timer.duration():(this._agent.logger.debug("tried to call span.duration() on un-ended span %o",{id:this.transaction.id,name:this.name,type:this.type}),null)},c.prototype.offsetTime=function(){return this.started?this._timer.offset(this.transaction._timer):(this._agent.logger.debug("tried to call span.offsetTime() for un-started span %o",{id:this.transaction.id,name:this.name,type:this.type}),null)},c.prototype.setDbContext=function(e){e&&(this._db=Object.assign(this._db||{},e))},c.prototype._recordStackTrace=function(e){e||(e={},Error.captureStackTrace(e,c.prototype.start));var t=this,n=new o;this._stackObj=n,s.callsites(e,function(e,o){if(e||!o)return t._agent.logger.debug("could not capture stack trace for span %o",{id:t.transaction.id,name:t.name,type:t.type,err:e&&e.message}),void n.reject(e);u||(o=o.filter(l));var s=r((e,t)=>{e?n.reject(e):n.resolve(t)});o.forEach(function(e){i.parseCallsite(e,!1,t._agent,s())})})},c.prototype._encode=function(e){var t=this;if(!this.started)return e(new Error("cannot encode un-started span"));if(!this.ended)return e(new Error("cannot encode un-ended span"));function n(n,r){n&&t._agent.logger.warn("could not capture stack trace for span %o",{id:t.transaction.id,name:t.name,type:t.type,err:n.message});var o={name:t.name,type:t.truncated?t.type+".truncated":t.type,start:t.offsetTime(),duration:t.duration()};r&&(o.stacktrace=r),t._db&&(o.context={db:t._db}),e(null,o)}this._agent._conf.captureSpanStackTraces&&this._stackObj?this._stackObj.then(e=>n(null,e),e=>n(e)):process.nextTick(n)}},function(e,t,n){"use strict";const r=n(187);e.exports=function(e){const t=r.createHook({init:function(t,r,o,i){if("TIMERWRAP"===r)return;n.set(t,e.currentTransaction)},destroy:function(e){if(!n.has(e))return;n.delete(e)}}),n=new Map;Object.defineProperty(e,"currentTransaction",{get(){const e=r.executionAsyncId();return n.has(e)?n.get(e):null},set(e){const t=r.executionAsyncId();n.set(t,e)}}),t.enable()}},function(e,t){e.exports=require("async_hooks")},function(e,t,n){"use strict";var r=n(189),o=n(1),i=n(0),s=i.wrap,a=i.massWrap,u=o.gte(process.version,"7.0.0"),c=o.gte(process.version,"11.0.0");e.exports=function(e){var t=n(18);function o(t){if(t&&t._handle){var n=t._handle;n._obOriginalOnread||(n._obOriginalOnread=n.onread),n.onread=e.bindFunction(n._obOriginalOnread)}}u&&!t._normalizeArgs?t._normalizeArgs=function(e){if(0===e.length)return[{},null];var t=e[0],n={};"object"==typeof t&&null!==t?n=t:!function(e){return"string"==typeof e&&!1===function(e){return(e=Number(e))>=0&&e}(e)}(t)?(n.port=t,e.length>1&&"string"==typeof e[1]&&(n.host=e[1])):n.path=t;var r=e[e.length-1];return"function"!=typeof r?[n,null]:[n,r]}:u||t._normalizeConnectArgs||(t._normalizeConnectArgs=function(e){var t={};"object"==typeof e[0]&&null!==e[0]?t=e[0]:"string"==typeof e[0]&&!1===function(e){return(e=Number(e))>=0&&e}(e[0])?t.path=e[0]:(t.port=e[0],"string"==typeof e[1]&&(t.host=e[1]));var n=e[e.length-1];return"function"==typeof n?[t,n]:[t]}),s(t.Server.prototype,"_listen2",function(t){return function(){this.on("connection",function(t){t._handle&&(t._handle.onread=e.bindFunction(t._handle.onread))});try{return t.apply(this,arguments)}finally{this._handle&&this._handle.onconnection&&(this._handle.onconnection=e.bindFunction(this._handle.onconnection))}}}),s(t.Socket.prototype,"connect",function(n){return function(){var r=u?t._normalizeArgs(arguments):t._normalizeConnectArgs(arguments);r[1]&&(r[1]=e.bindFunction(r[1]));var i=n.apply(this,r);return o(this),i}});var i=n(13);s(i.Agent.prototype,"addRequest",function(t){return function(n){var r=n.onSocket;return n.onSocket=e.bindFunction(function(e){return o(e),r.apply(this,arguments)}),t.apply(this,arguments)}});var l=n(191);function f(t){Array.isArray(t.stdio)&&t.stdio.forEach(function(t){t&&t._handle&&(t._handle.onread=e.bindFunction(t._handle.onread),s(t._handle,"close",E))}),t._handle&&(t._handle.onexit=e.bindFunction(t._handle.onexit))}l.ChildProcess?s(l.ChildProcess.prototype,"spawn",function(e){return function(){var t=e.apply(this,arguments);return f(this),t}}):a(l,["execFile","fork","spawn"],function(e){return function(){var t=e.apply(this,arguments);return f(t),t}}),process._fatalException||(process._originalNextTick=process.nextTick);var p=[];process._nextDomainTick&&p.push("_nextDomainTick"),process._tickDomainCallback&&p.push("_tickDomainCallback"),a(process,p,x),s(process,"nextTick",E);var h=["setTimeout","setInterval"];global.setImmediate&&h.push("setImmediate");var d=n(192),g=global.setTimeout===d.setTimeout;a(d,h,E),g&&a(global,h,E);var m=n(193);a(m,["lookup","resolve","resolve4","resolve6","resolveCname","resolveMx","resolveNs","resolveTxt","resolveSrv","reverse"],x),m.resolveNaptr&&s(m,"resolveNaptr",x);var v,y,_=n(3);a(_,["watch","rename","truncate","chown","fchown","chmod","fchmod","stat","lstat","fstat","link","symlink","readlink","realpath","unlink","rmdir","mkdir","readdir","close","open","utimes","futimes","fsync","write","read","readFile","writeFile","appendFile","watchFile","unwatchFile","exists"],x),_.lchown&&s(_,"lchown",x),_.lchmod&&s(_,"lchmod",x),_.ftruncate&&s(_,"ftruncate",x);try{v=n(27)}catch(e){}if(v&&v.Deflate&&v.Deflate.prototype){var b=Object.getPrototypeOf(v.Deflate.prototype);b._transform?s(b,"_transform",x):b.write&&b.flush&&b.end&&a(b,["write","flush","end"],x)}try{y=n(24)}catch(e){}if(y){var w=["pbkdf2","randomBytes"];c||w.push("pseudoRandomBytes"),a(y,w,x)}var S=r(global.Promise);function x(t){var n=function(){var n,r=arguments.length-1;if("function"==typeof arguments[r]){n=Array(arguments.length);for(var o=0;o<arguments.length-1;o++)n[o]=arguments[o];n[r]=e.bindFunction(arguments[r])}return t.apply(this,n||arguments)};switch(t.length){case 1:return function(r){return 1!==arguments.length?n.apply(this,arguments):("function"==typeof r&&(r=e.bindFunction(r)),t.call(this,r))};case 2:return function(r,o){return 2!==arguments.length?n.apply(this,arguments):("function"==typeof o&&(o=e.bindFunction(o)),t.call(this,r,o))};case 3:return function(r,o,i){return 3!==arguments.length?n.apply(this,arguments):("function"==typeof i&&(i=e.bindFunction(i)),t.call(this,r,o,i))};case 4:return function(r,o,i,s){return 4!==arguments.length?n.apply(this,arguments):("function"==typeof s&&(s=e.bindFunction(s)),t.call(this,r,o,i,s))};case 5:return function(r,o,i,s,a){return 5!==arguments.length?n.apply(this,arguments):("function"==typeof a&&(a=e.bindFunction(a)),t.call(this,r,o,i,s,a))};case 6:return function(r,o,i,s,a,u){return 6!==arguments.length?n.apply(this,arguments):("function"==typeof u&&(u=e.bindFunction(u)),t.call(this,r,o,i,s,a,u))};default:return n}}function E(t){var n=function(){var n;if("function"==typeof arguments[0]){(n=Array(arguments.length))[0]=e.bindFunction(arguments[0]);for(var r=1;r<arguments.length;r++)n[r]=arguments[r]}return t.apply(this,n||arguments)};switch(t.length){case 1:return function(r){return 1!==arguments.length?n.apply(this,arguments):("function"==typeof r&&(r=e.bindFunction(r)),t.call(this,r))};case 2:return function(r,o){return 2!==arguments.length?n.apply(this,arguments):("function"==typeof r&&(r=e.bindFunction(r)),t.call(this,r,o))};case 3:return function(r,o,i){return 3!==arguments.length?n.apply(this,arguments):("function"==typeof r&&(r=e.bindFunction(r)),t.call(this,r,o,i))};case 4:return function(r,o,i,s){return 4!==arguments.length?n.apply(this,arguments):("function"==typeof r&&(r=e.bindFunction(r)),t.call(this,r,o,i,s))};case 5:return function(r,o,i,s,a){return 5!==arguments.length?n.apply(this,arguments):("function"==typeof r&&(r=e.bindFunction(r)),t.call(this,r,o,i,s,a))};case 6:return function(r,o,i,s,a,u){return 6!==arguments.length?n.apply(this,arguments):("function"==typeof r&&(r=e.bindFunction(r)),t.call(this,r,o,i,s,a,u))};default:return n}}(S=S&&"Promise"===global.Promise.name)&&function(){var t=global.Promise;s(t.prototype,"then",n),t.prototype.chain&&s(t.prototype,"chain",n);function n(t){return function(){var n=t.apply(this,Array.prototype.map.call(arguments,function(t){return"function"!=typeof t?t:e.bindFunction(t)}));return n}}}()}},function(e,t,n){"use strict";var r=n(47),o=n(190);function i(e){var t=typeof e;return!!e&&("object"===t||"function"===t)}e.exports=function(e){if(!i(e))return!1;var t;if(function(e){var t=i(e)?Object.prototype.toString.call(e):"";return"[object Function]"===t||"[object GeneratorFunction]"===t}(e)||function(e){var t=!1;if(!r(e)&&"function"!=typeof e.toString)try{t=""+e!=""}catch(e){}return t}(e)){var n=Function.prototype.toString,s=Object.prototype.hasOwnProperty;t=new RegExp("^"+n.call(s).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$")}else t=/^\[object .+?Constructor\]$/;return t.test(o(e))}},function(e,t,n){"use strict";var r=n(47);e.exports=function(e){if(!r(e)){try{return Function.prototype.toString.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},function(e,t){e.exports=require("child_process")},function(e,t){e.exports=require("timers")},function(e,t){e.exports=require("dns")},function(e,t,n){var r={"./apollo-server-core":48,"./apollo-server-core.js":48,"./bluebird":49,"./bluebird.js":49,"./cassandra-driver":50,"./cassandra-driver.js":50,"./elasticsearch":51,"./elasticsearch.js":51,"./express":52,"./express-graphql":53,"./express-graphql.js":53,"./express-queue":54,"./express-queue.js":54,"./express.js":52,"./finalhandler":55,"./finalhandler.js":55,"./generic-pool":56,"./generic-pool.js":56,"./graphql":57,"./graphql.js":57,"./handlebars":58,"./handlebars.js":58,"./hapi":59,"./hapi.js":59,"./http":60,"./http.js":60,"./http2":63,"./http2.js":63,"./https":64,"./https.js":64,"./ioredis":65,"./ioredis.js":65,"./knex":66,"./knex.js":66,"./koa-router":67,"./koa-router.js":67,"./mimic-response":68,"./mimic-response.js":68,"./mongodb-core":69,"./mongodb-core.js":69,"./mysql":70,"./mysql.js":70,"./mysql2":71,"./mysql2.js":71,"./pg":72,"./pg.js":72,"./redis":73,"./redis.js":73,"./restify":74,"./restify.js":74,"./tedious":75,"./tedious.js":75,"./ws":76,"./ws.js":76};function o(e){var t=i(e);return n(t)}function i(e){var t=r[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}o.keys=function(){return Object.keys(r)},o.resolve=i,e.exports=o,o.id=194},function(e,t,n){var r=n(196);function o(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function i(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},n=e.name||"Function wrapped with `once`";return t.onceError=n+" shouldn't be called more than once",t.called=!1,t}e.exports=r(o),e.exports.strict=r(i),o.proto=o(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return o(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return i(this)},configurable:!0})})},function(e,t){e.exports=function e(t,n){if(t&&n)return e(t)(n);if("function"!=typeof t)throw new TypeError("need wrapper function");Object.keys(t).forEach(function(e){r[e]=t[e]});return r;function r(){for(var e=new Array(arguments.length),n=0;n<e.length;n++)e[n]=arguments[n];var r=t.apply(this,e),o=e[e.length-1];return"function"==typeof r&&r!==o&&Object.keys(o).forEach(function(e){r[e]=o[e]}),r}}},function(e){e.exports={schemaType:"s-transaction-function",schemaVersion:"0.0",timestamp:null,transactionId:null,traceId:null,tenantId:null,applicationName:null,serviceName:null,stageName:null,functionName:null,compute:{type:"unknown",runtime:null,region:null,memorySize:null,duration:null,custom:{}},event:{type:"unknown",source:null,time:null,custom:{}}}},function(e){e.exports={schemaType:"s-compute-aws-lambda",schemaVersion:"0.0",functionName:null,functionVersion:null,arn:null,region:null,memorySize:null,invokeId:null,awsRequestId:null,xTraceId:null,logGroupName:null,logStreamName:null,envPlatform:null,envArch:null,envMemoryTotal:null,envMemoryFree:null,envCpus:null}},function(e){e.exports={schemaType:"s-event-aws-apigateway-http",schemaVersion:"0.0",accountId:null,apiId:null,resourceId:null,domainPrefix:null,stage:null,domain:null,requestId:null,extendedRequestId:null,requestTime:null,requestTimeEpoch:null,httpPath:null,httpMethod:null,xTraceId:null,xForwardedFor:null,userAgent:null}}])});